/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
(function (window, undefined) {

	// Use the correct document accordingly with window argument (sandbox)
	var document = window.document,
		navigator = window.navigator,
		location = window.location;
	var jQuery = (function () {

		// Define a local copy of jQuery
		var jQuery = function (selector, context) {
			// The jQuery object is actually just the init constructor 'enhanced'
			return new jQuery.fn.init(selector, context, rootjQuery);
		},

			// Map over jQuery in case of overwrite
			_jQuery = window.jQuery,

			// Map over the $ in case of overwrite
			_$ = window.$,

			// A central reference to the root jQuery(document)
			rootjQuery,

			// A simple way to check for HTML strings or ID strings
			// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
			quickExpr = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,

			// Check if a string has a non-whitespace character in it
			rnotwhite = /\S/,

			// Used for trimming whitespace
			trimLeft = /^\s+/,
			trimRight = /\s+$/,

			// Match a standalone tag
			rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>)?$/,

			// JSON RegExp
			rvalidchars = /^[\],:{}\s]*$/,
			rvalidescape = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
			rvalidtokens = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
			rvalidbraces = /(?:^|:|,)(?:\s*\[)+/g,

			// Useragent RegExp
			rwebkit = /(webkit)[ \/]([\w.]+)/,
			ropera = /(opera)(?:.*version)?[ \/]([\w.]+)/,
			rmsie = /(msie) ([\w.]+)/,
			rmozilla = /(mozilla)(?:.*? rv:([\w.]+))?/,

			// Matches dashed string for camelizing
			rdashAlpha = /-([a-z]|[0-9])/ig,
			rmsPrefix = /^-ms-/,

			// Used by jQuery.camelCase as callback to replace()
			fcamelCase = function (all, letter) {
				return (letter + "").toUpperCase();
			},

			// Keep a UserAgent string for use with jQuery.browser
			userAgent = navigator.userAgent,

			// For matching the engine and version of the browser
			browserMatch,

			// The deferred used on DOM ready
			readyList,

			// The ready event handler
			DOMContentLoaded,

			// Save a reference to some core methods
			toString = Object.prototype.toString,
			hasOwn = Object.prototype.hasOwnProperty,
			push = Array.prototype.push,
			slice = Array.prototype.slice,
			trim = String.prototype.trim,
			indexOf = Array.prototype.indexOf,

			// [[Class]] -> type pairs
			class2type = {};

		jQuery.fn = jQuery.prototype = {
			constructor: jQuery,
			init: function (selector, context, rootjQuery) {
				var match, elem, ret, doc;

				// Handle $(""), $(null), or $(undefined)
				if (!selector) {
					return this;
				}

				// Handle $(DOMElement)
				if (selector.nodeType) {
					this.context = this[0] = selector;
					this.length = 1;
					return this;
				}

				// The body element only exists once, optimize finding it
				if (selector === "body" && !context && document.body) {
					this.context = document;
					this[0] = document.body;
					this.selector = selector;
					this.length = 1;
					return this;
				}

				// Handle HTML strings
				if (typeof selector === "string") {
					// Are we dealing with HTML string or an ID?
					if (selector.charAt(0) === "<" && selector.charAt(selector.length - 1) === ">" && selector.length >= 3) {
						// Assume that strings that start and end with <> are HTML and skip the regex check
						match = [null, selector, null];

					} else {
						match = quickExpr.exec(selector);
					}

					// Verify a match, and that no context was specified for #id
					if (match && (match[1] || !context)) {

						// HANDLE: $(html) -> $(array)
						if (match[1]) {
							context = context instanceof jQuery ? context[0] : context;
							doc = (context ? context.ownerDocument || context : document);

							// If a single string is passed in and it's a single tag
							// just do a createElement and skip the rest
							ret = rsingleTag.exec(selector);

							if (ret) {
								if (jQuery.isPlainObject(context)) {
									selector = [document.createElement(ret[1])];
									jQuery.fn.attr.call(selector, context, true);

								} else {
									selector = [doc.createElement(ret[1])];
								}

							} else {
								ret = jQuery.buildFragment([match[1]], [doc]);
								selector = (ret.cacheable ? jQuery.clone(ret.fragment) : ret.fragment).childNodes;
							}

							return jQuery.merge(this, selector);

							// HANDLE: $("#id")
						} else {
							elem = document.getElementById(match[2]);

							// Check parentNode to catch when Blackberry 4.6 returns
							// nodes that are no longer in the document #6963
							if (elem && elem.parentNode) {
								// Handle the case where IE and Opera return items
								// by name instead of ID
								if (elem.id !== match[2]) {
									return rootjQuery.find(selector);
								}

								// Otherwise, we inject the element directly into the jQuery object
								this.length = 1;
								this[0] = elem;
							}

							this.context = document;
							this.selector = selector;
							return this;
						}

						// HANDLE: $(expr, $(...))
					} else if (!context || context.jquery) {
						return (context || rootjQuery).find(selector);

						// HANDLE: $(expr, context)
						// (which is just equivalent to: $(context).find(expr)
					} else {
						return this.constructor(context).find(selector);
					}

					// HANDLE: $(function)
					// Shortcut for document ready
				} else if (jQuery.isFunction(selector)) {
					return rootjQuery.ready(selector);
				}

				if (selector.selector !== undefined) {
					this.selector = selector.selector;
					this.context = selector.context;
				}

				return jQuery.makeArray(selector, this);
			},

			// Start with an empty selector
			selector: "",

			// The current version of jQuery being used
			jquery: "1.7.2",

			// The default length of a jQuery object is 0
			length: 0,

			// The number of elements contained in the matched element set
			size: function () {
				return this.length;
			},

			toArray: function () {
				return slice.call(this, 0);
			},

			// Get the Nth element in the matched element set OR
			// Get the whole matched element set as a clean array
			get: function (num) {
				return num == null ?

					// Return a 'clean' array
					this.toArray() :

					// Return just the object
					(num < 0 ? this[this.length + num] : this[num]);
			},

			// Take an array of elements and push it onto the stack
			// (returning the new matched element set)
			pushStack: function (elems, name, selector) {
				// Build a new jQuery matched element set
				var ret = this.constructor();

				if (jQuery.isArray(elems)) {
					push.apply(ret, elems);

				} else {
					jQuery.merge(ret, elems);
				}

				// Add the old object onto the stack (as a reference)
				ret.prevObject = this;

				ret.context = this.context;

				if (name === "find") {
					ret.selector = this.selector + (this.selector ? " " : "") + selector;
				} else if (name) {
					ret.selector = this.selector + "." + name + "(" + selector + ")";
				}

				// Return the newly-formed element set
				return ret;
			},

			// Execute a callback for every element in the matched set.
			// (You can seed the arguments with an array of args, but this is
			// only used internally.)
			each: function (callback, args) {
				return jQuery.each(this, callback, args);
			},

			ready: function (fn) {
				// Attach the listeners
				jQuery.bindReady();

				// Add the callback
				readyList.add(fn);

				return this;
			},

			eq: function (i) {
				i = +i;
				return i === -1 ?
					this.slice(i) :
					this.slice(i, i + 1);
			},

			first: function () {
				return this.eq(0);
			},

			last: function () {
				return this.eq(-1);
			},

			slice: function () {
				return this.pushStack(slice.apply(this, arguments),
					"slice", slice.call(arguments).join(","));
			},

			map: function (callback) {
				return this.pushStack(jQuery.map(this, function (elem, i) {
					return callback.call(elem, i, elem);
				}));
			},

			end: function () {
				return this.prevObject || this.constructor(null);
			},

			// For internal use only.
			// Behaves like an Array's method, not like a jQuery method.
			push: push,
			sort: [].sort,
			splice: [].splice
		};

		// Give the init function the jQuery prototype for later instantiation
		jQuery.fn.init.prototype = jQuery.fn;

		jQuery.extend = jQuery.fn.extend = function () {
			var options, name, src, copy, copyIsArray, clone,
				target = arguments[0] || {},
				i = 1,
				length = arguments.length,
				deep = false;

			// Handle a deep copy situation
			if (typeof target === "boolean") {
				deep = target;
				target = arguments[1] || {};
				// skip the boolean and the target
				i = 2;
			}

			// Handle case when target is a string or something (possible in deep copy)
			if (typeof target !== "object" && !jQuery.isFunction(target)) {
				target = {};
			}

			// extend jQuery itself if only one argument is passed
			if (length === i) {
				target = this;
				--i;
			}

			for (; i < length; i++) {
				// Only deal with non-null/undefined values
				if ((options = arguments[i]) != null) {
					// Extend the base object
					for (name in options) {
						src = target[name];
						copy = options[name];

						// Prevent never-ending loop
						if (target === copy) {
							continue;
						}

						// Recurse if we're merging plain objects or arrays
						if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {
							if (copyIsArray) {
								copyIsArray = false;
								clone = src && jQuery.isArray(src) ? src : [];

							} else {
								clone = src && jQuery.isPlainObject(src) ? src : {};
							}

							// Never move original objects, clone them
							target[name] = jQuery.extend(deep, clone, copy);

							// Don't bring in undefined values
						} else if (copy !== undefined) {
							target[name] = copy;
						}
					}
				}
			}

			// Return the modified object
			return target;
		};

		jQuery.extend({
			noConflict: function (deep) {
				if (window.$ === jQuery) {
					window.$ = _$;
				}

				if (deep && window.jQuery === jQuery) {
					window.jQuery = _jQuery;
				}

				return jQuery;
			},

			// Is the DOM ready to be used? Set to true once it occurs.
			isReady: false,

			// A counter to track how many items to wait for before
			// the ready event fires. See #6781
			readyWait: 1,

			// Hold (or release) the ready event
			holdReady: function (hold) {
				if (hold) {
					jQuery.readyWait++;
				} else {
					jQuery.ready(true);
				}
			},

			// Handle when the DOM is ready
			ready: function (wait) {
				// Either a released hold or an DOMready/load event and not yet ready
				if ((wait === true && !--jQuery.readyWait) || (wait !== true && !jQuery.isReady)) {
					// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
					if (!document.body) {
						return setTimeout(jQuery.ready, 1);
					}

					// Remember that the DOM is ready
					jQuery.isReady = true;

					// If a normal DOM Ready event fired, decrement, and wait if need be
					if (wait !== true && --jQuery.readyWait > 0) {
						return;
					}

					// If there are functions bound, to execute
					readyList.fireWith(document, [jQuery]);

					// Trigger any bound ready events
					if (jQuery.fn.trigger) {
						jQuery(document).trigger("ready").off("ready");
					}
				}
			},

			bindReady: function () {
				if (readyList) {
					return;
				}

				readyList = jQuery.Callbacks("once memory");

				// Catch cases where $(document).ready() is called after the
				// browser event has already occurred.
				if (document.readyState === "complete") {
					// Handle it asynchronously to allow scripts the opportunity to delay ready
					return setTimeout(jQuery.ready, 1);
				}

				// Mozilla, Opera and webkit nightlies currently support this event
				if (document.addEventListener) {
					// Use the handy event callback
					document.addEventListener("DOMContentLoaded", DOMContentLoaded, false);

					// A fallback to window.onload, that will always work
					window.addEventListener("load", jQuery.ready, false);

					// If IE event model is used
				} else if (document.attachEvent) {
					// ensure firing before onload,
					// maybe late but safe also for iframes
					document.attachEvent("onreadystatechange", DOMContentLoaded);

					// A fallback to window.onload, that will always work
					window.attachEvent("onload", jQuery.ready);

					// If IE and not a frame
					// continually check to see if the document is ready
					var toplevel = false;

					try {
						toplevel = window.frameElement == null;
					} catch (e) { }

					if (document.documentElement.doScroll && toplevel) {
						doScrollCheck();
					}
				}
			},

			// See test/unit/core.js for details concerning isFunction.
			// Since version 1.3, DOM methods and functions like alert
			// aren't supported. They return false on IE (#2968).
			isFunction: function (obj) {
				return jQuery.type(obj) === "function";
			},

			isArray: Array.isArray || function (obj) {
				return jQuery.type(obj) === "array";
			},

			isWindow: function (obj) {
				return obj != null && obj == obj.window;
			},

			isNumeric: function (obj) {
				return !isNaN(parseFloat(obj)) && isFinite(obj);
			},

			type: function (obj) {
				return obj == null ?
					String(obj) :
					class2type[toString.call(obj)] || "object";
			},

			isPlainObject: function (obj) {
				// Must be an Object.
				// Because of IE, we also have to check the presence of the constructor property.
				// Make sure that DOM nodes and window objects don't pass through, as well
				if (!obj || jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow(obj)) {
					return false;
				}

				try {
					// Not own constructor property must be Object
					if (obj.constructor &&
						!hasOwn.call(obj, "constructor") &&
						!hasOwn.call(obj.constructor.prototype, "isPrototypeOf")) {
						return false;
					}
				} catch (e) {
					// IE8,9 Will throw exceptions on certain host objects #9897
					return false;
				}

				// Own properties are enumerated firstly, so to speed up,
				// if last one is own, then all properties are own.

				var key;
				for (key in obj) { }

				return key === undefined || hasOwn.call(obj, key);
			},

			isEmptyObject: function (obj) {
				for (var name in obj) {
					return false;
				}
				return true;
			},

			error: function (msg) {
				throw new Error(msg);
			},

			parseJSON: function (data) {
				if (typeof data !== "string" || !data) {
					return null;
				}

				// Make sure leading/trailing whitespace is removed (IE can't handle it)
				data = jQuery.trim(data);

				// Attempt to parse using the native JSON parser first
				if (window.JSON && window.JSON.parse) {
					return window.JSON.parse(data);
				}

				// Make sure the incoming data is actual JSON
				// Logic borrowed from http://json.org/json2.js
				if (rvalidchars.test(data.replace(rvalidescape, "@")
					.replace(rvalidtokens, "]")
					.replace(rvalidbraces, ""))) {

					return (new Function("return " + data))();

				}
				jQuery.error("Invalid JSON: " + data);
			},

			// Cross-browser xml parsing
			parseXML: function (data) {
				if (typeof data !== "string" || !data) {
					return null;
				}
				var xml, tmp;
				try {
					if (window.DOMParser) { // Standard
						tmp = new DOMParser();
						xml = tmp.parseFromString(data, "text/xml");
					} else { // IE
						xml = new ActiveXObject("Microsoft.XMLDOM");
						xml.async = "false";
						xml.loadXML(data);
					}
				} catch (e) {
					xml = undefined;
				}
				if (!xml || !xml.documentElement || xml.getElementsByTagName("parsererror").length) {
					jQuery.error("Invalid XML: " + data);
				}
				return xml;
			},

			noop: function () { },

			// Evaluates a script in a global context
			// Workarounds based on findings by Jim Driscoll
			// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context
			globalEval: function (data) {
				if (data && rnotwhite.test(data)) {
					// We use execScript on Internet Explorer
					// We use an anonymous function so that context is window
					// rather than jQuery in Firefox
					(window.execScript || function (data) {
						window["eval"].call(window, data);
					})(data);
				}
			},

			// Convert dashed to camelCase; used by the css and data modules
			// Microsoft forgot to hump their vendor prefix (#9572)
			camelCase: function (string) {
				return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
			},

			nodeName: function (elem, name) {
				return elem.nodeName && elem.nodeName.toUpperCase() === name.toUpperCase();
			},

			// args is for internal usage only
			each: function (object, callback, args) {
				var name, i = 0,
					length = object.length,
					isObj = length === undefined || jQuery.isFunction(object);

				if (args) {
					if (isObj) {
						for (name in object) {
							if (callback.apply(object[name], args) === false) {
								break;
							}
						}
					} else {
						for (; i < length;) {
							if (callback.apply(object[i++], args) === false) {
								break;
							}
						}
					}

					// A special, fast, case for the most common use of each
				} else {
					if (isObj) {
						for (name in object) {
							if (callback.call(object[name], name, object[name]) === false) {
								break;
							}
						}
					} else {
						for (; i < length;) {
							if (callback.call(object[i], i, object[i++]) === false) {
								break;
							}
						}
					}
				}

				return object;
			},

			// Use native String.trim function wherever possible
			trim: trim ?
				function (text) {
					return text == null ?
						"" :
						trim.call(text);
				} :

				// Otherwise use our own trimming functionality
				function (text) {
					return text == null ?
						"" :
						text.toString().replace(trimLeft, "").replace(trimRight, "");
				},

			// results is for internal usage only
			makeArray: function (array, results) {
				var ret = results || [];

				if (array != null) {
					// The window, strings (and functions) also have 'length'
					// Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930
					var type = jQuery.type(array);

					if (array.length == null || type === "string" || type === "function" || type === "regexp" || jQuery.isWindow(array)) {
						push.call(ret, array);
					} else {
						jQuery.merge(ret, array);
					}
				}

				return ret;
			},

			inArray: function (elem, array, i) {
				var len;

				if (array) {
					if (indexOf) {
						return indexOf.call(array, elem, i);
					}

					len = array.length;
					i = i ? i < 0 ? Math.max(0, len + i) : i : 0;

					for (; i < len; i++) {
						// Skip accessing in sparse arrays
						if (i in array && array[i] === elem) {
							return i;
						}
					}
				}

				return -1;
			},

			merge: function (first, second) {
				var i = first.length,
					j = 0;

				if (typeof second.length === "number") {
					for (var l = second.length; j < l; j++) {
						first[i++] = second[j];
					}

				} else {
					while (second[j] !== undefined) {
						first[i++] = second[j++];
					}
				}

				first.length = i;

				return first;
			},

			grep: function (elems, callback, inv) {
				var ret = [], retVal;
				inv = !!inv;

				// Go through the array, only saving the items
				// that pass the validator function
				for (var i = 0, length = elems.length; i < length; i++) {
					retVal = !!callback(elems[i], i);
					if (inv !== retVal) {
						ret.push(elems[i]);
					}
				}

				return ret;
			},

			// arg is for internal usage only
			map: function (elems, callback, arg) {
				var value, key, ret = [],
					i = 0,
					length = elems.length,
					// jquery objects are treated as arrays
					isArray = elems instanceof jQuery || length !== undefined && typeof length === "number" && ((length > 0 && elems[0] && elems[length - 1]) || length === 0 || jQuery.isArray(elems));

				// Go through the array, translating each of the items to their
				if (isArray) {
					for (; i < length; i++) {
						value = callback(elems[i], i, arg);

						if (value != null) {
							ret[ret.length] = value;
						}
					}

					// Go through every key on the object,
				} else {
					for (key in elems) {
						value = callback(elems[key], key, arg);

						if (value != null) {
							ret[ret.length] = value;
						}
					}
				}

				// Flatten any nested arrays
				return ret.concat.apply([], ret);
			},

			// A global GUID counter for objects
			guid: 1,

			// Bind a function to a context, optionally partially applying any
			// arguments.
			proxy: function (fn, context) {
				if (typeof context === "string") {
					var tmp = fn[context];
					context = fn;
					fn = tmp;
				}

				// Quick check to determine if target is callable, in the spec
				// this throws a TypeError, but we will just return undefined.
				if (!jQuery.isFunction(fn)) {
					return undefined;
				}

				// Simulated bind
				var args = slice.call(arguments, 2),
					proxy = function () {
						return fn.apply(context, args.concat(slice.call(arguments)));
					};

				// Set the guid of unique handler to the same of original handler, so it can be removed
				proxy.guid = fn.guid = fn.guid || proxy.guid || jQuery.guid++;

				return proxy;
			},

			// Mutifunctional method to get and set values to a collection
			// The value/s can optionally be executed if it's a function
			access: function (elems, fn, key, value, chainable, emptyGet, pass) {
				var exec,
					bulk = key == null,
					i = 0,
					length = elems.length;

				// Sets many values
				if (key && typeof key === "object") {
					for (i in key) {
						jQuery.access(elems, fn, i, key[i], 1, emptyGet, value);
					}
					chainable = 1;

					// Sets one value
				} else if (value !== undefined) {
					// Optionally, function values get executed if exec is true
					exec = pass === undefined && jQuery.isFunction(value);

					if (bulk) {
						// Bulk operations only iterate when executing function values
						if (exec) {
							exec = fn;
							fn = function (elem, key, value) {
								return exec.call(jQuery(elem), value);
							};

							// Otherwise they run against the entire set
						} else {
							fn.call(elems, value);
							fn = null;
						}
					}

					if (fn) {
						for (; i < length; i++) {
							fn(elems[i], key, exec ? value.call(elems[i], i, fn(elems[i], key)) : value, pass);
						}
					}

					chainable = 1;
				}

				return chainable ?
					elems :

					// Gets
					bulk ?
						fn.call(elems) :
						length ? fn(elems[0], key) : emptyGet;
			},

			now: function () {
				return (new Date()).getTime();
			},

			// Use of jQuery.browser is frowned upon.
			// More details: http://docs.jquery.com/Utilities/jQuery.browser
			uaMatch: function (ua) {
				ua = ua.toLowerCase();

				var match = rwebkit.exec(ua) ||
					ropera.exec(ua) ||
					rmsie.exec(ua) ||
					ua.indexOf("compatible") < 0 && rmozilla.exec(ua) ||
					[];

				return { browser: match[1] || "", version: match[2] || "0" };
			},

			sub: function () {
				function jQuerySub(selector, context) {
					return new jQuerySub.fn.init(selector, context);
				}
				jQuery.extend(true, jQuerySub, this);
				jQuerySub.superclass = this;
				jQuerySub.fn = jQuerySub.prototype = this();
				jQuerySub.fn.constructor = jQuerySub;
				jQuerySub.sub = this.sub;
				jQuerySub.fn.init = function init(selector, context) {
					if (context && context instanceof jQuery && !(context instanceof jQuerySub)) {
						context = jQuerySub(context);
					}

					return jQuery.fn.init.call(this, selector, context, rootjQuerySub);
				};
				jQuerySub.fn.init.prototype = jQuerySub.fn;
				var rootjQuerySub = jQuerySub(document);
				return jQuerySub;
			},

			browser: {}
		});

		// Populate the class2type map
		jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "), function (i, name) {
			class2type["[object " + name + "]"] = name.toLowerCase();
		});

		browserMatch = jQuery.uaMatch(userAgent);
		if (browserMatch.browser) {
			jQuery.browser[browserMatch.browser] = true;
			jQuery.browser.version = browserMatch.version;
		}

		// Deprecated, use jQuery.browser.webkit instead
		if (jQuery.browser.webkit) {
			jQuery.browser.safari = true;
		}

		// IE doesn't match non-breaking spaces with \s
		if (rnotwhite.test("\xA0")) {
			trimLeft = /^[\s\xA0]+/;
			trimRight = /[\s\xA0]+$/;
		}

		// All jQuery objects should point back to these
		rootjQuery = jQuery(document);

		// Cleanup functions for the document ready method
		if (document.addEventListener) {
			DOMContentLoaded = function () {
				document.removeEventListener("DOMContentLoaded", DOMContentLoaded, false);
				jQuery.ready();
			};

		} else if (document.attachEvent) {
			DOMContentLoaded = function () {
				// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
				if (document.readyState === "complete") {
					document.detachEvent("onreadystatechange", DOMContentLoaded);
					jQuery.ready();
				}
			};
		}

		// The DOM ready check for Internet Explorer
		function doScrollCheck() {
			if (jQuery.isReady) {
				return;
			}

			try {
				// If IE is used, use the trick by Diego Perini
				// http://javascript.nwbox.com/IEContentLoaded/
				document.documentElement.doScroll("left");
			} catch (e) {
				setTimeout(doScrollCheck, 1);
				return;
			}

			// and execute any waiting functions
			jQuery.ready();
		}

		return jQuery;

	})();


	// String to Object flags format cache
	var flagsCache = {};

	// Convert String-formatted flags into Object-formatted ones and store in cache
	function createFlags(flags) {
		var object = flagsCache[flags] = {},
			i, length;
		flags = flags.split(/\s+/);
		for (i = 0, length = flags.length; i < length; i++) {
			object[flags[i]] = true;
		}
		return object;
	}

	/*
	 * Create a callback list using the following parameters:
	 *
	 *	flags:	an optional list of space-separated flags that will change how
	 *			the callback list behaves
	 *
	 * By default a callback list will act like an event callback list and can be
	 * "fired" multiple times.
	 *
	 * Possible flags:
	 *
	 *	once:			will ensure the callback list can only be fired once (like a Deferred)
	 *
	 *	memory:			will keep track of previous values and will call any callback added
	 *					after the list has been fired right away with the latest "memorized"
	 *					values (like a Deferred)
	 *
	 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
	 *
	 *	stopOnFalse:	interrupt callings when a callback returns false
	 *
	 */
	jQuery.Callbacks = function (flags) {

		// Convert flags from String-formatted to Object-formatted
		// (we check in cache first)
		flags = flags ? (flagsCache[flags] || createFlags(flags)) : {};

		var // Actual callback list
			list = [],
			// Stack of fire calls for repeatable lists
			stack = [],
			// Last fire value (for non-forgettable lists)
			memory,
			// Flag to know if list was already fired
			fired,
			// Flag to know if list is currently firing
			firing,
			// First callback to fire (used internally by add and fireWith)
			firingStart,
			// End of the loop when firing
			firingLength,
			// Index of currently firing callback (modified by remove if needed)
			firingIndex,
			// Add one or several callbacks to the list
			add = function (args) {
				var i,
					length,
					elem,
					type,
					actual;
				for (i = 0, length = args.length; i < length; i++) {
					elem = args[i];
					type = jQuery.type(elem);
					if (type === "array") {
						// Inspect recursively
						add(elem);
					} else if (type === "function") {
						// Add if not in unique mode and callback is not in
						if (!flags.unique || !self.has(elem)) {
							list.push(elem);
						}
					}
				}
			},
			// Fire callbacks
			fire = function (context, args) {
				args = args || [];
				memory = !flags.memory || [context, args];
				fired = true;
				firing = true;
				firingIndex = firingStart || 0;
				firingStart = 0;
				firingLength = list.length;
				for (; list && firingIndex < firingLength; firingIndex++) {
					if (list[firingIndex].apply(context, args) === false && flags.stopOnFalse) {
						memory = true; // Mark as halted
						break;
					}
				}
				firing = false;
				if (list) {
					if (!flags.once) {
						if (stack && stack.length) {
							memory = stack.shift();
							self.fireWith(memory[0], memory[1]);
						}
					} else if (memory === true) {
						self.disable();
					} else {
						list = [];
					}
				}
			},
			// Actual Callbacks object
			self = {
				// Add a callback or a collection of callbacks to the list
				add: function () {
					if (list) {
						var length = list.length;
						add(arguments);
						// Do we need to add the callbacks to the
						// current firing batch?
						if (firing) {
							firingLength = list.length;
							// With memory, if we're not firing then
							// we should call right away, unless previous
							// firing was halted (stopOnFalse)
						} else if (memory && memory !== true) {
							firingStart = length;
							fire(memory[0], memory[1]);
						}
					}
					return this;
				},
				// Remove a callback from the list
				remove: function () {
					if (list) {
						var args = arguments,
							argIndex = 0,
							argLength = args.length;
						for (; argIndex < argLength ; argIndex++) {
							for (var i = 0; i < list.length; i++) {
								if (args[argIndex] === list[i]) {
									// Handle firingIndex and firingLength
									if (firing) {
										if (i <= firingLength) {
											firingLength--;
											if (i <= firingIndex) {
												firingIndex--;
											}
										}
									}
									// Remove the element
									list.splice(i--, 1);
									// If we have some unicity property then
									// we only need to do this once
									if (flags.unique) {
										break;
									}
								}
							}
						}
					}
					return this;
				},
				// Control if a given callback is in the list
				has: function (fn) {
					if (list) {
						var i = 0,
							length = list.length;
						for (; i < length; i++) {
							if (fn === list[i]) {
								return true;
							}
						}
					}
					return false;
				},
				// Remove all callbacks from the list
				empty: function () {
					list = [];
					return this;
				},
				// Have the list do nothing anymore
				disable: function () {
					list = stack = memory = undefined;
					return this;
				},
				// Is it disabled?
				disabled: function () {
					return !list;
				},
				// Lock the list in its current state
				lock: function () {
					stack = undefined;
					if (!memory || memory === true) {
						self.disable();
					}
					return this;
				},
				// Is it locked?
				locked: function () {
					return !stack;
				},
				// Call all callbacks with the given context and arguments
				fireWith: function (context, args) {
					if (stack) {
						if (firing) {
							if (!flags.once) {
								stack.push([context, args]);
							}
						} else if (!(flags.once && memory)) {
							fire(context, args);
						}
					}
					return this;
				},
				// Call all the callbacks with the given arguments
				fire: function () {
					self.fireWith(this, arguments);
					return this;
				},
				// To know if the callbacks have already been called at least once
				fired: function () {
					return !!fired;
				}
			};

		return self;
	};




	var // Static reference to slice
		sliceDeferred = [].slice;

	jQuery.extend({

		Deferred: function (func) {
			var doneList = jQuery.Callbacks("once memory"),
				failList = jQuery.Callbacks("once memory"),
				progressList = jQuery.Callbacks("memory"),
				state = "pending",
				lists = {
					resolve: doneList,
					reject: failList,
					notify: progressList
				},
				promise = {
					done: doneList.add,
					fail: failList.add,
					progress: progressList.add,

					state: function () {
						return state;
					},

					// Deprecated
					isResolved: doneList.fired,
					isRejected: failList.fired,

					then: function (doneCallbacks, failCallbacks, progressCallbacks) {
						deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks);
						return this;
					},
					always: function () {
						deferred.done.apply(deferred, arguments).fail.apply(deferred, arguments);
						return this;
					},
					pipe: function (fnDone, fnFail, fnProgress) {
						return jQuery.Deferred(function (newDefer) {
							jQuery.each({
								done: [fnDone, "resolve"],
								fail: [fnFail, "reject"],
								progress: [fnProgress, "notify"]
							}, function (handler, data) {
								var fn = data[0],
									action = data[1],
									returned;
								if (jQuery.isFunction(fn)) {
									deferred[handler](function () {
										returned = fn.apply(this, arguments);
										if (returned && jQuery.isFunction(returned.promise)) {
											returned.promise().then(newDefer.resolve, newDefer.reject, newDefer.notify);
										} else {
											newDefer[action + "With"](this === deferred ? newDefer : this, [returned]);
										}
									});
								} else {
									deferred[handler](newDefer[action]);
								}
							});
						}).promise();
					},
					// Get a promise for this deferred
					// If obj is provided, the promise aspect is added to the object
					promise: function (obj) {
						if (obj == null) {
							obj = promise;
						} else {
							for (var key in promise) {
								obj[key] = promise[key];
							}
						}
						return obj;
					}
				},
				deferred = promise.promise({}),
				key;

			for (key in lists) {
				deferred[key] = lists[key].fire;
				deferred[key + "With"] = lists[key].fireWith;
			}

			// Handle state
			deferred.done(function () {
				state = "resolved";
			}, failList.disable, progressList.lock).fail(function () {
				state = "rejected";
			}, doneList.disable, progressList.lock);

			// Call given func if any
			if (func) {
				func.call(deferred, deferred);
			}

			// All done!
			return deferred;
		},

		// Deferred helper
		when: function (firstParam) {
			var args = sliceDeferred.call(arguments, 0),
				i = 0,
				length = args.length,
				pValues = new Array(length),
				count = length,
				pCount = length,
				deferred = length <= 1 && firstParam && jQuery.isFunction(firstParam.promise) ?
				firstParam :
					jQuery.Deferred(),
				promise = deferred.promise();
			function resolveFunc(i) {
				return function (value) {
					args[i] = arguments.length > 1 ? sliceDeferred.call(arguments, 0) : value;
					if (!(--count)) {
						deferred.resolveWith(deferred, args);
					}
				};
			}
			function progressFunc(i) {
				return function (value) {
					pValues[i] = arguments.length > 1 ? sliceDeferred.call(arguments, 0) : value;
					deferred.notifyWith(promise, pValues);
				};
			}
			if (length > 1) {
				for (; i < length; i++) {
					if (args[i] && args[i].promise && jQuery.isFunction(args[i].promise)) {
						args[i].promise().then(resolveFunc(i), deferred.reject, progressFunc(i));
					} else {
						--count;
					}
				}
				if (!count) {
					deferred.resolveWith(deferred, args);
				}
			} else if (deferred !== firstParam) {
				deferred.resolveWith(deferred, length ? [firstParam] : []);
			}
			return promise;
		}
	});




	jQuery.support = (function () {

		var support,
			all,
			a,
			select,
			opt,
			input,
			fragment,
			tds,
			events,
			eventName,
			i,
			isSupported,
			div = document.createElement("div"),
			documentElement = document.documentElement;

		// Preliminary tests
		div.setAttribute("className", "t");
		div.innerHTML = "   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";

		all = div.getElementsByTagName("*");
		a = div.getElementsByTagName("a")[0];

		// Can't get basic test support
		if (!all || !all.length || !a) {
			return {};
		}

		// First batch of supports tests
		select = document.createElement("select");
		opt = select.appendChild(document.createElement("option"));
		input = div.getElementsByTagName("input")[0];

		support = {
			// IE strips leading whitespace when .innerHTML is used
			leadingWhitespace: (div.firstChild.nodeType === 3),

			// Make sure that tbody elements aren't automatically inserted
			// IE will insert them into empty tables
			tbody: !div.getElementsByTagName("tbody").length,

			// Make sure that link elements get serialized correctly by innerHTML
			// This requires a wrapper element in IE
			htmlSerialize: !!div.getElementsByTagName("link").length,

			// Get the style information from getAttribute
			// (IE uses .cssText instead)
			style: /top/.test(a.getAttribute("style")),

			// Make sure that URLs aren't manipulated
			// (IE normalizes it by default)
			hrefNormalized: (a.getAttribute("href") === "/a"),

			// Make sure that element opacity exists
			// (IE uses filter instead)
			// Use a regex to work around a WebKit issue. See #5145
			opacity: /^0.55/.test(a.style.opacity),

			// Verify style float existence
			// (IE uses styleFloat instead of cssFloat)
			cssFloat: !!a.style.cssFloat,

			// Make sure that if no value is specified for a checkbox
			// that it defaults to "on".
			// (WebKit defaults to "" instead)
			checkOn: (input.value === "on"),

			// Make sure that a selected-by-default option has a working selected property.
			// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)
			optSelected: opt.selected,

			// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)
			getSetAttribute: div.className !== "t",

			// Tests for enctype support on a form(#6743)
			enctype: !!document.createElement("form").enctype,

			// Makes sure cloning an html5 element does not cause problems
			// Where outerHTML is undefined, this still works
			html5Clone: document.createElement("nav").cloneNode(true).outerHTML !== "<:nav></:nav>",

			// Will be defined later
			submitBubbles: true,
			changeBubbles: true,
			focusinBubbles: false,
			deleteExpando: true,
			noCloneEvent: true,
			inlineBlockNeedsLayout: false,
			shrinkWrapBlocks: false,
			reliableMarginRight: true,
			pixelMargin: true
		};

		// jQuery.boxModel DEPRECATED in 1.3, use jQuery.support.boxModel instead
		jQuery.boxModel = support.boxModel = (document.compatMode === "CSS1Compat");

		// Make sure checked status is properly cloned
		input.checked = true;
		support.noCloneChecked = input.cloneNode(true).checked;

		// Make sure that the options inside disabled selects aren't marked as disabled
		// (WebKit marks them as disabled)
		select.disabled = true;
		support.optDisabled = !opt.disabled;

		// Test to see if it's possible to delete an expando from an element
		// Fails in Internet Explorer
		try {
			delete div.test;
		} catch (e) {
			support.deleteExpando = false;
		}

		if (!div.addEventListener && div.attachEvent && div.fireEvent) {
			div.attachEvent("onclick", function () {
				// Cloning a node shouldn't copy over any
				// bound event handlers (IE does this)
				support.noCloneEvent = false;
			});
			div.cloneNode(true).fireEvent("onclick");
		}

		// Check if a radio maintains its value
		// after being appended to the DOM
		input = document.createElement("input");
		input.value = "t";
		input.setAttribute("type", "radio");
		support.radioValue = input.value === "t";

		input.setAttribute("checked", "checked");

		// #11217 - WebKit loses check when the name is after the checked attribute
		input.setAttribute("name", "t");

		div.appendChild(input);
		fragment = document.createDocumentFragment();
		fragment.appendChild(div.lastChild);

		// WebKit doesn't clone checked state correctly in fragments
		support.checkClone = fragment.cloneNode(true).cloneNode(true).lastChild.checked;

		// Check if a disconnected checkbox will retain its checked
		// value of true after appended to the DOM (IE6/7)
		support.appendChecked = input.checked;

		fragment.removeChild(input);
		fragment.appendChild(div);

		// Technique from Juriy Zaytsev
		// http://perfectionkills.com/detecting-event-support-without-browser-sniffing/
		// We only care about the case where non-standard event systems
		// are used, namely in IE. Short-circuiting here helps us to
		// avoid an eval call (in setAttribute) which can cause CSP
		// to go haywire. See: https://developer.mozilla.org/en/Security/CSP
		if (div.attachEvent) {
			for (i in {
				submit: 1,
				change: 1,
				focusin: 1
			}) {
				eventName = "on" + i;
				isSupported = (eventName in div);
				if (!isSupported) {
					div.setAttribute(eventName, "return;");
					isSupported = (typeof div[eventName] === "function");
				}
				support[i + "Bubbles"] = isSupported;
			}
		}

		fragment.removeChild(div);

		// Null elements to avoid leaks in IE
		fragment = select = opt = div = input = null;

		// Run tests that need a body at doc ready
		jQuery(function () {
			var container, outer, inner, table, td, offsetSupport,
				marginDiv, conMarginTop, style, html, positionTopLeftWidthHeight,
				paddingMarginBorderVisibility, paddingMarginBorder,
				body = document.getElementsByTagName("body")[0];

			if (!body) {
				// Return for frameset docs that don't have a body
				return;
			}

			conMarginTop = 1;
			paddingMarginBorder = "padding:0;margin:0;border:";
			positionTopLeftWidthHeight = "position:absolute;top:0;left:0;width:1px;height:1px;";
			paddingMarginBorderVisibility = paddingMarginBorder + "0;visibility:hidden;";
			style = "style='" + positionTopLeftWidthHeight + paddingMarginBorder + "5px solid #000;";
			html = "<div " + style + "display:block;'><div style='" + paddingMarginBorder + "0;display:block;overflow:hidden;'></div></div>" +
				"<table " + style + "' cellpadding='0' cellspacing='0'>" +
				"<tr><td></td></tr></table>";

			container = document.createElement("div");
			container.style.cssText = paddingMarginBorderVisibility + "width:0;height:0;position:static;top:0;margin-top:" + conMarginTop + "px";
			body.insertBefore(container, body.firstChild);

			// Construct the test element
			div = document.createElement("div");
			container.appendChild(div);

			// Check if table cells still have offsetWidth/Height when they are set
			// to display:none and there are still other visible table cells in a
			// table row; if so, offsetWidth/Height are not reliable for use when
			// determining if an element has been hidden directly using
			// display:none (it is still safe to use offsets if a parent element is
			// hidden; don safety goggles and see bug #4512 for more information).
			// (only IE 8 fails this test)
			div.innerHTML = "<table><tr><td style='" + paddingMarginBorder + "0;display:none'></td><td>t</td></tr></table>";
			tds = div.getElementsByTagName("td");
			isSupported = (tds[0].offsetHeight === 0);

			tds[0].style.display = "";
			tds[1].style.display = "none";

			// Check if empty table cells still have offsetWidth/Height
			// (IE <= 8 fail this test)
			support.reliableHiddenOffsets = isSupported && (tds[0].offsetHeight === 0);

			// Check if div with explicit width and no margin-right incorrectly
			// gets computed margin-right based on width of container. For more
			// info see bug #3333
			// Fails in WebKit before Feb 2011 nightlies
			// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
			if (window.getComputedStyle) {
				div.innerHTML = "";
				marginDiv = document.createElement("div");
				marginDiv.style.width = "0";
				marginDiv.style.marginRight = "0";
				div.style.width = "2px";
				div.appendChild(marginDiv);
				support.reliableMarginRight =
					(parseInt((window.getComputedStyle(marginDiv, null) || { marginRight: 0 }).marginRight, 10) || 0) === 0;
			}

			if (typeof div.style.zoom !== "undefined") {
				// Check if natively block-level elements act like inline-block
				// elements when setting their display to 'inline' and giving
				// them layout
				// (IE < 8 does this)
				div.innerHTML = "";
				div.style.width = div.style.padding = "1px";
				div.style.border = 0;
				div.style.overflow = "hidden";
				div.style.display = "inline";
				div.style.zoom = 1;
				support.inlineBlockNeedsLayout = (div.offsetWidth === 3);

				// Check if elements with layout shrink-wrap their children
				// (IE 6 does this)
				div.style.display = "block";
				div.style.overflow = "visible";
				div.innerHTML = "<div style='width:5px;'></div>";
				support.shrinkWrapBlocks = (div.offsetWidth !== 3);
			}

			div.style.cssText = positionTopLeftWidthHeight + paddingMarginBorderVisibility;
			div.innerHTML = html;

			outer = div.firstChild;
			inner = outer.firstChild;
			td = outer.nextSibling.firstChild.firstChild;

			offsetSupport = {
				doesNotAddBorder: (inner.offsetTop !== 5),
				doesAddBorderForTableAndCells: (td.offsetTop === 5)
			};

			inner.style.position = "fixed";
			inner.style.top = "20px";

			// safari subtracts parent border width here which is 5px
			offsetSupport.fixedPosition = (inner.offsetTop === 20 || inner.offsetTop === 15);
			inner.style.position = inner.style.top = "";

			outer.style.overflow = "hidden";
			outer.style.position = "relative";

			offsetSupport.subtractsBorderForOverflowNotVisible = (inner.offsetTop === -5);
			offsetSupport.doesNotIncludeMarginInBodyOffset = (body.offsetTop !== conMarginTop);

			if (window.getComputedStyle) {
				div.style.marginTop = "1%";
				support.pixelMargin = (window.getComputedStyle(div, null) || { marginTop: 0 }).marginTop !== "1%";
			}

			if (typeof container.style.zoom !== "undefined") {
				container.style.zoom = 1;
			}

			body.removeChild(container);
			marginDiv = div = container = null;

			jQuery.extend(support, offsetSupport);
		});

		return support;
	})();




	var rbrace = /^(?:\{.*\}|\[.*\])$/,
		rmultiDash = /([A-Z])/g;

	jQuery.extend({
		cache: {},

		// Please use with caution
		uuid: 0,

		// Unique for each copy of jQuery on the page
		// Non-digits removed to match rinlinejQuery
		expando: "jQuery" + (jQuery.fn.jquery + Math.random()).replace(/\D/g, ""),

		// The following elements throw uncatchable exceptions if you
		// attempt to add expando properties to them.
		noData: {
			"embed": true,
			// Ban all objects except for Flash (which handle expandos)
			"object": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
			"applet": true
		},

		hasData: function (elem) {
			elem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando];
			return !!elem && !isEmptyDataObject(elem);
		},

		data: function (elem, name, data, pvt /* Internal Use Only */) {
			if (!jQuery.acceptData(elem)) {
				return;
			}

			var privateCache, thisCache, ret,
				internalKey = jQuery.expando,
				getByName = typeof name === "string",

				// We have to handle DOM nodes and JS objects differently because IE6-7
				// can't GC object references properly across the DOM-JS boundary
				isNode = elem.nodeType,

				// Only DOM nodes need the global jQuery cache; JS object data is
				// attached directly to the object so GC can occur automatically
				cache = isNode ? jQuery.cache : elem,

				// Only defining an ID for JS objects if its cache already exists allows
				// the code to shortcut on the same path as a DOM node with no cache
				id = isNode ? elem[internalKey] : elem[internalKey] && internalKey,
				isEvents = name === "events";

			// Avoid doing any more work than we need to when trying to get data on an
			// object that has no data at all
			if ((!id || !cache[id] || (!isEvents && !pvt && !cache[id].data)) && getByName && data === undefined) {
				return;
			}

			if (!id) {
				// Only DOM nodes need a new unique ID for each element since their data
				// ends up in the global cache
				if (isNode) {
					elem[internalKey] = id = ++jQuery.uuid;
				} else {
					id = internalKey;
				}
			}

			if (!cache[id]) {
				cache[id] = {};

				// Avoids exposing jQuery metadata on plain JS objects when the object
				// is serialized using JSON.stringify
				if (!isNode) {
					cache[id].toJSON = jQuery.noop;
				}
			}

			// An object can be passed to jQuery.data instead of a key/value pair; this gets
			// shallow copied over onto the existing cache
			if (typeof name === "object" || typeof name === "function") {
				if (pvt) {
					cache[id] = jQuery.extend(cache[id], name);
				} else {
					cache[id].data = jQuery.extend(cache[id].data, name);
				}
			}

			privateCache = thisCache = cache[id];

			// jQuery data() is stored in a separate object inside the object's internal data
			// cache in order to avoid key collisions between internal data and user-defined
			// data.
			if (!pvt) {
				if (!thisCache.data) {
					thisCache.data = {};
				}

				thisCache = thisCache.data;
			}

			if (data !== undefined) {
				thisCache[jQuery.camelCase(name)] = data;
			}

			// Users should not attempt to inspect the internal events object using jQuery.data,
			// it is undocumented and subject to change. But does anyone listen? No.
			if (isEvents && !thisCache[name]) {
				return privateCache.events;
			}

			// Check for both converted-to-camel and non-converted data property names
			// If a data property was specified
			if (getByName) {

				// First Try to find as-is property data
				ret = thisCache[name];

				// Test for null|undefined property data
				if (ret == null) {

					// Try to find the camelCased property
					ret = thisCache[jQuery.camelCase(name)];
				}
			} else {
				ret = thisCache;
			}

			return ret;
		},

		removeData: function (elem, name, pvt /* Internal Use Only */) {
			if (!jQuery.acceptData(elem)) {
				return;
			}

			var thisCache, i, l,

				// Reference to internal data cache key
				internalKey = jQuery.expando,

				isNode = elem.nodeType,

				// See jQuery.data for more information
				cache = isNode ? jQuery.cache : elem,

				// See jQuery.data for more information
				id = isNode ? elem[internalKey] : internalKey;

			// If there is already no cache entry for this object, there is no
			// purpose in continuing
			if (!cache[id]) {
				return;
			}

			if (name) {

				thisCache = pvt ? cache[id] : cache[id].data;

				if (thisCache) {

					// Support array or space separated string names for data keys
					if (!jQuery.isArray(name)) {

						// try the string as a key before any manipulation
						if (name in thisCache) {
							name = [name];
						} else {

							// split the camel cased version by spaces unless a key with the spaces exists
							name = jQuery.camelCase(name);
							if (name in thisCache) {
								name = [name];
							} else {
								name = name.split(" ");
							}
						}
					}

					for (i = 0, l = name.length; i < l; i++) {
						delete thisCache[name[i]];
					}

					// If there is no data left in the cache, we want to continue
					// and let the cache object itself get destroyed
					if (!(pvt ? isEmptyDataObject : jQuery.isEmptyObject)(thisCache)) {
						return;
					}
				}
			}

			// See jQuery.data for more information
			if (!pvt) {
				delete cache[id].data;

				// Don't destroy the parent cache unless the internal data object
				// had been the only thing left in it
				if (!isEmptyDataObject(cache[id])) {
					return;
				}
			}

			// Browsers that fail expando deletion also refuse to delete expandos on
			// the window, but it will allow it on all other JS objects; other browsers
			// don't care
			// Ensure that `cache` is not a window object #10080
			if (jQuery.support.deleteExpando || !cache.setInterval) {
				delete cache[id];
			} else {
				cache[id] = null;
			}

			// We destroyed the cache and need to eliminate the expando on the node to avoid
			// false lookups in the cache for entries that no longer exist
			if (isNode) {
				// IE does not allow us to delete expando properties from nodes,
				// nor does it have a removeAttribute function on Document nodes;
				// we must handle all of these cases
				if (jQuery.support.deleteExpando) {
					delete elem[internalKey];
				} else if (elem.removeAttribute) {
					elem.removeAttribute(internalKey);
				} else {
					elem[internalKey] = null;
				}
			}
		},

		// For internal use only.
		_data: function (elem, name, data) {
			return jQuery.data(elem, name, data, true);
		},

		// A method for determining if a DOM node can handle the data expando
		acceptData: function (elem) {
			if (elem.nodeName) {
				var match = jQuery.noData[elem.nodeName.toLowerCase()];

				if (match) {
					return !(match === true || elem.getAttribute("classid") !== match);
				}
			}

			return true;
		}
	});

	jQuery.fn.extend({
		data: function (key, value) {
			var parts, part, attr, name, l,
				elem = this[0],
				i = 0,
				data = null;

			// Gets all values
			if (key === undefined) {
				if (this.length) {
					data = jQuery.data(elem);

					if (elem.nodeType === 1 && !jQuery._data(elem, "parsedAttrs")) {
						attr = elem.attributes;
						for (l = attr.length; i < l; i++) {
							name = attr[i].name;

							if (name.indexOf("data-") === 0) {
								name = jQuery.camelCase(name.substring(5));

								dataAttr(elem, name, data[name]);
							}
						}
						jQuery._data(elem, "parsedAttrs", true);
					}
				}

				return data;
			}

			// Sets multiple values
			if (typeof key === "object") {
				return this.each(function () {
					jQuery.data(this, key);
				});
			}

			parts = key.split(".", 2);
			parts[1] = parts[1] ? "." + parts[1] : "";
			part = parts[1] + "!";

			return jQuery.access(this, function (value) {

				if (value === undefined) {
					data = this.triggerHandler("getData" + part, [parts[0]]);

					// Try to fetch any internally stored data first
					if (data === undefined && elem) {
						data = jQuery.data(elem, key);
						data = dataAttr(elem, key, data);
					}

					return data === undefined && parts[1] ?
						this.data(parts[0]) :
						data;
				}

				parts[1] = value;
				this.each(function () {
					var self = jQuery(this);

					self.triggerHandler("setData" + part, parts);
					jQuery.data(this, key, value);
					self.triggerHandler("changeData" + part, parts);
				});
			}, null, value, arguments.length > 1, null, false);
		},

		removeData: function (key) {
			return this.each(function () {
				jQuery.removeData(this, key);
			});
		}
	});

	function dataAttr(elem, key, data) {
		// If nothing was found internally, try to fetch any
		// data from the HTML5 data-* attribute
		if (data === undefined && elem.nodeType === 1) {

			var name = "data-" + key.replace(rmultiDash, "-$1").toLowerCase();

			data = elem.getAttribute(name);

			if (typeof data === "string") {
				try {
					data = data === "true" ? true :
					data === "false" ? false :
					data === "null" ? null :
					jQuery.isNumeric(data) ? +data :
						rbrace.test(data) ? jQuery.parseJSON(data) :
						data;
				} catch (e) { }

				// Make sure we set the data so it isn't changed later
				jQuery.data(elem, key, data);

			} else {
				data = undefined;
			}
		}

		return data;
	}

	// checks a cache object for emptiness
	function isEmptyDataObject(obj) {
		for (var name in obj) {

			// if the public data object is empty, the private is still empty
			if (name === "data" && jQuery.isEmptyObject(obj[name])) {
				continue;
			}
			if (name !== "toJSON") {
				return false;
			}
		}

		return true;
	}




	function handleQueueMarkDefer(elem, type, src) {
		var deferDataKey = type + "defer",
			queueDataKey = type + "queue",
			markDataKey = type + "mark",
			defer = jQuery._data(elem, deferDataKey);
		if (defer &&
			(src === "queue" || !jQuery._data(elem, queueDataKey)) &&
			(src === "mark" || !jQuery._data(elem, markDataKey))) {
			// Give room for hard-coded callbacks to fire first
			// and eventually mark/queue something else on the element
			setTimeout(function () {
				if (!jQuery._data(elem, queueDataKey) &&
					!jQuery._data(elem, markDataKey)) {
					jQuery.removeData(elem, deferDataKey, true);
					defer.fire();
				}
			}, 0);
		}
	}

	jQuery.extend({

		_mark: function (elem, type) {
			if (elem) {
				type = (type || "fx") + "mark";
				jQuery._data(elem, type, (jQuery._data(elem, type) || 0) + 1);
			}
		},

		_unmark: function (force, elem, type) {
			if (force !== true) {
				type = elem;
				elem = force;
				force = false;
			}
			if (elem) {
				type = type || "fx";
				var key = type + "mark",
					count = force ? 0 : ((jQuery._data(elem, key) || 1) - 1);
				if (count) {
					jQuery._data(elem, key, count);
				} else {
					jQuery.removeData(elem, key, true);
					handleQueueMarkDefer(elem, type, "mark");
				}
			}
		},

		queue: function (elem, type, data) {
			var q;
			if (elem) {
				type = (type || "fx") + "queue";
				q = jQuery._data(elem, type);

				// Speed up dequeue by getting out quickly if this is just a lookup
				if (data) {
					if (!q || jQuery.isArray(data)) {
						q = jQuery._data(elem, type, jQuery.makeArray(data));
					} else {
						q.push(data);
					}
				}
				return q || [];
			}
		},

		dequeue: function (elem, type) {
			type = type || "fx";

			var queue = jQuery.queue(elem, type),
				fn = queue.shift(),
				hooks = {};

			// If the fx queue is dequeued, always remove the progress sentinel
			if (fn === "inprogress") {
				fn = queue.shift();
			}

			if (fn) {
				// Add a progress sentinel to prevent the fx queue from being
				// automatically dequeued
				if (type === "fx") {
					queue.unshift("inprogress");
				}

				jQuery._data(elem, type + ".run", hooks);
				fn.call(elem, function () {
					jQuery.dequeue(elem, type);
				}, hooks);
			}

			if (!queue.length) {
				jQuery.removeData(elem, type + "queue " + type + ".run", true);
				handleQueueMarkDefer(elem, type, "queue");
			}
		}
	});

	jQuery.fn.extend({
		queue: function (type, data) {
			var setter = 2;

			if (typeof type !== "string") {
				data = type;
				type = "fx";
				setter--;
			}

			if (arguments.length < setter) {
				return jQuery.queue(this[0], type);
			}

			return data === undefined ?
				this :
				this.each(function () {
					var queue = jQuery.queue(this, type, data);

					if (type === "fx" && queue[0] !== "inprogress") {
						jQuery.dequeue(this, type);
					}
				});
		},
		dequeue: function (type) {
			return this.each(function () {
				jQuery.dequeue(this, type);
			});
		},
		// Based off of the plugin by Clint Helfers, with permission.
		// http://blindsignals.com/index.php/2009/07/jquery-delay/
		delay: function (time, type) {
			time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
			type = type || "fx";

			return this.queue(type, function (next, hooks) {
				var timeout = setTimeout(next, time);
				hooks.stop = function () {
					clearTimeout(timeout);
				};
			});
		},
		clearQueue: function (type) {
			return this.queue(type || "fx", []);
		},
		// Get a promise resolved when queues of a certain type
		// are emptied (fx is the type by default)
		promise: function (type, object) {
			if (typeof type !== "string") {
				object = type;
				type = undefined;
			}
			type = type || "fx";
			var defer = jQuery.Deferred(),
				elements = this,
				i = elements.length,
				count = 1,
				deferDataKey = type + "defer",
				queueDataKey = type + "queue",
				markDataKey = type + "mark",
				tmp;
			function resolve() {
				if (!(--count)) {
					defer.resolveWith(elements, [elements]);
				}
			}
			while (i--) {
				if ((tmp = jQuery.data(elements[i], deferDataKey, undefined, true) ||
						(jQuery.data(elements[i], queueDataKey, undefined, true) ||
							jQuery.data(elements[i], markDataKey, undefined, true)) &&
						jQuery.data(elements[i], deferDataKey, jQuery.Callbacks("once memory"), true))) {
					count++;
					tmp.add(resolve);
				}
			}
			resolve();
			return defer.promise(object);
		}
	});




	var rclass = /[\n\t\r]/g,
		rspace = /\s+/,
		rreturn = /\r/g,
		rtype = /^(?:button|input)$/i,
		rfocusable = /^(?:button|input|object|select|textarea)$/i,
		rclickable = /^a(?:rea)?$/i,
		rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
		getSetAttribute = jQuery.support.getSetAttribute,
		nodeHook, boolHook, fixSpecified;

	jQuery.fn.extend({
		attr: function (name, value) {
			return jQuery.access(this, jQuery.attr, name, value, arguments.length > 1);
		},

		removeAttr: function (name) {
			return this.each(function () {
				jQuery.removeAttr(this, name);
			});
		},

		prop: function (name, value) {
			return jQuery.access(this, jQuery.prop, name, value, arguments.length > 1);
		},

		removeProp: function (name) {
			name = jQuery.propFix[name] || name;
			return this.each(function () {
				// try/catch handles cases where IE balks (such as removing a property on window)
				try {
					this[name] = undefined;
					delete this[name];
				} catch (e) { }
			});
		},

		addClass: function (value) {
			var classNames, i, l, elem,
				setClass, c, cl;

			if (jQuery.isFunction(value)) {
				return this.each(function (j) {
					jQuery(this).addClass(value.call(this, j, this.className));
				});
			}

			if (value && typeof value === "string") {
				classNames = value.split(rspace);

				for (i = 0, l = this.length; i < l; i++) {
					elem = this[i];

					if (elem.nodeType === 1) {
						if (!elem.className && classNames.length === 1) {
							elem.className = value;

						} else {
							setClass = " " + elem.className + " ";

							for (c = 0, cl = classNames.length; c < cl; c++) {
								if (!~setClass.indexOf(" " + classNames[c] + " ")) {
									setClass += classNames[c] + " ";
								}
							}
							elem.className = jQuery.trim(setClass);
						}
					}
				}
			}

			return this;
		},

		removeClass: function (value) {
			var classNames, i, l, elem, className, c, cl;

			if (jQuery.isFunction(value)) {
				return this.each(function (j) {
					jQuery(this).removeClass(value.call(this, j, this.className));
				});
			}

			if ((value && typeof value === "string") || value === undefined) {
				classNames = (value || "").split(rspace);

				for (i = 0, l = this.length; i < l; i++) {
					elem = this[i];

					if (elem.nodeType === 1 && elem.className) {
						if (value) {
							className = (" " + elem.className + " ").replace(rclass, " ");
							for (c = 0, cl = classNames.length; c < cl; c++) {
								className = className.replace(" " + classNames[c] + " ", " ");
							}
							elem.className = jQuery.trim(className);

						} else {
							elem.className = "";
						}
					}
				}
			}

			return this;
		},

		toggleClass: function (value, stateVal) {
			var type = typeof value,
				isBool = typeof stateVal === "boolean";

			if (jQuery.isFunction(value)) {
				return this.each(function (i) {
					jQuery(this).toggleClass(value.call(this, i, this.className, stateVal), stateVal);
				});
			}

			return this.each(function () {
				if (type === "string") {
					// toggle individual class names
					var className,
						i = 0,
						self = jQuery(this),
						state = stateVal,
						classNames = value.split(rspace);

					while ((className = classNames[i++])) {
						// check each className given, space seperated list
						state = isBool ? state : !self.hasClass(className);
						self[state ? "addClass" : "removeClass"](className);
					}

				} else if (type === "undefined" || type === "boolean") {
					if (this.className) {
						// store className if set
						jQuery._data(this, "__className__", this.className);
					}

					// toggle whole className
					this.className = this.className || value === false ? "" : jQuery._data(this, "__className__") || "";
				}
			});
		},

		hasClass: function (selector) {
			var className = " " + selector + " ",
				i = 0,
				l = this.length;
			for (; i < l; i++) {
				if (this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf(className) > -1) {
					return true;
				}
			}

			return false;
		},

		val: function (value) {
			var hooks, ret, isFunction,
				elem = this[0];

			if (!arguments.length) {
				if (elem) {
					hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];

					if (hooks && "get" in hooks && (ret = hooks.get(elem, "value")) !== undefined) {
						return ret;
					}

					ret = elem.value;

					return typeof ret === "string" ?
						// handle most common string cases
						ret.replace(rreturn, "") :
						// handle cases where value is null/undef or number
						ret == null ? "" : ret;
				}

				return;
			}

			isFunction = jQuery.isFunction(value);

			return this.each(function (i) {
				var self = jQuery(this), val;

				if (this.nodeType !== 1) {
					return;
				}

				if (isFunction) {
					val = value.call(this, i, self.val());
				} else {
					val = value;
				}

				// Treat null/undefined as ""; convert numbers to string
				if (val == null) {
					val = "";
				} else if (typeof val === "number") {
					val += "";
				} else if (jQuery.isArray(val)) {
					val = jQuery.map(val, function (value) {
						return value == null ? "" : value + "";
					});
				}

				hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];

				// If set returns undefined, fall back to normal setting
				if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
					this.value = val;
				}
			});
		}
	});

	jQuery.extend({
		valHooks: {
			option: {
				get: function (elem) {
					// attributes.value is undefined in Blackberry 4.7 but
					// uses .value. See #6932
					var val = elem.attributes.value;
					return !val || val.specified ? elem.value : elem.text;
				}
			},
			select: {
				get: function (elem) {
					var value, i, max, option,
						index = elem.selectedIndex,
						values = [],
						options = elem.options,
						one = elem.type === "select-one";

					// Nothing was selected
					if (index < 0) {
						return null;
					}

					// Loop through all the selected options
					i = one ? index : 0;
					max = one ? index + 1 : options.length;
					for (; i < max; i++) {
						option = options[i];

						// Don't return options that are disabled or in a disabled optgroup
						if (option.selected && (jQuery.support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null) &&
								(!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, "optgroup"))) {

							// Get the specific value for the option
							value = jQuery(option).val();

							// We don't need an array for one selects
							if (one) {
								return value;
							}

							// Multi-Selects return an array
							values.push(value);
						}
					}

					// Fixes Bug #2551 -- select.val() broken in IE after form.reset()
					if (one && !values.length && options.length) {
						return jQuery(options[index]).val();
					}

					return values;
				},

				set: function (elem, value) {
					var values = jQuery.makeArray(value);

					jQuery(elem).find("option").each(function () {
						this.selected = jQuery.inArray(jQuery(this).val(), values) >= 0;
					});

					if (!values.length) {
						elem.selectedIndex = -1;
					}
					return values;
				}
			}
		},

		attrFn: {
			val: true,
			css: true,
			html: true,
			text: true,
			data: true,
			width: true,
			height: true,
			offset: true
		},

		attr: function (elem, name, value, pass) {
			var ret, hooks, notxml,
				nType = elem.nodeType;

			// don't get/set attributes on text, comment and attribute nodes
			if (!elem || nType === 3 || nType === 8 || nType === 2) {
				return;
			}

			if (pass && name in jQuery.attrFn) {
				return jQuery(elem)[name](value);
			}

			// Fallback to prop when attributes are not supported
			if (typeof elem.getAttribute === "undefined") {
				return jQuery.prop(elem, name, value);
			}

			notxml = nType !== 1 || !jQuery.isXMLDoc(elem);

			// All attributes are lowercase
			// Grab necessary hook if one is defined
			if (notxml) {
				name = name.toLowerCase();
				hooks = jQuery.attrHooks[name] || (rboolean.test(name) ? boolHook : nodeHook);
			}

			if (value !== undefined) {

				if (value === null) {
					jQuery.removeAttr(elem, name);
					return;

				} else if (hooks && "set" in hooks && notxml && (ret = hooks.set(elem, value, name)) !== undefined) {
					return ret;

				} else {
					elem.setAttribute(name, "" + value);
					return value;
				}

			} else if (hooks && "get" in hooks && notxml && (ret = hooks.get(elem, name)) !== null) {
				return ret;

			} else {

				ret = elem.getAttribute(name);

				// Non-existent attributes return null, we normalize to undefined
				return ret === null ?
					undefined :
					ret;
			}
		},

		removeAttr: function (elem, value) {
			var propName, attrNames, name, l, isBool,
				i = 0;

			if (value && elem.nodeType === 1) {
				attrNames = value.toLowerCase().split(rspace);
				l = attrNames.length;

				for (; i < l; i++) {
					name = attrNames[i];

					if (name) {
						propName = jQuery.propFix[name] || name;
						isBool = rboolean.test(name);

						// See #9699 for explanation of this approach (setting first, then removal)
						// Do not do this for boolean attributes (see #10870)
						if (!isBool) {
							jQuery.attr(elem, name, "");
						}
						elem.removeAttribute(getSetAttribute ? name : propName);

						// Set corresponding property to false for boolean attributes
						if (isBool && propName in elem) {
							elem[propName] = false;
						}
					}
				}
			}
		},

		attrHooks: {
			type: {
				set: function (elem, value) {
					// We can't allow the type property to be changed (since it causes problems in IE)
					if (rtype.test(elem.nodeName) && elem.parentNode) {
						jQuery.error("type property can't be changed");
					} else if (!jQuery.support.radioValue && value === "radio" && jQuery.nodeName(elem, "input")) {
						// Setting the type on a radio button after the value resets the value in IE6-9
						// Reset value to it's default in case type is set after value
						// This is for element creation
						var val = elem.value;
						elem.setAttribute("type", value);
						if (val) {
							elem.value = val;
						}
						return value;
					}
				}
			},
			// Use the value property for back compat
			// Use the nodeHook for button elements in IE6/7 (#1954)
			value: {
				get: function (elem, name) {
					if (nodeHook && jQuery.nodeName(elem, "button")) {
						return nodeHook.get(elem, name);
					}
					return name in elem ?
						elem.value :
						null;
				},
				set: function (elem, value, name) {
					if (nodeHook && jQuery.nodeName(elem, "button")) {
						return nodeHook.set(elem, value, name);
					}
					// Does not return so that setAttribute is also used
					elem.value = value;
				}
			}
		},

		propFix: {
			tabindex: "tabIndex",
			readonly: "readOnly",
			"for": "htmlFor",
			"class": "className",
			maxlength: "maxLength",
			cellspacing: "cellSpacing",
			cellpadding: "cellPadding",
			rowspan: "rowSpan",
			colspan: "colSpan",
			usemap: "useMap",
			frameborder: "frameBorder",
			contenteditable: "contentEditable"
		},

		prop: function (elem, name, value) {
			var ret, hooks, notxml,
				nType = elem.nodeType;

			// don't get/set properties on text, comment and attribute nodes
			if (!elem || nType === 3 || nType === 8 || nType === 2) {
				return;
			}

			notxml = nType !== 1 || !jQuery.isXMLDoc(elem);

			if (notxml) {
				// Fix name and attach hooks
				name = jQuery.propFix[name] || name;
				hooks = jQuery.propHooks[name];
			}

			if (value !== undefined) {
				if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
					return ret;

				} else {
					return (elem[name] = value);
				}

			} else {
				if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
					return ret;

				} else {
					return elem[name];
				}
			}
		},

		propHooks: {
			tabIndex: {
				get: function (elem) {
					// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set
					// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
					var attributeNode = elem.getAttributeNode("tabindex");

					return attributeNode && attributeNode.specified ?
						parseInt(attributeNode.value, 10) :
						rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href ?
							0 :
							undefined;
				}
			}
		}
	});

	// Add the tabIndex propHook to attrHooks for back-compat (different case is intentional)
	jQuery.attrHooks.tabindex = jQuery.propHooks.tabIndex;

	// Hook for boolean attributes
	boolHook = {
		get: function (elem, name) {
			// Align boolean attributes with corresponding properties
			// Fall back to attribute presence where some booleans are not supported
			var attrNode,
				property = jQuery.prop(elem, name);
			return property === true || typeof property !== "boolean" && (attrNode = elem.getAttributeNode(name)) && attrNode.nodeValue !== false ?
				name.toLowerCase() :
				undefined;
		},
		set: function (elem, value, name) {
			var propName;
			if (value === false) {
				// Remove boolean attributes when set to false
				jQuery.removeAttr(elem, name);
			} else {
				// value is true since we know at this point it's type boolean and not false
				// Set boolean attributes to the same name and set the DOM property
				propName = jQuery.propFix[name] || name;
				if (propName in elem) {
					// Only set the IDL specifically if it already exists on the element
					elem[propName] = true;
				}

				elem.setAttribute(name, name.toLowerCase());
			}
			return name;
		}
	};

	// IE6/7 do not support getting/setting some attributes with get/setAttribute
	if (!getSetAttribute) {

		fixSpecified = {
			name: true,
			id: true,
			coords: true
		};

		// Use this for any attribute in IE6/7
		// This fixes almost every IE6/7 issue
		nodeHook = jQuery.valHooks.button = {
			get: function (elem, name) {
				var ret;
				ret = elem.getAttributeNode(name);
				return ret && (fixSpecified[name] ? ret.nodeValue !== "" : ret.specified) ?
					ret.nodeValue :
					undefined;
			},
			set: function (elem, value, name) {
				// Set the existing or create a new attribute node
				var ret = elem.getAttributeNode(name);
				if (!ret) {
					ret = document.createAttribute(name);
					elem.setAttributeNode(ret);
				}
				return (ret.nodeValue = value + "");
			}
		};

		// Apply the nodeHook to tabindex
		jQuery.attrHooks.tabindex.set = nodeHook.set;

		// Set width and height to auto instead of 0 on empty string( Bug #8150 )
		// This is for removals
		jQuery.each(["width", "height"], function (i, name) {
			jQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {
				set: function (elem, value) {
					if (value === "") {
						elem.setAttribute(name, "auto");
						return value;
					}
				}
			});
		});

		// Set contenteditable to false on removals(#10429)
		// Setting to empty string throws an error as an invalid value
		jQuery.attrHooks.contenteditable = {
			get: nodeHook.get,
			set: function (elem, value, name) {
				if (value === "") {
					value = "false";
				}
				nodeHook.set(elem, value, name);
			}
		};
	}


	// Some attributes require a special call on IE
	if (!jQuery.support.hrefNormalized) {
		jQuery.each(["href", "src", "width", "height"], function (i, name) {
			jQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {
				get: function (elem) {
					var ret = elem.getAttribute(name, 2);
					return ret === null ? undefined : ret;
				}
			});
		});
	}

	if (!jQuery.support.style) {
		jQuery.attrHooks.style = {
			get: function (elem) {
				// Return undefined in the case of empty string
				// Normalize to lowercase since IE uppercases css property names
				return elem.style.cssText.toLowerCase() || undefined;
			},
			set: function (elem, value) {
				return (elem.style.cssText = "" + value);
			}
		};
	}

	// Safari mis-reports the default selected property of an option
	// Accessing the parent's selectedIndex property fixes it
	if (!jQuery.support.optSelected) {
		jQuery.propHooks.selected = jQuery.extend(jQuery.propHooks.selected, {
			get: function (elem) {
				var parent = elem.parentNode;

				if (parent) {
					parent.selectedIndex;

					// Make sure that it also works with optgroups, see #5701
					if (parent.parentNode) {
						parent.parentNode.selectedIndex;
					}
				}
				return null;
			}
		});
	}

	// IE6/7 call enctype encoding
	if (!jQuery.support.enctype) {
		jQuery.propFix.enctype = "encoding";
	}

	// Radios and checkboxes getter/setter
	if (!jQuery.support.checkOn) {
		jQuery.each(["radio", "checkbox"], function () {
			jQuery.valHooks[this] = {
				get: function (elem) {
					// Handle the case where in Webkit "" is returned instead of "on" if a value isn't specified
					return elem.getAttribute("value") === null ? "on" : elem.value;
				}
			};
		});
	}
	jQuery.each(["radio", "checkbox"], function () {
		jQuery.valHooks[this] = jQuery.extend(jQuery.valHooks[this], {
			set: function (elem, value) {
				if (jQuery.isArray(value)) {
					return (elem.checked = jQuery.inArray(jQuery(elem).val(), value) >= 0);
				}
			}
		});
	});




	var rformElems = /^(?:textarea|input|select)$/i,
		rtypenamespace = /^([^\.]*)?(?:\.(.+))?$/,
		rhoverHack = /(?:^|\s)hover(\.\S+)?\b/,
		rkeyEvent = /^key/,
		rmouseEvent = /^(?:mouse|contextmenu)|click/,
		rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
		rquickIs = /^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
		quickParse = function (selector) {
			var quick = rquickIs.exec(selector);
			if (quick) {
				//   0  1    2   3
				// [ _, tag, id, class ]
				quick[1] = (quick[1] || "").toLowerCase();
				quick[3] = quick[3] && new RegExp("(?:^|\\s)" + quick[3] + "(?:\\s|$)");
			}
			return quick;
		},
		quickIs = function (elem, m) {
			var attrs = elem.attributes || {};
			return (
				(!m[1] || elem.nodeName.toLowerCase() === m[1]) &&
				(!m[2] || (attrs.id || {}).value === m[2]) &&
				(!m[3] || m[3].test((attrs["class"] || {}).value))
			);
		},
		hoverHack = function (events) {
			return jQuery.event.special.hover ? events : events.replace(rhoverHack, "mouseenter$1 mouseleave$1");
		};

	/*
	 * Helper functions for managing events -- not part of the public interface.
	 * Props to Dean Edwards' addEvent library for many of the ideas.
	 */
	jQuery.event = {

		add: function (elem, types, handler, data, selector) {

			var elemData, eventHandle, events,
				t, tns, type, namespaces, handleObj,
				handleObjIn, quick, handlers, special;

			// Don't attach events to noData or text/comment nodes (allow plain objects tho)
			if (elem.nodeType === 3 || elem.nodeType === 8 || !types || !handler || !(elemData = jQuery._data(elem))) {
				return;
			}

			// Caller can pass in an object of custom data in lieu of the handler
			if (handler.handler) {
				handleObjIn = handler;
				handler = handleObjIn.handler;
				selector = handleObjIn.selector;
			}

			// Make sure that the handler has a unique ID, used to find/remove it later
			if (!handler.guid) {
				handler.guid = jQuery.guid++;
			}

			// Init the element's event structure and main handler, if this is the first
			events = elemData.events;
			if (!events) {
				elemData.events = events = {};
			}
			eventHandle = elemData.handle;
			if (!eventHandle) {
				elemData.handle = eventHandle = function (e) {
					// Discard the second event of a jQuery.event.trigger() and
					// when an event is called after a page has unloaded
					return typeof jQuery !== "undefined" && (!e || jQuery.event.triggered !== e.type) ?
						jQuery.event.dispatch.apply(eventHandle.elem, arguments) :
						undefined;
				};
				// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events
				eventHandle.elem = elem;
			}

			// Handle multiple events separated by a space
			// jQuery(...).bind("mouseover mouseout", fn);
			types = jQuery.trim(hoverHack(types)).split(" ");
			for (t = 0; t < types.length; t++) {

				tns = rtypenamespace.exec(types[t]) || [];
				type = tns[1];
				namespaces = (tns[2] || "").split(".").sort();

				// If event changes its type, use the special event handlers for the changed type
				special = jQuery.event.special[type] || {};

				// If selector defined, determine special event api type, otherwise given type
				type = (selector ? special.delegateType : special.bindType) || type;

				// Update special based on newly reset type
				special = jQuery.event.special[type] || {};

				// handleObj is passed to all event handlers
				handleObj = jQuery.extend({
					type: type,
					origType: tns[1],
					data: data,
					handler: handler,
					guid: handler.guid,
					selector: selector,
					quick: selector && quickParse(selector),
					namespace: namespaces.join(".")
				}, handleObjIn);

				// Init the event handler queue if we're the first
				handlers = events[type];
				if (!handlers) {
					handlers = events[type] = [];
					handlers.delegateCount = 0;

					// Only use addEventListener/attachEvent if the special events handler returns false
					if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {
						// Bind the global event handler to the element
						if (elem.addEventListener) {
							elem.addEventListener(type, eventHandle, false);

						} else if (elem.attachEvent) {
							elem.attachEvent("on" + type, eventHandle);
						}
					}
				}

				if (special.add) {
					special.add.call(elem, handleObj);

					if (!handleObj.handler.guid) {
						handleObj.handler.guid = handler.guid;
					}
				}

				// Add to the element's handler list, delegates in front
				if (selector) {
					handlers.splice(handlers.delegateCount++, 0, handleObj);
				} else {
					handlers.push(handleObj);
				}

				// Keep track of which events have ever been used, for event optimization
				jQuery.event.global[type] = true;
			}

			// Nullify elem to prevent memory leaks in IE
			elem = null;
		},

		global: {},

		// Detach an event or set of events from an element
		remove: function (elem, types, handler, selector, mappedTypes) {

			var elemData = jQuery.hasData(elem) && jQuery._data(elem),
				t, tns, type, origType, namespaces, origCount,
				j, events, special, handle, eventType, handleObj;

			if (!elemData || !(events = elemData.events)) {
				return;
			}

			// Once for each type.namespace in types; type may be omitted
			types = jQuery.trim(hoverHack(types || "")).split(" ");
			for (t = 0; t < types.length; t++) {
				tns = rtypenamespace.exec(types[t]) || [];
				type = origType = tns[1];
				namespaces = tns[2];

				// Unbind all events (on this namespace, if provided) for the element
				if (!type) {
					for (type in events) {
						jQuery.event.remove(elem, type + types[t], handler, selector, true);
					}
					continue;
				}

				special = jQuery.event.special[type] || {};
				type = (selector ? special.delegateType : special.bindType) || type;
				eventType = events[type] || [];
				origCount = eventType.length;
				namespaces = namespaces ? new RegExp("(^|\\.)" + namespaces.split(".").sort().join("\\.(?:.*\\.)?") + "(\\.|$)") : null;

				// Remove matching events
				for (j = 0; j < eventType.length; j++) {
					handleObj = eventType[j];

					if ((mappedTypes || origType === handleObj.origType) &&
						 (!handler || handler.guid === handleObj.guid) &&
						 (!namespaces || namespaces.test(handleObj.namespace)) &&
						 (!selector || selector === handleObj.selector || selector === "**" && handleObj.selector)) {
						eventType.splice(j--, 1);

						if (handleObj.selector) {
							eventType.delegateCount--;
						}
						if (special.remove) {
							special.remove.call(elem, handleObj);
						}
					}
				}

				// Remove generic event handler if we removed something and no more handlers exist
				// (avoids potential for endless recursion during removal of special event handlers)
				if (eventType.length === 0 && origCount !== eventType.length) {
					if (!special.teardown || special.teardown.call(elem, namespaces) === false) {
						jQuery.removeEvent(elem, type, elemData.handle);
					}

					delete events[type];
				}
			}

			// Remove the expando if it's no longer used
			if (jQuery.isEmptyObject(events)) {
				handle = elemData.handle;
				if (handle) {
					handle.elem = null;
				}

				// removeData also checks for emptiness and clears the expando if empty
				// so use it instead of delete
				jQuery.removeData(elem, ["events", "handle"], true);
			}
		},

		// Events that are safe to short-circuit if no handlers are attached.
		// Native DOM events should not be added, they may have inline handlers.
		customEvent: {
			"getData": true,
			"setData": true,
			"changeData": true
		},

		trigger: function (event, data, elem, onlyHandlers) {
			// Don't do events on text and comment nodes
			if (elem && (elem.nodeType === 3 || elem.nodeType === 8)) {
				return;
			}

			// Event object or event type
			var type = event.type || event,
				namespaces = [],
				cache, exclusive, i, cur, old, ontype, special, handle, eventPath, bubbleType;

			// focus/blur morphs to focusin/out; ensure we're not firing them right now
			if (rfocusMorph.test(type + jQuery.event.triggered)) {
				return;
			}

			if (type.indexOf("!") >= 0) {
				// Exclusive events trigger only for the exact event (no namespaces)
				type = type.slice(0, -1);
				exclusive = true;
			}

			if (type.indexOf(".") >= 0) {
				// Namespaced trigger; create a regexp to match event type in handle()
				namespaces = type.split(".");
				type = namespaces.shift();
				namespaces.sort();
			}

			if ((!elem || jQuery.event.customEvent[type]) && !jQuery.event.global[type]) {
				// No jQuery handlers for this event type, and it can't have inline handlers
				return;
			}

			// Caller can pass in an Event, Object, or just an event type string
			event = typeof event === "object" ?
				// jQuery.Event object
				event[jQuery.expando] ? event :
				// Object literal
				new jQuery.Event(type, event) :
				// Just the event type (string)
				new jQuery.Event(type);

			event.type = type;
			event.isTrigger = true;
			event.exclusive = exclusive;
			event.namespace = namespaces.join(".");
			event.namespace_re = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.)?") + "(\\.|$)") : null;
			ontype = type.indexOf(":") < 0 ? "on" + type : "";

			// Handle a global trigger
			if (!elem) {

				// TODO: Stop taunting the data cache; remove global events and always attach to document
				cache = jQuery.cache;
				for (i in cache) {
					if (cache[i].events && cache[i].events[type]) {
						jQuery.event.trigger(event, data, cache[i].handle.elem, true);
					}
				}
				return;
			}

			// Clean up the event in case it is being reused
			event.result = undefined;
			if (!event.target) {
				event.target = elem;
			}

			// Clone any incoming data and prepend the event, creating the handler arg list
			data = data != null ? jQuery.makeArray(data) : [];
			data.unshift(event);

			// Allow special events to draw outside the lines
			special = jQuery.event.special[type] || {};
			if (special.trigger && special.trigger.apply(elem, data) === false) {
				return;
			}

			// Determine event propagation path in advance, per W3C events spec (#9951)
			// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
			eventPath = [[elem, special.bindType || type]];
			if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {

				bubbleType = special.delegateType || type;
				cur = rfocusMorph.test(bubbleType + type) ? elem : elem.parentNode;
				old = null;
				for (; cur; cur = cur.parentNode) {
					eventPath.push([cur, bubbleType]);
					old = cur;
				}

				// Only add window if we got to document (e.g., not plain obj or detached DOM)
				if (old && old === elem.ownerDocument) {
					eventPath.push([old.defaultView || old.parentWindow || window, bubbleType]);
				}
			}

			// Fire handlers on the event path
			for (i = 0; i < eventPath.length && !event.isPropagationStopped() ; i++) {

				cur = eventPath[i][0];
				event.type = eventPath[i][1];

				handle = (jQuery._data(cur, "events") || {})[event.type] && jQuery._data(cur, "handle");
				if (handle) {
					handle.apply(cur, data);
				}
				// Note that this is a bare JS function and not a jQuery handler
				handle = ontype && cur[ontype];
				if (handle && jQuery.acceptData(cur) && handle.apply(cur, data) === false) {
					event.preventDefault();
				}
			}
			event.type = type;

			// If nobody prevented the default action, do it now
			if (!onlyHandlers && !event.isDefaultPrevented()) {

				if ((!special._default || special._default.apply(elem.ownerDocument, data) === false) &&
					!(type === "click" && jQuery.nodeName(elem, "a")) && jQuery.acceptData(elem)) {

					// Call a native DOM method on the target with the same name name as the event.
					// Can't use an .isFunction() check here because IE6/7 fails that test.
					// Don't do default actions on window, that's where global variables be (#6170)
					// IE<9 dies on focus/blur to hidden element (#1486)
					if (ontype && elem[type] && ((type !== "focus" && type !== "blur") || event.target.offsetWidth !== 0) && !jQuery.isWindow(elem)) {

						// Don't re-trigger an onFOO event when we call its FOO() method
						old = elem[ontype];

						if (old) {
							elem[ontype] = null;
						}

						// Prevent re-triggering of the same event, since we already bubbled it above
						jQuery.event.triggered = type;
						elem[type]();
						jQuery.event.triggered = undefined;

						if (old) {
							elem[ontype] = old;
						}
					}
				}
			}

			return event.result;
		},

		dispatch: function (event) {

			// Make a writable jQuery.Event from the native event object
			event = jQuery.event.fix(event || window.event);

			var handlers = ((jQuery._data(this, "events") || {})[event.type] || []),
				delegateCount = handlers.delegateCount,
				args = [].slice.call(arguments, 0),
				run_all = !event.exclusive && !event.namespace,
				special = jQuery.event.special[event.type] || {},
				handlerQueue = [],
				i, j, cur, jqcur, ret, selMatch, matched, matches, handleObj, sel, related;

			// Use the fix-ed jQuery.Event rather than the (read-only) native event
			args[0] = event;
			event.delegateTarget = this;

			// Call the preDispatch hook for the mapped type, and let it bail if desired
			if (special.preDispatch && special.preDispatch.call(this, event) === false) {
				return;
			}

			// Determine handlers that should run if there are delegated events
			// Avoid non-left-click bubbling in Firefox (#3861)
			if (delegateCount && !(event.button && event.type === "click")) {

				// Pregenerate a single jQuery object for reuse with .is()
				jqcur = jQuery(this);
				jqcur.context = this.ownerDocument || this;

				for (cur = event.target; cur != this; cur = cur.parentNode || this) {

					// Don't process events on disabled elements (#6911, #8165)
					if (cur.disabled !== true) {
						selMatch = {};
						matches = [];
						jqcur[0] = cur;
						for (i = 0; i < delegateCount; i++) {
							handleObj = handlers[i];
							sel = handleObj.selector;

							if (selMatch[sel] === undefined) {
								selMatch[sel] = (
									handleObj.quick ? quickIs(cur, handleObj.quick) : jqcur.is(sel)
								);
							}
							if (selMatch[sel]) {
								matches.push(handleObj);
							}
						}
						if (matches.length) {
							handlerQueue.push({ elem: cur, matches: matches });
						}
					}
				}
			}

			// Add the remaining (directly-bound) handlers
			if (handlers.length > delegateCount) {
				handlerQueue.push({ elem: this, matches: handlers.slice(delegateCount) });
			}

			// Run delegates first; they may want to stop propagation beneath us
			for (i = 0; i < handlerQueue.length && !event.isPropagationStopped() ; i++) {
				matched = handlerQueue[i];
				event.currentTarget = matched.elem;

				for (j = 0; j < matched.matches.length && !event.isImmediatePropagationStopped() ; j++) {
					handleObj = matched.matches[j];

					// Triggered event must either 1) be non-exclusive and have no namespace, or
					// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).
					if (run_all || (!event.namespace && !handleObj.namespace) || event.namespace_re && event.namespace_re.test(handleObj.namespace)) {

						event.data = handleObj.data;
						event.handleObj = handleObj;

						ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler)
								.apply(matched.elem, args);

						if (ret !== undefined) {
							event.result = ret;
							if (ret === false) {
								event.preventDefault();
								event.stopPropagation();
							}
						}
					}
				}
			}

			// Call the postDispatch hook for the mapped type
			if (special.postDispatch) {
				special.postDispatch.call(this, event);
			}

			return event.result;
		},

		// Includes some event props shared by KeyEvent and MouseEvent
		// *** attrChange attrName relatedNode srcElement  are not normalized, non-W3C, deprecated, will be removed in 1.8 ***
		props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

		fixHooks: {},

		keyHooks: {
			props: "char charCode key keyCode".split(" "),
			filter: function (event, original) {

				// Add which for key events
				if (event.which == null) {
					event.which = original.charCode != null ? original.charCode : original.keyCode;
				}

				return event;
			}
		},

		mouseHooks: {
			props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
			filter: function (event, original) {
				var eventDoc, doc, body,
					button = original.button,
					fromElement = original.fromElement;

				// Calculate pageX/Y if missing and clientX/Y available
				if (event.pageX == null && original.clientX != null) {
					eventDoc = event.target.ownerDocument || document;
					doc = eventDoc.documentElement;
					body = eventDoc.body;

					event.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);
					event.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);
				}

				// Add relatedTarget, if necessary
				if (!event.relatedTarget && fromElement) {
					event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;
				}

				// Add which for click: 1 === left; 2 === middle; 3 === right
				// Note: button is not normalized, so don't use it
				if (!event.which && button !== undefined) {
					event.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));
				}

				return event;
			}
		},

		fix: function (event) {
			if (event[jQuery.expando]) {
				return event;
			}

			// Create a writable copy of the event object and normalize some properties
			var i, prop,
				originalEvent = event,
				fixHook = jQuery.event.fixHooks[event.type] || {},
				copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;

			event = jQuery.Event(originalEvent);

			for (i = copy.length; i;) {
				prop = copy[--i];
				event[prop] = originalEvent[prop];
			}

			// Fix target property, if necessary (#1925, IE 6/7/8 & Safari2)
			if (!event.target) {
				event.target = originalEvent.srcElement || document;
			}

			// Target should not be a text node (#504, Safari)
			if (event.target.nodeType === 3) {
				event.target = event.target.parentNode;
			}

			// For mouse/key events; add metaKey if it's not there (#3368, IE6/7/8)
			if (event.metaKey === undefined) {
				event.metaKey = event.ctrlKey;
			}

			return fixHook.filter ? fixHook.filter(event, originalEvent) : event;
		},

		special: {
			ready: {
				// Make sure the ready event is setup
				setup: jQuery.bindReady
			},

			load: {
				// Prevent triggered image.load events from bubbling to window.load
				noBubble: true
			},

			focus: {
				delegateType: "focusin"
			},
			blur: {
				delegateType: "focusout"
			},

			beforeunload: {
				setup: function (data, namespaces, eventHandle) {
					// We only want to do this special case on windows
					if (jQuery.isWindow(this)) {
						this.onbeforeunload = eventHandle;
					}
				},

				teardown: function (namespaces, eventHandle) {
					if (this.onbeforeunload === eventHandle) {
						this.onbeforeunload = null;
					}
				}
			}
		},

		simulate: function (type, elem, event, bubble) {
			// Piggyback on a donor event to simulate a different one.
			// Fake originalEvent to avoid donor's stopPropagation, but if the
			// simulated event prevents default then we do the same on the donor.
			var e = jQuery.extend(
				new jQuery.Event(),
				event,
				{
					type: type,
					isSimulated: true,
					originalEvent: {}
				}
			);
			if (bubble) {
				jQuery.event.trigger(e, null, elem);
			} else {
				jQuery.event.dispatch.call(elem, e);
			}
			if (e.isDefaultPrevented()) {
				event.preventDefault();
			}
		}
	};

	// Some plugins are using, but it's undocumented/deprecated and will be removed.
	// The 1.7 special event interface should provide all the hooks needed now.
	jQuery.event.handle = jQuery.event.dispatch;

	jQuery.removeEvent = document.removeEventListener ?
		function (elem, type, handle) {
			if (elem.removeEventListener) {
				elem.removeEventListener(type, handle, false);
			}
		} :
		function (elem, type, handle) {
			if (elem.detachEvent) {
				elem.detachEvent("on" + type, handle);
			}
		};

	jQuery.Event = function (src, props) {
		// Allow instantiation without the 'new' keyword
		if (!(this instanceof jQuery.Event)) {
			return new jQuery.Event(src, props);
		}

		// Event object
		if (src && src.type) {
			this.originalEvent = src;
			this.type = src.type;

			// Events bubbling up the document may have been marked as prevented
			// by a handler lower down the tree; reflect the correct value.
			this.isDefaultPrevented = (src.defaultPrevented || src.returnValue === false ||
				src.getPreventDefault && src.getPreventDefault()) ? returnTrue : returnFalse;

			// Event type
		} else {
			this.type = src;
		}

		// Put explicitly provided properties onto the event object
		if (props) {
			jQuery.extend(this, props);
		}

		// Create a timestamp if incoming event doesn't have one
		this.timeStamp = src && src.timeStamp || jQuery.now();

		// Mark it as fixed
		this[jQuery.expando] = true;
	};

	function returnFalse() {
		return false;
	}
	function returnTrue() {
		return true;
	}

	// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
	// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
	jQuery.Event.prototype = {
		preventDefault: function () {
			this.isDefaultPrevented = returnTrue;

			var e = this.originalEvent;
			if (!e) {
				return;
			}

			// if preventDefault exists run it on the original event
			if (e.preventDefault) {
				e.preventDefault();

				// otherwise set the returnValue property of the original event to false (IE)
			} else {
				e.returnValue = false;
			}
		},
		stopPropagation: function () {
			this.isPropagationStopped = returnTrue;

			var e = this.originalEvent;
			if (!e) {
				return;
			}
			// if stopPropagation exists run it on the original event
			if (e.stopPropagation) {
				e.stopPropagation();
			}
			// otherwise set the cancelBubble property of the original event to true (IE)
			e.cancelBubble = true;
		},
		stopImmediatePropagation: function () {
			this.isImmediatePropagationStopped = returnTrue;
			this.stopPropagation();
		},
		isDefaultPrevented: returnFalse,
		isPropagationStopped: returnFalse,
		isImmediatePropagationStopped: returnFalse
	};

	// Create mouseenter/leave events using mouseover/out and event-time checks
	jQuery.each({
		mouseenter: "mouseover",
		mouseleave: "mouseout"
	}, function (orig, fix) {
		jQuery.event.special[orig] = {
			delegateType: fix,
			bindType: fix,

			handle: function (event) {
				var target = this,
					related = event.relatedTarget,
					handleObj = event.handleObj,
					selector = handleObj.selector,
					ret;

				// For mousenter/leave call the handler if related is outside the target.
				// NB: No relatedTarget if the mouse left/entered the browser window
				if (!related || (related !== target && !jQuery.contains(target, related))) {
					event.type = handleObj.origType;
					ret = handleObj.handler.apply(this, arguments);
					event.type = fix;
				}
				return ret;
			}
		};
	});

	// IE submit delegation
	if (!jQuery.support.submitBubbles) {

		jQuery.event.special.submit = {
			setup: function () {
				// Only need this for delegated form submit events
				if (jQuery.nodeName(this, "form")) {
					return false;
				}

				// Lazy-add a submit handler when a descendant form may potentially be submitted
				jQuery.event.add(this, "click._submit keypress._submit", function (e) {
					// Node name check avoids a VML-related crash in IE (#9807)
					var elem = e.target,
						form = jQuery.nodeName(elem, "input") || jQuery.nodeName(elem, "button") ? elem.form : undefined;
					if (form && !form._submit_attached) {
						jQuery.event.add(form, "submit._submit", function (event) {
							event._submit_bubble = true;
						});
						form._submit_attached = true;
					}
				});
				// return undefined since we don't need an event listener
			},

			postDispatch: function (event) {
				// If form was submitted by the user, bubble the event up the tree
				if (event._submit_bubble) {
					delete event._submit_bubble;
					if (this.parentNode && !event.isTrigger) {
						jQuery.event.simulate("submit", this.parentNode, event, true);
					}
				}
			},

			teardown: function () {
				// Only need this for delegated form submit events
				if (jQuery.nodeName(this, "form")) {
					return false;
				}

				// Remove delegated handlers; cleanData eventually reaps submit handlers attached above
				jQuery.event.remove(this, "._submit");
			}
		};
	}

	// IE change delegation and checkbox/radio fix
	if (!jQuery.support.changeBubbles) {

		jQuery.event.special.change = {

			setup: function () {

				if (rformElems.test(this.nodeName)) {
					// IE doesn't fire change on a check/radio until blur; trigger it on click
					// after a propertychange. Eat the blur-change in special.change.handle.
					// This still fires onchange a second time for check/radio after blur.
					if (this.type === "checkbox" || this.type === "radio") {
						jQuery.event.add(this, "propertychange._change", function (event) {
							if (event.originalEvent.propertyName === "checked") {
								this._just_changed = true;
							}
						});
						jQuery.event.add(this, "click._change", function (event) {
							if (this._just_changed && !event.isTrigger) {
								this._just_changed = false;
								jQuery.event.simulate("change", this, event, true);
							}
						});
					}
					return false;
				}
				// Delegated event; lazy-add a change handler on descendant inputs
				jQuery.event.add(this, "beforeactivate._change", function (e) {
					var elem = e.target;

					if (rformElems.test(elem.nodeName) && !elem._change_attached) {
						jQuery.event.add(elem, "change._change", function (event) {
							if (this.parentNode && !event.isSimulated && !event.isTrigger) {
								jQuery.event.simulate("change", this.parentNode, event, true);
							}
						});
						elem._change_attached = true;
					}
				});
			},

			handle: function (event) {
				var elem = event.target;

				// Swallow native change events from checkbox/radio, we already triggered them above
				if (this !== elem || event.isSimulated || event.isTrigger || (elem.type !== "radio" && elem.type !== "checkbox")) {
					return event.handleObj.handler.apply(this, arguments);
				}
			},

			teardown: function () {
				jQuery.event.remove(this, "._change");

				return rformElems.test(this.nodeName);
			}
		};
	}

	// Create "bubbling" focus and blur events
	if (!jQuery.support.focusinBubbles) {
		jQuery.each({ focus: "focusin", blur: "focusout" }, function (orig, fix) {

			// Attach a single capturing handler while someone wants focusin/focusout
			var attaches = 0,
				handler = function (event) {
					jQuery.event.simulate(fix, event.target, jQuery.event.fix(event), true);
				};

			jQuery.event.special[fix] = {
				setup: function () {
					if (attaches++ === 0) {
						document.addEventListener(orig, handler, true);
					}
				},
				teardown: function () {
					if (--attaches === 0) {
						document.removeEventListener(orig, handler, true);
					}
				}
			};
		});
	}

	jQuery.fn.extend({

		on: function (types, selector, data, fn, /*INTERNAL*/ one) {
			var origFn, type;

			// Types can be a map of types/handlers
			if (typeof types === "object") {
				// ( types-Object, selector, data )
				if (typeof selector !== "string") { // && selector != null
					// ( types-Object, data )
					data = data || selector;
					selector = undefined;
				}
				for (type in types) {
					this.on(type, selector, data, types[type], one);
				}
				return this;
			}

			if (data == null && fn == null) {
				// ( types, fn )
				fn = selector;
				data = selector = undefined;
			} else if (fn == null) {
				if (typeof selector === "string") {
					// ( types, selector, fn )
					fn = data;
					data = undefined;
				} else {
					// ( types, data, fn )
					fn = data;
					data = selector;
					selector = undefined;
				}
			}
			if (fn === false) {
				fn = returnFalse;
			} else if (!fn) {
				return this;
			}

			if (one === 1) {
				origFn = fn;
				fn = function (event) {
					// Can use an empty set, since event contains the info
					jQuery().off(event);
					return origFn.apply(this, arguments);
				};
				// Use same guid so caller can remove using origFn
				fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);
			}
			return this.each(function () {
				jQuery.event.add(this, types, fn, data, selector);
			});
		},
		one: function (types, selector, data, fn) {
			return this.on(types, selector, data, fn, 1);
		},
		off: function (types, selector, fn) {
			if (types && types.preventDefault && types.handleObj) {
				// ( event )  dispatched jQuery.Event
				var handleObj = types.handleObj;
				jQuery(types.delegateTarget).off(
					handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
					handleObj.selector,
					handleObj.handler
				);
				return this;
			}
			if (typeof types === "object") {
				// ( types-object [, selector] )
				for (var type in types) {
					this.off(type, selector, types[type]);
				}
				return this;
			}
			if (selector === false || typeof selector === "function") {
				// ( types [, fn] )
				fn = selector;
				selector = undefined;
			}
			if (fn === false) {
				fn = returnFalse;
			}
			return this.each(function () {
				jQuery.event.remove(this, types, fn, selector);
			});
		},

		bind: function (types, data, fn) {
			return this.on(types, null, data, fn);
		},
		unbind: function (types, fn) {
			return this.off(types, null, fn);
		},

		live: function (types, data, fn) {
			jQuery(this.context).on(types, this.selector, data, fn);
			return this;
		},
		die: function (types, fn) {
			jQuery(this.context).off(types, this.selector || "**", fn);
			return this;
		},

		delegate: function (selector, types, data, fn) {
			return this.on(types, selector, data, fn);
		},
		undelegate: function (selector, types, fn) {
			// ( namespace ) or ( selector, types [, fn] )
			return arguments.length == 1 ? this.off(selector, "**") : this.off(types, selector, fn);
		},

		trigger: function (type, data) {
			return this.each(function () {
				jQuery.event.trigger(type, data, this);
			});
		},
		triggerHandler: function (type, data) {
			if (this[0]) {
				return jQuery.event.trigger(type, data, this[0], true);
			}
		},

		toggle: function (fn) {
			// Save reference to arguments for access in closure
			var args = arguments,
				guid = fn.guid || jQuery.guid++,
				i = 0,
				toggler = function (event) {
					// Figure out which function to execute
					var lastToggle = (jQuery._data(this, "lastToggle" + fn.guid) || 0) % i;
					jQuery._data(this, "lastToggle" + fn.guid, lastToggle + 1);

					// Make sure that clicks stop
					event.preventDefault();

					// and execute the function
					return args[lastToggle].apply(this, arguments) || false;
				};

			// link all the functions, so any of them can unbind this click handler
			toggler.guid = guid;
			while (i < args.length) {
				args[i++].guid = guid;
			}

			return this.click(toggler);
		},

		hover: function (fnOver, fnOut) {
			return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
		}
	});

	jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick " +
		"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
		"change select submit keydown keypress keyup error contextmenu").split(" "), function (i, name) {

			// Handle event binding
			jQuery.fn[name] = function (data, fn) {
				if (fn == null) {
					fn = data;
					data = null;
				}

				return arguments.length > 0 ?
					this.on(name, null, data, fn) :
					this.trigger(name);
			};

			if (jQuery.attrFn) {
				jQuery.attrFn[name] = true;
			}

			if (rkeyEvent.test(name)) {
				jQuery.event.fixHooks[name] = jQuery.event.keyHooks;
			}

			if (rmouseEvent.test(name)) {
				jQuery.event.fixHooks[name] = jQuery.event.mouseHooks;
			}
		});



	/*!
	 * Sizzle CSS Selector Engine
	 *  Copyright 2011, The Dojo Foundation
	 *  Released under the MIT, BSD, and GPL Licenses.
	 *  More information: http://sizzlejs.com/
	 */
	(function () {

		var chunker = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
			expando = "sizcache" + (Math.random() + '').replace('.', ''),
			done = 0,
			toString = Object.prototype.toString,
			hasDuplicate = false,
			baseHasDuplicate = true,
			rBackslash = /\\/g,
			rReturn = /\r\n/g,
			rNonWord = /\W/;

		// Here we check if the JavaScript engine is using some sort of
		// optimization where it does not always call our comparision
		// function. If that is the case, discard the hasDuplicate value.
		//   Thus far that includes Google Chrome.
		[0, 0].sort(function () {
			baseHasDuplicate = false;
			return 0;
		});

		var Sizzle = function (selector, context, results, seed) {
			results = results || [];
			context = context || document;

			var origContext = context;

			if (context.nodeType !== 1 && context.nodeType !== 9) {
				return [];
			}

			if (!selector || typeof selector !== "string") {
				return results;
			}

			var m, set, checkSet, extra, ret, cur, pop, i,
				prune = true,
				contextXML = Sizzle.isXML(context),
				parts = [],
				soFar = selector;

			// Reset the position of the chunker regexp (start from head)
			do {
				chunker.exec("");
				m = chunker.exec(soFar);

				if (m) {
					soFar = m[3];

					parts.push(m[1]);

					if (m[2]) {
						extra = m[3];
						break;
					}
				}
			} while (m);

			if (parts.length > 1 && origPOS.exec(selector)) {

				if (parts.length === 2 && Expr.relative[parts[0]]) {
					set = posProcess(parts[0] + parts[1], context, seed);

				} else {
					set = Expr.relative[parts[0]] ?
						[context] :
						Sizzle(parts.shift(), context);

					while (parts.length) {
						selector = parts.shift();

						if (Expr.relative[selector]) {
							selector += parts.shift();
						}

						set = posProcess(selector, set, seed);
					}
				}

			} else {
				// Take a shortcut and set the context if the root selector is an ID
				// (but not if it'll be faster if the inner selector is an ID)
				if (!seed && parts.length > 1 && context.nodeType === 9 && !contextXML &&
						Expr.match.ID.test(parts[0]) && !Expr.match.ID.test(parts[parts.length - 1])) {

					ret = Sizzle.find(parts.shift(), context, contextXML);
					context = ret.expr ?
						Sizzle.filter(ret.expr, ret.set)[0] :
						ret.set[0];
				}

				if (context) {
					ret = seed ?
				{ expr: parts.pop(), set: makeArray(seed) } :
						Sizzle.find(parts.pop(), parts.length === 1 && (parts[0] === "~" || parts[0] === "+") && context.parentNode ? context.parentNode : context, contextXML);

					set = ret.expr ?
						Sizzle.filter(ret.expr, ret.set) :
						ret.set;

					if (parts.length > 0) {
						checkSet = makeArray(set);

					} else {
						prune = false;
					}

					while (parts.length) {
						cur = parts.pop();
						pop = cur;

						if (!Expr.relative[cur]) {
							cur = "";
						} else {
							pop = parts.pop();
						}

						if (pop == null) {
							pop = context;
						}

						Expr.relative[cur](checkSet, pop, contextXML);
					}

				} else {
					checkSet = parts = [];
				}
			}

			if (!checkSet) {
				checkSet = set;
			}

			if (!checkSet) {
				Sizzle.error(cur || selector);
			}

			if (toString.call(checkSet) === "[object Array]") {
				if (!prune) {
					results.push.apply(results, checkSet);

				} else if (context && context.nodeType === 1) {
					for (i = 0; checkSet[i] != null; i++) {
						if (checkSet[i] && (checkSet[i] === true || checkSet[i].nodeType === 1 && Sizzle.contains(context, checkSet[i]))) {
							results.push(set[i]);
						}
					}

				} else {
					for (i = 0; checkSet[i] != null; i++) {
						if (checkSet[i] && checkSet[i].nodeType === 1) {
							results.push(set[i]);
						}
					}
				}

			} else {
				makeArray(checkSet, results);
			}

			if (extra) {
				Sizzle(extra, origContext, results, seed);
				Sizzle.uniqueSort(results);
			}

			return results;
		};

		Sizzle.uniqueSort = function (results) {
			if (sortOrder) {
				hasDuplicate = baseHasDuplicate;
				results.sort(sortOrder);

				if (hasDuplicate) {
					for (var i = 1; i < results.length; i++) {
						if (results[i] === results[i - 1]) {
							results.splice(i--, 1);
						}
					}
				}
			}

			return results;
		};

		Sizzle.matches = function (expr, set) {
			return Sizzle(expr, null, null, set);
		};

		Sizzle.matchesSelector = function (node, expr) {
			return Sizzle(expr, null, null, [node]).length > 0;
		};

		Sizzle.find = function (expr, context, isXML) {
			var set, i, len, match, type, left;

			if (!expr) {
				return [];
			}

			for (i = 0, len = Expr.order.length; i < len; i++) {
				type = Expr.order[i];

				if ((match = Expr.leftMatch[type].exec(expr))) {
					left = match[1];
					match.splice(1, 1);

					if (left.substr(left.length - 1) !== "\\") {
						match[1] = (match[1] || "").replace(rBackslash, "");
						set = Expr.find[type](match, context, isXML);

						if (set != null) {
							expr = expr.replace(Expr.match[type], "");
							break;
						}
					}
				}
			}

			if (!set) {
				set = typeof context.getElementsByTagName !== "undefined" ?
					context.getElementsByTagName("*") :
					[];
			}

			return { set: set, expr: expr };
		};

		Sizzle.filter = function (expr, set, inplace, not) {
			var match, anyFound,
				type, found, item, filter, left,
				i, pass,
				old = expr,
				result = [],
				curLoop = set,
				isXMLFilter = set && set[0] && Sizzle.isXML(set[0]);

			while (expr && set.length) {
				for (type in Expr.filter) {
					if ((match = Expr.leftMatch[type].exec(expr)) != null && match[2]) {
						filter = Expr.filter[type];
						left = match[1];

						anyFound = false;

						match.splice(1, 1);

						if (left.substr(left.length - 1) === "\\") {
							continue;
						}

						if (curLoop === result) {
							result = [];
						}

						if (Expr.preFilter[type]) {
							match = Expr.preFilter[type](match, curLoop, inplace, result, not, isXMLFilter);

							if (!match) {
								anyFound = found = true;

							} else if (match === true) {
								continue;
							}
						}

						if (match) {
							for (i = 0; (item = curLoop[i]) != null; i++) {
								if (item) {
									found = filter(item, match, i, curLoop);
									pass = not ^ found;

									if (inplace && found != null) {
										if (pass) {
											anyFound = true;

										} else {
											curLoop[i] = false;
										}

									} else if (pass) {
										result.push(item);
										anyFound = true;
									}
								}
							}
						}

						if (found !== undefined) {
							if (!inplace) {
								curLoop = result;
							}

							expr = expr.replace(Expr.match[type], "");

							if (!anyFound) {
								return [];
							}

							break;
						}
					}
				}

				// Improper expression
				if (expr === old) {
					if (anyFound == null) {
						Sizzle.error(expr);

					} else {
						break;
					}
				}

				old = expr;
			}

			return curLoop;
		};

		Sizzle.error = function (msg) {
			throw new Error("Syntax error, unrecognized expression: " + msg);
		};

		/**
		 * Utility function for retreiving the text value of an array of DOM nodes
		 * @param {Array|Element} elem
		 */
		var getText = Sizzle.getText = function (elem) {
			var i, node,
				nodeType = elem.nodeType,
				ret = "";

			if (nodeType) {
				if (nodeType === 1 || nodeType === 9 || nodeType === 11) {
					// Use textContent || innerText for elements
					if (typeof elem.textContent === 'string') {
						return elem.textContent;
					} else if (typeof elem.innerText === 'string') {
						// Replace IE's carriage returns
						return elem.innerText.replace(rReturn, '');
					} else {
						// Traverse it's children
						for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
							ret += getText(elem);
						}
					}
				} else if (nodeType === 3 || nodeType === 4) {
					return elem.nodeValue;
				}
			} else {

				// If no nodeType, this is expected to be an array
				for (i = 0; (node = elem[i]) ; i++) {
					// Do not traverse comment nodes
					if (node.nodeType !== 8) {
						ret += getText(node);
					}
				}
			}
			return ret;
		};

		var Expr = Sizzle.selectors = {
			order: ["ID", "NAME", "TAG"],

			match: {
				ID: /#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
				CLASS: /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
				NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
				ATTR: /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
				TAG: /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
				CHILD: /:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
				POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
				PSEUDO: /:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/
			},

			leftMatch: {},

			attrMap: {
				"class": "className",
				"for": "htmlFor"
			},

			attrHandle: {
				href: function (elem) {
					return elem.getAttribute("href");
				},
				type: function (elem) {
					return elem.getAttribute("type");
				}
			},

			relative: {
				"+": function (checkSet, part) {
					var isPartStr = typeof part === "string",
						isTag = isPartStr && !rNonWord.test(part),
						isPartStrNotTag = isPartStr && !isTag;

					if (isTag) {
						part = part.toLowerCase();
					}

					for (var i = 0, l = checkSet.length, elem; i < l; i++) {
						if ((elem = checkSet[i])) {
							while ((elem = elem.previousSibling) && elem.nodeType !== 1) { }

							checkSet[i] = isPartStrNotTag || elem && elem.nodeName.toLowerCase() === part ?
								elem || false :
								elem === part;
						}
					}

					if (isPartStrNotTag) {
						Sizzle.filter(part, checkSet, true);
					}
				},

				">": function (checkSet, part) {
					var elem,
						isPartStr = typeof part === "string",
						i = 0,
						l = checkSet.length;

					if (isPartStr && !rNonWord.test(part)) {
						part = part.toLowerCase();

						for (; i < l; i++) {
							elem = checkSet[i];

							if (elem) {
								var parent = elem.parentNode;
								checkSet[i] = parent.nodeName.toLowerCase() === part ? parent : false;
							}
						}

					} else {
						for (; i < l; i++) {
							elem = checkSet[i];

							if (elem) {
								checkSet[i] = isPartStr ?
									elem.parentNode :
									elem.parentNode === part;
							}
						}

						if (isPartStr) {
							Sizzle.filter(part, checkSet, true);
						}
					}
				},

				"": function (checkSet, part, isXML) {
					var nodeCheck,
						doneName = done++,
						checkFn = dirCheck;

					if (typeof part === "string" && !rNonWord.test(part)) {
						part = part.toLowerCase();
						nodeCheck = part;
						checkFn = dirNodeCheck;
					}

					checkFn("parentNode", part, doneName, checkSet, nodeCheck, isXML);
				},

				"~": function (checkSet, part, isXML) {
					var nodeCheck,
						doneName = done++,
						checkFn = dirCheck;

					if (typeof part === "string" && !rNonWord.test(part)) {
						part = part.toLowerCase();
						nodeCheck = part;
						checkFn = dirNodeCheck;
					}

					checkFn("previousSibling", part, doneName, checkSet, nodeCheck, isXML);
				}
			},

			find: {
				ID: function (match, context, isXML) {
					if (typeof context.getElementById !== "undefined" && !isXML) {
						var m = context.getElementById(match[1]);
						// Check parentNode to catch when Blackberry 4.6 returns
						// nodes that are no longer in the document #6963
						return m && m.parentNode ? [m] : [];
					}
				},

				NAME: function (match, context) {
					if (typeof context.getElementsByName !== "undefined") {
						var ret = [],
							results = context.getElementsByName(match[1]);

						for (var i = 0, l = results.length; i < l; i++) {
							if (results[i].getAttribute("name") === match[1]) {
								ret.push(results[i]);
							}
						}

						return ret.length === 0 ? null : ret;
					}
				},

				TAG: function (match, context) {
					if (typeof context.getElementsByTagName !== "undefined") {
						return context.getElementsByTagName(match[1]);
					}
				}
			},
			preFilter: {
				CLASS: function (match, curLoop, inplace, result, not, isXML) {
					match = " " + match[1].replace(rBackslash, "") + " ";

					if (isXML) {
						return match;
					}

					for (var i = 0, elem; (elem = curLoop[i]) != null; i++) {
						if (elem) {
							if (not ^ (elem.className && (" " + elem.className + " ").replace(/[\t\n\r]/g, " ").indexOf(match) >= 0)) {
								if (!inplace) {
									result.push(elem);
								}

							} else if (inplace) {
								curLoop[i] = false;
							}
						}
					}

					return false;
				},

				ID: function (match) {
					return match[1].replace(rBackslash, "");
				},

				TAG: function (match, curLoop) {
					return match[1].replace(rBackslash, "").toLowerCase();
				},

				CHILD: function (match) {
					if (match[1] === "nth") {
						if (!match[2]) {
							Sizzle.error(match[0]);
						}

						match[2] = match[2].replace(/^\+|\s*/g, '');

						// parse equations like 'even', 'odd', '5', '2n', '3n+2', '4n-1', '-n+6'
						var test = /(-?)(\d*)(?:n([+\-]?\d*))?/.exec(
							match[2] === "even" && "2n" || match[2] === "odd" && "2n+1" ||
							!/\D/.test(match[2]) && "0n+" + match[2] || match[2]);

						// calculate the numbers (first)n+(last) including if they are negative
						match[2] = (test[1] + (test[2] || 1)) - 0;
						match[3] = test[3] - 0;
					}
					else if (match[2]) {
						Sizzle.error(match[0]);
					}

					// TODO: Move to normal caching system
					match[0] = done++;

					return match;
				},

				ATTR: function (match, curLoop, inplace, result, not, isXML) {
					var name = match[1] = match[1].replace(rBackslash, "");

					if (!isXML && Expr.attrMap[name]) {
						match[1] = Expr.attrMap[name];
					}

					// Handle if an un-quoted value was used
					match[4] = (match[4] || match[5] || "").replace(rBackslash, "");

					if (match[2] === "~=") {
						match[4] = " " + match[4] + " ";
					}

					return match;
				},

				PSEUDO: function (match, curLoop, inplace, result, not) {
					if (match[1] === "not") {
						// If we're dealing with a complex expression, or a simple one
						if ((chunker.exec(match[3]) || "").length > 1 || /^\w/.test(match[3])) {
							match[3] = Sizzle(match[3], null, null, curLoop);

						} else {
							var ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);

							if (!inplace) {
								result.push.apply(result, ret);
							}

							return false;
						}

					} else if (Expr.match.POS.test(match[0]) || Expr.match.CHILD.test(match[0])) {
						return true;
					}

					return match;
				},

				POS: function (match) {
					match.unshift(true);

					return match;
				}
			},

			filters: {
				enabled: function (elem) {
					return elem.disabled === false && elem.type !== "hidden";
				},

				disabled: function (elem) {
					return elem.disabled === true;
				},

				checked: function (elem) {
					return elem.checked === true;
				},

				selected: function (elem) {
					// Accessing this property makes selected-by-default
					// options in Safari work properly
					if (elem.parentNode) {
						elem.parentNode.selectedIndex;
					}

					return elem.selected === true;
				},

				parent: function (elem) {
					return !!elem.firstChild;
				},

				empty: function (elem) {
					return !elem.firstChild;
				},

				has: function (elem, i, match) {
					return !!Sizzle(match[3], elem).length;
				},

				header: function (elem) {
					return (/h\d/i).test(elem.nodeName);
				},

				text: function (elem) {
					var attr = elem.getAttribute("type"), type = elem.type;
					// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)
					// use getAttribute instead to test this case
					return elem.nodeName.toLowerCase() === "input" && "text" === type && (attr === type || attr === null);
				},

				radio: function (elem) {
					return elem.nodeName.toLowerCase() === "input" && "radio" === elem.type;
				},

				checkbox: function (elem) {
					return elem.nodeName.toLowerCase() === "input" && "checkbox" === elem.type;
				},

				file: function (elem) {
					return elem.nodeName.toLowerCase() === "input" && "file" === elem.type;
				},

				password: function (elem) {
					return elem.nodeName.toLowerCase() === "input" && "password" === elem.type;
				},

				submit: function (elem) {
					var name = elem.nodeName.toLowerCase();
					return (name === "input" || name === "button") && "submit" === elem.type;
				},

				image: function (elem) {
					return elem.nodeName.toLowerCase() === "input" && "image" === elem.type;
				},

				reset: function (elem) {
					var name = elem.nodeName.toLowerCase();
					return (name === "input" || name === "button") && "reset" === elem.type;
				},

				button: function (elem) {
					var name = elem.nodeName.toLowerCase();
					return name === "input" && "button" === elem.type || name === "button";
				},

				input: function (elem) {
					return (/input|select|textarea|button/i).test(elem.nodeName);
				},

				focus: function (elem) {
					return elem === elem.ownerDocument.activeElement;
				}
			},
			setFilters: {
				first: function (elem, i) {
					return i === 0;
				},

				last: function (elem, i, match, array) {
					return i === array.length - 1;
				},

				even: function (elem, i) {
					return i % 2 === 0;
				},

				odd: function (elem, i) {
					return i % 2 === 1;
				},

				lt: function (elem, i, match) {
					return i < match[3] - 0;
				},

				gt: function (elem, i, match) {
					return i > match[3] - 0;
				},

				nth: function (elem, i, match) {
					return match[3] - 0 === i;
				},

				eq: function (elem, i, match) {
					return match[3] - 0 === i;
				}
			},
			filter: {
				PSEUDO: function (elem, match, i, array) {
					var name = match[1],
						filter = Expr.filters[name];

					if (filter) {
						return filter(elem, i, match, array);

					} else if (name === "contains") {
						return (elem.textContent || elem.innerText || getText([elem]) || "").indexOf(match[3]) >= 0;

					} else if (name === "not") {
						var not = match[3];

						for (var j = 0, l = not.length; j < l; j++) {
							if (not[j] === elem) {
								return false;
							}
						}

						return true;

					} else {
						Sizzle.error(name);
					}
				},

				CHILD: function (elem, match) {
					var first, last,
						doneName, parent, cache,
						count, diff,
						type = match[1],
						node = elem;

					switch (type) {
						case "only":
						case "first":
							while ((node = node.previousSibling)) {
								if (node.nodeType === 1) {
									return false;
								}
							}

							if (type === "first") {
								return true;
							}

							node = elem;

							/* falls through */
						case "last":
							while ((node = node.nextSibling)) {
								if (node.nodeType === 1) {
									return false;
								}
							}

							return true;

						case "nth":
							first = match[2];
							last = match[3];

							if (first === 1 && last === 0) {
								return true;
							}

							doneName = match[0];
							parent = elem.parentNode;

							if (parent && (parent[expando] !== doneName || !elem.nodeIndex)) {
								count = 0;

								for (node = parent.firstChild; node; node = node.nextSibling) {
									if (node.nodeType === 1) {
										node.nodeIndex = ++count;
									}
								}

								parent[expando] = doneName;
							}

							diff = elem.nodeIndex - last;

							if (first === 0) {
								return diff === 0;

							} else {
								return (diff % first === 0 && diff / first >= 0);
							}
					}
				},

				ID: function (elem, match) {
					return elem.nodeType === 1 && elem.getAttribute("id") === match;
				},

				TAG: function (elem, match) {
					return (match === "*" && elem.nodeType === 1) || !!elem.nodeName && elem.nodeName.toLowerCase() === match;
				},

				CLASS: function (elem, match) {
					return (" " + (elem.className || elem.getAttribute("class")) + " ")
						.indexOf(match) > -1;
				},

				ATTR: function (elem, match) {
					var name = match[1],
						result = Sizzle.attr ?
							Sizzle.attr(elem, name) :
							Expr.attrHandle[name] ?
							Expr.attrHandle[name](elem) :
							elem[name] != null ?
								elem[name] :
								elem.getAttribute(name),
						value = result + "",
						type = match[2],
						check = match[4];

					return result == null ?
						type === "!=" :
						!type && Sizzle.attr ?
						result != null :
						type === "=" ?
						value === check :
						type === "*=" ?
						value.indexOf(check) >= 0 :
						type === "~=" ?
						(" " + value + " ").indexOf(check) >= 0 :
						!check ?
						value && result !== false :
						type === "!=" ?
						value !== check :
						type === "^=" ?
						value.indexOf(check) === 0 :
						type === "$=" ?
						value.substr(value.length - check.length) === check :
						type === "|=" ?
						value === check || value.substr(0, check.length + 1) === check + "-" :
						false;
				},

				POS: function (elem, match, i, array) {
					var name = match[2],
						filter = Expr.setFilters[name];

					if (filter) {
						return filter(elem, i, match, array);
					}
				}
			}
		};

		var origPOS = Expr.match.POS,
			fescape = function (all, num) {
				return "\\" + (num - 0 + 1);
			};

		for (var type in Expr.match) {
			Expr.match[type] = new RegExp(Expr.match[type].source + (/(?![^\[]*\])(?![^\(]*\))/.source));
			Expr.leftMatch[type] = new RegExp(/(^(?:.|\r|\n)*?)/.source + Expr.match[type].source.replace(/\\(\d+)/g, fescape));
		}
		// Expose origPOS
		// "global" as in regardless of relation to brackets/parens
		Expr.match.globalPOS = origPOS;

		var makeArray = function (array, results) {
			array = Array.prototype.slice.call(array, 0);

			if (results) {
				results.push.apply(results, array);
				return results;
			}

			return array;
		};

		// Perform a simple check to determine if the browser is capable of
		// converting a NodeList to an array using builtin methods.
		// Also verifies that the returned array holds DOM nodes
		// (which is not the case in the Blackberry browser)
		try {
			Array.prototype.slice.call(document.documentElement.childNodes, 0)[0].nodeType;

			// Provide a fallback method if it does not work
		} catch (e) {
			makeArray = function (array, results) {
				var i = 0,
					ret = results || [];

				if (toString.call(array) === "[object Array]") {
					Array.prototype.push.apply(ret, array);

				} else {
					if (typeof array.length === "number") {
						for (var l = array.length; i < l; i++) {
							ret.push(array[i]);
						}

					} else {
						for (; array[i]; i++) {
							ret.push(array[i]);
						}
					}
				}

				return ret;
			};
		}

		var sortOrder, siblingCheck;

		if (document.documentElement.compareDocumentPosition) {
			sortOrder = function (a, b) {
				if (a === b) {
					hasDuplicate = true;
					return 0;
				}

				if (!a.compareDocumentPosition || !b.compareDocumentPosition) {
					return a.compareDocumentPosition ? -1 : 1;
				}

				return a.compareDocumentPosition(b) & 4 ? -1 : 1;
			};

		} else {
			sortOrder = function (a, b) {
				// The nodes are identical, we can exit early
				if (a === b) {
					hasDuplicate = true;
					return 0;

					// Fallback to using sourceIndex (in IE) if it's available on both nodes
				} else if (a.sourceIndex && b.sourceIndex) {
					return a.sourceIndex - b.sourceIndex;
				}

				var al, bl,
					ap = [],
					bp = [],
					aup = a.parentNode,
					bup = b.parentNode,
					cur = aup;

				// If the nodes are siblings (or identical) we can do a quick check
				if (aup === bup) {
					return siblingCheck(a, b);

					// If no parents were found then the nodes are disconnected
				} else if (!aup) {
					return -1;

				} else if (!bup) {
					return 1;
				}

				// Otherwise they're somewhere else in the tree so we need
				// to build up a full list of the parentNodes for comparison
				while (cur) {
					ap.unshift(cur);
					cur = cur.parentNode;
				}

				cur = bup;

				while (cur) {
					bp.unshift(cur);
					cur = cur.parentNode;
				}

				al = ap.length;
				bl = bp.length;

				// Start walking down the tree looking for a discrepancy
				for (var i = 0; i < al && i < bl; i++) {
					if (ap[i] !== bp[i]) {
						return siblingCheck(ap[i], bp[i]);
					}
				}

				// We ended someplace up the tree so do a sibling check
				return i === al ?
					siblingCheck(a, bp[i], -1) :
					siblingCheck(ap[i], b, 1);
			};

			siblingCheck = function (a, b, ret) {
				if (a === b) {
					return ret;
				}

				var cur = a.nextSibling;

				while (cur) {
					if (cur === b) {
						return -1;
					}

					cur = cur.nextSibling;
				}

				return 1;
			};
		}

		// Check to see if the browser returns elements by name when
		// querying by getElementById (and provide a workaround)
		(function () {
			// We're going to inject a fake input element with a specified name
			var form = document.createElement("div"),
				id = "script" + (new Date()).getTime(),
				root = document.documentElement;

			form.innerHTML = "<a name='" + id + "'/>";

			// Inject it into the root element, check its status, and remove it quickly
			root.insertBefore(form, root.firstChild);

			// The workaround has to do additional checks after a getElementById
			// Which slows things down for other browsers (hence the branching)
			if (document.getElementById(id)) {
				Expr.find.ID = function (match, context, isXML) {
					if (typeof context.getElementById !== "undefined" && !isXML) {
						var m = context.getElementById(match[1]);

						return m ?
							m.id === match[1] || typeof m.getAttributeNode !== "undefined" && m.getAttributeNode("id").nodeValue === match[1] ?
								[m] :
							undefined :
							[];
					}
				};

				Expr.filter.ID = function (elem, match) {
					var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");

					return elem.nodeType === 1 && node && node.nodeValue === match;
				};
			}

			root.removeChild(form);

			// release memory in IE
			root = form = null;
		})();

		(function () {
			// Check to see if the browser returns only elements
			// when doing getElementsByTagName("*")

			// Create a fake element
			var div = document.createElement("div");
			div.appendChild(document.createComment(""));

			// Make sure no comments are found
			if (div.getElementsByTagName("*").length > 0) {
				Expr.find.TAG = function (match, context) {
					var results = context.getElementsByTagName(match[1]);

					// Filter out possible comments
					if (match[1] === "*") {
						var tmp = [];

						for (var i = 0; results[i]; i++) {
							if (results[i].nodeType === 1) {
								tmp.push(results[i]);
							}
						}

						results = tmp;
					}

					return results;
				};
			}

			// Check to see if an attribute returns normalized href attributes
			div.innerHTML = "<a href='#'></a>";

			if (div.firstChild && typeof div.firstChild.getAttribute !== "undefined" &&
					div.firstChild.getAttribute("href") !== "#") {

				Expr.attrHandle.href = function (elem) {
					return elem.getAttribute("href", 2);
				};
			}

			// release memory in IE
			div = null;
		})();

		if (document.querySelectorAll) {
			(function () {
				var oldSizzle = Sizzle,
					div = document.createElement("div"),
					id = "__sizzle__";

				div.innerHTML = "<p class='TEST'></p>";

				// Safari can't handle uppercase or unicode characters when
				// in quirks mode.
				if (div.querySelectorAll && div.querySelectorAll(".TEST").length === 0) {
					return;
				}

				Sizzle = function (query, context, extra, seed) {
					context = context || document;

					// Only use querySelectorAll on non-XML documents
					// (ID selectors don't work in non-HTML documents)
					if (!seed && !Sizzle.isXML(context)) {
						// See if we find a selector to speed up
						var match = /^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);

						if (match && (context.nodeType === 1 || context.nodeType === 9)) {
							// Speed-up: Sizzle("TAG")
							if (match[1]) {
								return makeArray(context.getElementsByTagName(query), extra);

								// Speed-up: Sizzle(".CLASS")
							} else if (match[2] && Expr.find.CLASS && context.getElementsByClassName) {
								return makeArray(context.getElementsByClassName(match[2]), extra);
							}
						}

						if (context.nodeType === 9) {
							// Speed-up: Sizzle("body")
							// The body element only exists once, optimize finding it
							if (query === "body" && context.body) {
								return makeArray([context.body], extra);

								// Speed-up: Sizzle("#ID")
							} else if (match && match[3]) {
								var elem = context.getElementById(match[3]);

								// Check parentNode to catch when Blackberry 4.6 returns
								// nodes that are no longer in the document #6963
								if (elem && elem.parentNode) {
									// Handle the case where IE and Opera return items
									// by name instead of ID
									if (elem.id === match[3]) {
										return makeArray([elem], extra);
									}

								} else {
									return makeArray([], extra);
								}
							}

							try {
								return makeArray(context.querySelectorAll(query), extra);
							} catch (qsaError) { }

							// qSA works strangely on Element-rooted queries
							// We can work around this by specifying an extra ID on the root
							// and working up from there (Thanks to Andrew Dupont for the technique)
							// IE 8 doesn't work on object elements
						} else if (context.nodeType === 1 && context.nodeName.toLowerCase() !== "object") {
							var oldContext = context,
								old = context.getAttribute("id"),
								nid = old || id,
								hasParent = context.parentNode,
								relativeHierarchySelector = /^\s*[+~]/.test(query);

							if (!old) {
								context.setAttribute("id", nid);
							} else {
								nid = nid.replace(/'/g, "\\$&");
							}
							if (relativeHierarchySelector && hasParent) {
								context = context.parentNode;
							}

							try {
								if (!relativeHierarchySelector || hasParent) {
									return makeArray(context.querySelectorAll("[id='" + nid + "'] " + query), extra);
								}

							} catch (pseudoError) {
							} finally {
								if (!old) {
									oldContext.removeAttribute("id");
								}
							}
						}
					}

					return oldSizzle(query, context, extra, seed);
				};

				for (var prop in oldSizzle) {
					Sizzle[prop] = oldSizzle[prop];
				}

				// release memory in IE
				div = null;
			})();
		}

		(function () {
			var html = document.documentElement,
				matches = html.matchesSelector || html.mozMatchesSelector || html.webkitMatchesSelector || html.msMatchesSelector;

			if (matches) {
				// Check to see if it's possible to do matchesSelector
				// on a disconnected node (IE 9 fails this)
				var disconnectedMatch = !matches.call(document.createElement("div"), "div"),
					pseudoWorks = false;

				try {
					// This should fail with an exception
					// Gecko does not error, returns false instead
					matches.call(document.documentElement, "[test!='']:sizzle");

				} catch (pseudoError) {
					pseudoWorks = true;
				}

				Sizzle.matchesSelector = function (node, expr) {
					// Make sure that attribute selectors are quoted
					expr = expr.replace(/\=\s*([^'"\]]*)\s*\]/g, "='$1']");

					if (!Sizzle.isXML(node)) {
						try {
							if (pseudoWorks || !Expr.match.PSEUDO.test(expr) && !/!=/.test(expr)) {
								var ret = matches.call(node, expr);

								// IE 9's matchesSelector returns false on disconnected nodes
								if (ret || !disconnectedMatch ||
									// As well, disconnected nodes are said to be in a document
									// fragment in IE 9, so check for that
										node.document && node.document.nodeType !== 11) {
									return ret;
								}
							}
						} catch (e) { }
					}

					return Sizzle(expr, null, null, [node]).length > 0;
				};
			}
		})();

		(function () {
			var div = document.createElement("div");

			div.innerHTML = "<div class='test e'></div><div class='test'></div>";

			// Opera can't find a second classname (in 9.6)
			// Also, make sure that getElementsByClassName actually exists
			if (!div.getElementsByClassName || div.getElementsByClassName("e").length === 0) {
				return;
			}

			// Safari caches class attributes, doesn't catch changes (in 3.2)
			div.lastChild.className = "e";

			if (div.getElementsByClassName("e").length === 1) {
				return;
			}

			Expr.order.splice(1, 0, "CLASS");
			Expr.find.CLASS = function (match, context, isXML) {
				if (typeof context.getElementsByClassName !== "undefined" && !isXML) {
					return context.getElementsByClassName(match[1]);
				}
			};

			// release memory in IE
			div = null;
		})();

		function dirNodeCheck(dir, cur, doneName, checkSet, nodeCheck, isXML) {
			for (var i = 0, l = checkSet.length; i < l; i++) {
				var elem = checkSet[i];

				if (elem) {
					var match = false;

					elem = elem[dir];

					while (elem) {
						if (elem[expando] === doneName) {
							match = checkSet[elem.sizset];
							break;
						}

						if (elem.nodeType === 1 && !isXML) {
							elem[expando] = doneName;
							elem.sizset = i;
						}

						if (elem.nodeName.toLowerCase() === cur) {
							match = elem;
							break;
						}

						elem = elem[dir];
					}

					checkSet[i] = match;
				}
			}
		}

		function dirCheck(dir, cur, doneName, checkSet, nodeCheck, isXML) {
			for (var i = 0, l = checkSet.length; i < l; i++) {
				var elem = checkSet[i];

				if (elem) {
					var match = false;

					elem = elem[dir];

					while (elem) {
						if (elem[expando] === doneName) {
							match = checkSet[elem.sizset];
							break;
						}

						if (elem.nodeType === 1) {
							if (!isXML) {
								elem[expando] = doneName;
								elem.sizset = i;
							}

							if (typeof cur !== "string") {
								if (elem === cur) {
									match = true;
									break;
								}

							} else if (Sizzle.filter(cur, [elem]).length > 0) {
								match = elem;
								break;
							}
						}

						elem = elem[dir];
					}

					checkSet[i] = match;
				}
			}
		}

		if (document.documentElement.contains) {
			Sizzle.contains = function (a, b) {
				return a !== b && (a.contains ? a.contains(b) : true);
			};

		} else if (document.documentElement.compareDocumentPosition) {
			Sizzle.contains = function (a, b) {
				return !!(a.compareDocumentPosition(b) & 16);
			};

		} else {
			Sizzle.contains = function () {
				return false;
			};
		}

		Sizzle.isXML = function (elem) {
			// documentElement is verified for cases where it doesn't yet exist
			// (such as loading iframes in IE - #4833)
			var documentElement = (elem ? elem.ownerDocument || elem : 0).documentElement;

			return documentElement ? documentElement.nodeName !== "HTML" : false;
		};

		var posProcess = function (selector, context, seed) {
			var match,
				tmpSet = [],
				later = "",
				root = context.nodeType ? [context] : context;

			// Position selectors must be done after the filter
			// And so must :not(positional) so we move all PSEUDOs to the end
			while ((match = Expr.match.PSEUDO.exec(selector))) {
				later += match[0];
				selector = selector.replace(Expr.match.PSEUDO, "");
			}

			selector = Expr.relative[selector] ? selector + "*" : selector;

			for (var i = 0, l = root.length; i < l; i++) {
				Sizzle(selector, root[i], tmpSet, seed);
			}

			return Sizzle.filter(later, tmpSet);
		};

		// EXPOSE
		// Override sizzle attribute retrieval
		Sizzle.attr = jQuery.attr;
		Sizzle.selectors.attrMap = {};
		jQuery.find = Sizzle;
		jQuery.expr = Sizzle.selectors;
		jQuery.expr[":"] = jQuery.expr.filters;
		jQuery.unique = Sizzle.uniqueSort;
		jQuery.text = Sizzle.getText;
		jQuery.isXMLDoc = Sizzle.isXML;
		jQuery.contains = Sizzle.contains;


	})();


	var runtil = /Until$/,
		rparentsprev = /^(?:parents|prevUntil|prevAll)/,
		// Note: This RegExp should be improved, or likely pulled from Sizzle
		rmultiselector = /,/,
		isSimple = /^.[^:#\[\.,]*$/,
		slice = Array.prototype.slice,
		POS = jQuery.expr.match.globalPOS,
		// methods guaranteed to produce a unique set when starting from a unique set
		guaranteedUnique = {
			children: true,
			contents: true,
			next: true,
			prev: true
		};

	jQuery.fn.extend({
		find: function (selector) {
			var self = this,
				i, l;

			if (typeof selector !== "string") {
				return jQuery(selector).filter(function () {
					for (i = 0, l = self.length; i < l; i++) {
						if (jQuery.contains(self[i], this)) {
							return true;
						}
					}
				});
			}

			var ret = this.pushStack("", "find", selector),
				length, n, r;

			for (i = 0, l = this.length; i < l; i++) {
				length = ret.length;
				jQuery.find(selector, this[i], ret);

				if (i > 0) {
					// Make sure that the results are unique
					for (n = length; n < ret.length; n++) {
						for (r = 0; r < length; r++) {
							if (ret[r] === ret[n]) {
								ret.splice(n--, 1);
								break;
							}
						}
					}
				}
			}

			return ret;
		},

		has: function (target) {
			var targets = jQuery(target);
			return this.filter(function () {
				for (var i = 0, l = targets.length; i < l; i++) {
					if (jQuery.contains(this, targets[i])) {
						return true;
					}
				}
			});
		},

		not: function (selector) {
			return this.pushStack(winnow(this, selector, false), "not", selector);
		},

		filter: function (selector) {
			return this.pushStack(winnow(this, selector, true), "filter", selector);
		},

		is: function (selector) {
			return !!selector && (
				typeof selector === "string" ?
					// If this is a positional selector, check membership in the returned set
					// so $("p:first").is("p:last") won't return true for a doc with two "p".
					POS.test(selector) ?
						jQuery(selector, this.context).index(this[0]) >= 0 :
						jQuery.filter(selector, this).length > 0 :
					this.filter(selector).length > 0);
		},

		closest: function (selectors, context) {
			var ret = [], i, l, cur = this[0];

			// Array (deprecated as of jQuery 1.7)
			if (jQuery.isArray(selectors)) {
				var level = 1;

				while (cur && cur.ownerDocument && cur !== context) {
					for (i = 0; i < selectors.length; i++) {

						if (jQuery(cur).is(selectors[i])) {
							ret.push({ selector: selectors[i], elem: cur, level: level });
						}
					}

					cur = cur.parentNode;
					level++;
				}

				return ret;
			}

			// String
			var pos = POS.test(selectors) || typeof selectors !== "string" ?
					jQuery(selectors, context || this.context) :
					0;

			for (i = 0, l = this.length; i < l; i++) {
				cur = this[i];

				while (cur) {
					if (pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors)) {
						ret.push(cur);
						break;

					} else {
						cur = cur.parentNode;
						if (!cur || !cur.ownerDocument || cur === context || cur.nodeType === 11) {
							break;
						}
					}
				}
			}

			ret = ret.length > 1 ? jQuery.unique(ret) : ret;

			return this.pushStack(ret, "closest", selectors);
		},

		// Determine the position of an element within
		// the matched set of elements
		index: function (elem) {

			// No argument, return index in parent
			if (!elem) {
				return (this[0] && this[0].parentNode) ? this.prevAll().length : -1;
			}

			// index in selector
			if (typeof elem === "string") {
				return jQuery.inArray(this[0], jQuery(elem));
			}

			// Locate the position of the desired element
			return jQuery.inArray(
				// If it receives a jQuery object, the first element is used
				elem.jquery ? elem[0] : elem, this);
		},

		add: function (selector, context) {
			var set = typeof selector === "string" ?
					jQuery(selector, context) :
					jQuery.makeArray(selector && selector.nodeType ? [selector] : selector),
				all = jQuery.merge(this.get(), set);

			return this.pushStack(isDisconnected(set[0]) || isDisconnected(all[0]) ?
				all :
				jQuery.unique(all));
		},

		andSelf: function () {
			return this.add(this.prevObject);
		}
	});

	// A painfully simple check to see if an element is disconnected
	// from a document (should be improved, where feasible).
	function isDisconnected(node) {
		return !node || !node.parentNode || node.parentNode.nodeType === 11;
	}

	jQuery.each({
		parent: function (elem) {
			var parent = elem.parentNode;
			return parent && parent.nodeType !== 11 ? parent : null;
		},
		parents: function (elem) {
			return jQuery.dir(elem, "parentNode");
		},
		parentsUntil: function (elem, i, until) {
			return jQuery.dir(elem, "parentNode", until);
		},
		next: function (elem) {
			return jQuery.nth(elem, 2, "nextSibling");
		},
		prev: function (elem) {
			return jQuery.nth(elem, 2, "previousSibling");
		},
		nextAll: function (elem) {
			return jQuery.dir(elem, "nextSibling");
		},
		prevAll: function (elem) {
			return jQuery.dir(elem, "previousSibling");
		},
		nextUntil: function (elem, i, until) {
			return jQuery.dir(elem, "nextSibling", until);
		},
		prevUntil: function (elem, i, until) {
			return jQuery.dir(elem, "previousSibling", until);
		},
		siblings: function (elem) {
			return jQuery.sibling((elem.parentNode || {}).firstChild, elem);
		},
		children: function (elem) {
			return jQuery.sibling(elem.firstChild);
		},
		contents: function (elem) {
			return jQuery.nodeName(elem, "iframe") ?
				elem.contentDocument || elem.contentWindow.document :
				jQuery.makeArray(elem.childNodes);
		}
	}, function (name, fn) {
		jQuery.fn[name] = function (until, selector) {
			var ret = jQuery.map(this, fn, until);

			if (!runtil.test(name)) {
				selector = until;
			}

			if (selector && typeof selector === "string") {
				ret = jQuery.filter(selector, ret);
			}

			ret = this.length > 1 && !guaranteedUnique[name] ? jQuery.unique(ret) : ret;

			if ((this.length > 1 || rmultiselector.test(selector)) && rparentsprev.test(name)) {
				ret = ret.reverse();
			}

			return this.pushStack(ret, name, slice.call(arguments).join(","));
		};
	});

	jQuery.extend({
		filter: function (expr, elems, not) {
			if (not) {
				expr = ":not(" + expr + ")";
			}

			return elems.length === 1 ?
				jQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [] :
				jQuery.find.matches(expr, elems);
		},

		dir: function (elem, dir, until) {
			var matched = [],
				cur = elem[dir];

			while (cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery(cur).is(until))) {
				if (cur.nodeType === 1) {
					matched.push(cur);
				}
				cur = cur[dir];
			}
			return matched;
		},

		nth: function (cur, result, dir, elem) {
			result = result || 1;
			var num = 0;

			for (; cur; cur = cur[dir]) {
				if (cur.nodeType === 1 && ++num === result) {
					break;
				}
			}

			return cur;
		},

		sibling: function (n, elem) {
			var r = [];

			for (; n; n = n.nextSibling) {
				if (n.nodeType === 1 && n !== elem) {
					r.push(n);
				}
			}

			return r;
		}
	});

	// Implement the identical functionality for filter and not
	function winnow(elements, qualifier, keep) {

		// Can't pass null or undefined to indexOf in Firefox 4
		// Set to 0 to skip string check
		qualifier = qualifier || 0;

		if (jQuery.isFunction(qualifier)) {
			return jQuery.grep(elements, function (elem, i) {
				var retVal = !!qualifier.call(elem, i, elem);
				return retVal === keep;
			});

		} else if (qualifier.nodeType) {
			return jQuery.grep(elements, function (elem, i) {
				return (elem === qualifier) === keep;
			});

		} else if (typeof qualifier === "string") {
			var filtered = jQuery.grep(elements, function (elem) {
				return elem.nodeType === 1;
			});

			if (isSimple.test(qualifier)) {
				return jQuery.filter(qualifier, filtered, !keep);
			} else {
				qualifier = jQuery.filter(qualifier, filtered);
			}
		}

		return jQuery.grep(elements, function (elem, i) {
			return (jQuery.inArray(elem, qualifier) >= 0) === keep;
		});
	}




	function createSafeFragment(document) {
		var list = nodeNames.split("|"),
		safeFrag = document.createDocumentFragment();

		if (safeFrag.createElement) {
			while (list.length) {
				safeFrag.createElement(
					list.pop()
				);
			}
		}
		return safeFrag;
	}

	var nodeNames = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|" +
			"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
		rinlinejQuery = / jQuery\d+="(?:\d+|null)"/g,
		rleadingWhitespace = /^\s+/,
		rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
		rtagName = /<([\w:]+)/,
		rtbody = /<tbody/i,
		rhtml = /<|&#?\w+;/,
		rnoInnerhtml = /<(?:script|style)/i,
		rnocache = /<(?:script|object|embed|option|style)/i,
		rnoshimcache = new RegExp("<(?:" + nodeNames + ")[\\s/>]", "i"),
		// checked="checked" or checked
		rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
		rscriptType = /\/(java|ecma)script/i,
		rcleanScript = /^\s*<!(?:\[CDATA\[|\-\-)/,
		wrapMap = {
			option: [1, "<select multiple='multiple'>", "</select>"],
			legend: [1, "<fieldset>", "</fieldset>"],
			thead: [1, "<table>", "</table>"],
			tr: [2, "<table><tbody>", "</tbody></table>"],
			td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
			col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
			area: [1, "<map>", "</map>"],
			_default: [0, "", ""]
		},
		safeFragment = createSafeFragment(document);

	wrapMap.optgroup = wrapMap.option;
	wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
	wrapMap.th = wrapMap.td;

	// IE can't serialize <link> and <script> tags normally
	if (!jQuery.support.htmlSerialize) {
		wrapMap._default = [1, "div<div>", "</div>"];
	}

	jQuery.fn.extend({
		text: function (value) {
			return jQuery.access(this, function (value) {
				return value === undefined ?
					jQuery.text(this) :
					this.empty().append((this[0] && this[0].ownerDocument || document).createTextNode(value));
			}, null, value, arguments.length);
		},

		wrapAll: function (html) {
			if (jQuery.isFunction(html)) {
				return this.each(function (i) {
					jQuery(this).wrapAll(html.call(this, i));
				});
			}

			if (this[0]) {
				// The elements to wrap the target around
				var wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);

				if (this[0].parentNode) {
					wrap.insertBefore(this[0]);
				}

				wrap.map(function () {
					var elem = this;

					while (elem.firstChild && elem.firstChild.nodeType === 1) {
						elem = elem.firstChild;
					}

					return elem;
				}).append(this);
			}

			return this;
		},

		wrapInner: function (html) {
			if (jQuery.isFunction(html)) {
				return this.each(function (i) {
					jQuery(this).wrapInner(html.call(this, i));
				});
			}

			return this.each(function () {
				var self = jQuery(this),
					contents = self.contents();

				if (contents.length) {
					contents.wrapAll(html);

				} else {
					self.append(html);
				}
			});
		},

		wrap: function (html) {
			var isFunction = jQuery.isFunction(html);

			return this.each(function (i) {
				jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);
			});
		},

		unwrap: function () {
			return this.parent().each(function () {
				if (!jQuery.nodeName(this, "body")) {
					jQuery(this).replaceWith(this.childNodes);
				}
			}).end();
		},

		append: function () {
			return this.domManip(arguments, true, function (elem) {
				if (this.nodeType === 1) {
					this.appendChild(elem);
				}
			});
		},

		prepend: function () {
			return this.domManip(arguments, true, function (elem) {
				if (this.nodeType === 1) {
					this.insertBefore(elem, this.firstChild);
				}
			});
		},

		before: function () {
			if (this[0] && this[0].parentNode) {
				return this.domManip(arguments, false, function (elem) {
					this.parentNode.insertBefore(elem, this);
				});
			} else if (arguments.length) {
				var set = jQuery.clean(arguments);
				set.push.apply(set, this.toArray());
				return this.pushStack(set, "before", arguments);
			}
		},

		after: function () {
			if (this[0] && this[0].parentNode) {
				return this.domManip(arguments, false, function (elem) {
					this.parentNode.insertBefore(elem, this.nextSibling);
				});
			} else if (arguments.length) {
				var set = this.pushStack(this, "after", arguments);
				set.push.apply(set, jQuery.clean(arguments));
				return set;
			}
		},

		// keepData is for internal use only--do not document
		remove: function (selector, keepData) {
			for (var i = 0, elem; (elem = this[i]) != null; i++) {
				if (!selector || jQuery.filter(selector, [elem]).length) {
					if (!keepData && elem.nodeType === 1) {
						jQuery.cleanData(elem.getElementsByTagName("*"));
						jQuery.cleanData([elem]);
					}

					if (elem.parentNode) {
						elem.parentNode.removeChild(elem);
					}
				}
			}

			return this;
		},

		empty: function () {
			for (var i = 0, elem; (elem = this[i]) != null; i++) {
				// Remove element nodes and prevent memory leaks
				if (elem.nodeType === 1) {
					jQuery.cleanData(elem.getElementsByTagName("*"));
				}

				// Remove any remaining nodes
				while (elem.firstChild) {
					elem.removeChild(elem.firstChild);
				}
			}

			return this;
		},

		clone: function (dataAndEvents, deepDataAndEvents) {
			dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
			deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

			return this.map(function () {
				return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
			});
		},

		html: function (value) {
			return jQuery.access(this, function (value) {
				var elem = this[0] || {},
					i = 0,
					l = this.length;

				if (value === undefined) {
					return elem.nodeType === 1 ?
						elem.innerHTML.replace(rinlinejQuery, "") :
						null;
				}


				if (typeof value === "string" && !rnoInnerhtml.test(value) &&
					(jQuery.support.leadingWhitespace || !rleadingWhitespace.test(value)) &&
					!wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {

					value = value.replace(rxhtmlTag, "<$1></$2>");

					try {
						for (; i < l; i++) {
							// Remove element nodes and prevent memory leaks
							elem = this[i] || {};
							if (elem.nodeType === 1) {
								jQuery.cleanData(elem.getElementsByTagName("*"));
								elem.innerHTML = value;
							}
						}

						elem = 0;

						// If using innerHTML throws an exception, use the fallback method
					} catch (e) { }
				}

				if (elem) {
					this.empty().append(value);
				}
			}, null, value, arguments.length);
		},

		replaceWith: function (value) {
			if (this[0] && this[0].parentNode) {
				// Make sure that the elements are removed from the DOM before they are inserted
				// this can help fix replacing a parent with child elements
				if (jQuery.isFunction(value)) {
					return this.each(function (i) {
						var self = jQuery(this), old = self.html();
						self.replaceWith(value.call(this, i, old));
					});
				}

				if (typeof value !== "string") {
					value = jQuery(value).detach();
				}

				return this.each(function () {
					var next = this.nextSibling,
						parent = this.parentNode;

					jQuery(this).remove();

					if (next) {
						jQuery(next).before(value);
					} else {
						jQuery(parent).append(value);
					}
				});
			} else {
				return this.length ?
					this.pushStack(jQuery(jQuery.isFunction(value) ? value() : value), "replaceWith", value) :
					this;
			}
		},

		detach: function (selector) {
			return this.remove(selector, true);
		},

		domManip: function (args, table, callback) {
			var results, first, fragment, parent,
				value = args[0],
				scripts = [];

			// We can't cloneNode fragments that contain checked, in WebKit
			if (!jQuery.support.checkClone && arguments.length === 3 && typeof value === "string" && rchecked.test(value)) {
				return this.each(function () {
					jQuery(this).domManip(args, table, callback, true);
				});
			}

			if (jQuery.isFunction(value)) {
				return this.each(function (i) {
					var self = jQuery(this);
					args[0] = value.call(this, i, table ? self.html() : undefined);
					self.domManip(args, table, callback);
				});
			}

			if (this[0]) {
				parent = value && value.parentNode;

				// If we're in a fragment, just use that instead of building a new one
				if (jQuery.support.parentNode && parent && parent.nodeType === 11 && parent.childNodes.length === this.length) {
					results = { fragment: parent };

				} else {
					results = jQuery.buildFragment(args, this, scripts);
				}

				fragment = results.fragment;

				if (fragment.childNodes.length === 1) {
					first = fragment = fragment.firstChild;
				} else {
					first = fragment.firstChild;
				}

				if (first) {
					table = table && jQuery.nodeName(first, "tr");

					for (var i = 0, l = this.length, lastIndex = l - 1; i < l; i++) {
						callback.call(
							table ?
								root(this[i], first) :
								this[i],
							// Make sure that we do not leak memory by inadvertently discarding
							// the original fragment (which might have attached data) instead of
							// using it; in addition, use the original fragment object for the last
							// item instead of first because it can end up being emptied incorrectly
							// in certain situations (Bug #8070).
							// Fragments from the fragment cache must always be cloned and never used
							// in place.
							results.cacheable || (l > 1 && i < lastIndex) ?
								jQuery.clone(fragment, true, true) :
								fragment
						);
					}
				}

				if (scripts.length) {
					jQuery.each(scripts, function (i, elem) {
						if (elem.src) {
							jQuery.ajax({
								type: "GET",
								global: false,
								url: elem.src,
								async: false,
								dataType: "script"
							});
						} else {
							jQuery.globalEval((elem.text || elem.textContent || elem.innerHTML || "").replace(rcleanScript, "/*$0*/"));
						}

						if (elem.parentNode) {
							elem.parentNode.removeChild(elem);
						}
					});
				}
			}

			return this;
		}
	});

	function root(elem, cur) {
		return jQuery.nodeName(elem, "table") ?
			(elem.getElementsByTagName("tbody")[0] ||
			elem.appendChild(elem.ownerDocument.createElement("tbody"))) :
			elem;
	}

	function cloneCopyEvent(src, dest) {

		if (dest.nodeType !== 1 || !jQuery.hasData(src)) {
			return;
		}

		var type, i, l,
			oldData = jQuery._data(src),
			curData = jQuery._data(dest, oldData),
			events = oldData.events;

		if (events) {
			delete curData.handle;
			curData.events = {};

			for (type in events) {
				for (i = 0, l = events[type].length; i < l; i++) {
					jQuery.event.add(dest, type, events[type][i]);
				}
			}
		}

		// make the cloned public data object a copy from the original
		if (curData.data) {
			curData.data = jQuery.extend({}, curData.data);
		}
	}

	function cloneFixAttributes(src, dest) {
		var nodeName;

		// We do not need to do anything for non-Elements
		if (dest.nodeType !== 1) {
			return;
		}

		// clearAttributes removes the attributes, which we don't want,
		// but also removes the attachEvent events, which we *do* want
		if (dest.clearAttributes) {
			dest.clearAttributes();
		}

		// mergeAttributes, in contrast, only merges back on the
		// original attributes, not the events
		if (dest.mergeAttributes) {
			dest.mergeAttributes(src);
		}

		nodeName = dest.nodeName.toLowerCase();

		// IE6-8 fail to clone children inside object elements that use
		// the proprietary classid attribute value (rather than the type
		// attribute) to identify the type of content to display
		if (nodeName === "object") {
			dest.outerHTML = src.outerHTML;

		} else if (nodeName === "input" && (src.type === "checkbox" || src.type === "radio")) {
			// IE6-8 fails to persist the checked state of a cloned checkbox
			// or radio button. Worse, IE6-7 fail to give the cloned element
			// a checked appearance if the defaultChecked value isn't also set
			if (src.checked) {
				dest.defaultChecked = dest.checked = src.checked;
			}

			// IE6-7 get confused and end up setting the value of a cloned
			// checkbox/radio button to an empty string instead of "on"
			if (dest.value !== src.value) {
				dest.value = src.value;
			}

			// IE6-8 fails to return the selected option to the default selected
			// state when cloning options
		} else if (nodeName === "option") {
			dest.selected = src.defaultSelected;

			// IE6-8 fails to set the defaultValue to the correct value when
			// cloning other types of input fields
		} else if (nodeName === "input" || nodeName === "textarea") {
			dest.defaultValue = src.defaultValue;

			// IE blanks contents when cloning scripts
		} else if (nodeName === "script" && dest.text !== src.text) {
			dest.text = src.text;
		}

		// Event data gets referenced instead of copied if the expando
		// gets copied too
		dest.removeAttribute(jQuery.expando);

		// Clear flags for bubbling special change/submit events, they must
		// be reattached when the newly cloned events are first activated
		dest.removeAttribute("_submit_attached");
		dest.removeAttribute("_change_attached");
	}

	jQuery.buildFragment = function (args, nodes, scripts) {
		var fragment, cacheable, cacheresults, doc,
		first = args[0];

		// nodes may contain either an explicit document object,
		// a jQuery collection or context object.
		// If nodes[0] contains a valid object to assign to doc
		if (nodes && nodes[0]) {
			doc = nodes[0].ownerDocument || nodes[0];
		}

		// Ensure that an attr object doesn't incorrectly stand in as a document object
		// Chrome and Firefox seem to allow this to occur and will throw exception
		// Fixes #8950
		if (!doc.createDocumentFragment) {
			doc = document;
		}

		// Only cache "small" (1/2 KB) HTML strings that are associated with the main document
		// Cloning options loses the selected state, so don't cache them
		// IE 6 doesn't like it when you put <object> or <embed> elements in a fragment
		// Also, WebKit does not clone 'checked' attributes on cloneNode, so don't cache
		// Lastly, IE6,7,8 will not correctly reuse cached fragments that were created from unknown elems #10501
		if (args.length === 1 && typeof first === "string" && first.length < 512 && doc === document &&
			first.charAt(0) === "<" && !rnocache.test(first) &&
			(jQuery.support.checkClone || !rchecked.test(first)) &&
			(jQuery.support.html5Clone || !rnoshimcache.test(first))) {

			cacheable = true;

			cacheresults = jQuery.fragments[first];
			if (cacheresults && cacheresults !== 1) {
				fragment = cacheresults;
			}
		}

		if (!fragment) {
			fragment = doc.createDocumentFragment();
			jQuery.clean(args, doc, fragment, scripts);
		}

		if (cacheable) {
			jQuery.fragments[first] = cacheresults ? fragment : 1;
		}

		return { fragment: fragment, cacheable: cacheable };
	};

	jQuery.fragments = {};

	jQuery.each({
		appendTo: "append",
		prependTo: "prepend",
		insertBefore: "before",
		insertAfter: "after",
		replaceAll: "replaceWith"
	}, function (name, original) {
		jQuery.fn[name] = function (selector) {
			var ret = [],
				insert = jQuery(selector),
				parent = this.length === 1 && this[0].parentNode;

			if (parent && parent.nodeType === 11 && parent.childNodes.length === 1 && insert.length === 1) {
				insert[original](this[0]);
				return this;

			} else {
				for (var i = 0, l = insert.length; i < l; i++) {
					var elems = (i > 0 ? this.clone(true) : this).get();
					jQuery(insert[i])[original](elems);
					ret = ret.concat(elems);
				}

				return this.pushStack(ret, name, insert.selector);
			}
		};
	});

	function getAll(elem) {
		if (typeof elem.getElementsByTagName !== "undefined") {
			return elem.getElementsByTagName("*");

		} else if (typeof elem.querySelectorAll !== "undefined") {
			return elem.querySelectorAll("*");

		} else {
			return [];
		}
	}

	// Used in clean, fixes the defaultChecked property
	function fixDefaultChecked(elem) {
		if (elem.type === "checkbox" || elem.type === "radio") {
			elem.defaultChecked = elem.checked;
		}
	}
	// Finds all inputs and passes them to fixDefaultChecked
	function findInputs(elem) {
		var nodeName = (elem.nodeName || "").toLowerCase();
		if (nodeName === "input") {
			fixDefaultChecked(elem);
			// Skip scripts, get other children
		} else if (nodeName !== "script" && typeof elem.getElementsByTagName !== "undefined") {
			jQuery.grep(elem.getElementsByTagName("input"), fixDefaultChecked);
		}
	}

	// Derived From: http://www.iecss.com/shimprove/javascript/shimprove.1-0-1.js
	function shimCloneNode(elem) {
		var div = document.createElement("div");
		safeFragment.appendChild(div);

		div.innerHTML = elem.outerHTML;
		return div.firstChild;
	}

	jQuery.extend({
		clone: function (elem, dataAndEvents, deepDataAndEvents) {
			var srcElements,
				destElements,
				i,
				// IE<=8 does not properly clone detached, unknown element nodes
				clone = jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test("<" + elem.nodeName + ">") ?
					elem.cloneNode(true) :
					shimCloneNode(elem);

			if ((!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&
					(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {
				// IE copies events bound via attachEvent when using cloneNode.
				// Calling detachEvent on the clone will also remove the events
				// from the original. In order to get around this, we use some
				// proprietary methods to clear the events. Thanks to MooTools
				// guys for this hotness.

				cloneFixAttributes(elem, clone);

				// Using Sizzle here is crazy slow, so we use getElementsByTagName instead
				srcElements = getAll(elem);
				destElements = getAll(clone);

				// Weird iteration because IE will replace the length property
				// with an element if you are cloning the body and one of the
				// elements on the page has a name or id of "length"
				for (i = 0; srcElements[i]; ++i) {
					// Ensure that the destination node is not null; Fixes #9587
					if (destElements[i]) {
						cloneFixAttributes(srcElements[i], destElements[i]);
					}
				}
			}

			// Copy the events from the original to the clone
			if (dataAndEvents) {
				cloneCopyEvent(elem, clone);

				if (deepDataAndEvents) {
					srcElements = getAll(elem);
					destElements = getAll(clone);

					for (i = 0; srcElements[i]; ++i) {
						cloneCopyEvent(srcElements[i], destElements[i]);
					}
				}
			}

			srcElements = destElements = null;

			// Return the cloned set
			return clone;
		},

		clean: function (elems, context, fragment, scripts) {
			var checkScriptType, script, j,
					ret = [];

			context = context || document;

			// !context.createElement fails in IE with an error but returns typeof 'object'
			if (typeof context.createElement === "undefined") {
				context = context.ownerDocument || context[0] && context[0].ownerDocument || document;
			}

			for (var i = 0, elem; (elem = elems[i]) != null; i++) {
				if (typeof elem === "number") {
					elem += "";
				}

				if (!elem) {
					continue;
				}

				// Convert html string into DOM nodes
				if (typeof elem === "string") {
					if (!rhtml.test(elem)) {
						elem = context.createTextNode(elem);
					} else {
						// Fix "XHTML"-style tags in all browsers
						elem = elem.replace(rxhtmlTag, "<$1></$2>");

						// Trim whitespace, otherwise indexOf won't work as expected
						var tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase(),
							wrap = wrapMap[tag] || wrapMap._default,
							depth = wrap[0],
							div = context.createElement("div"),
							safeChildNodes = safeFragment.childNodes,
							remove;

						// Append wrapper element to unknown element safe doc fragment
						if (context === document) {
							// Use the fragment we've already created for this document
							safeFragment.appendChild(div);
						} else {
							// Use a fragment created with the owner document
							createSafeFragment(context).appendChild(div);
						}

						// Go to html and back, then peel off extra wrappers
						div.innerHTML = wrap[1] + elem + wrap[2];

						// Move to the right depth
						while (depth--) {
							div = div.lastChild;
						}

						// Remove IE's autoinserted <tbody> from table fragments
						if (!jQuery.support.tbody) {

							// String was a <table>, *may* have spurious <tbody>
							var hasBody = rtbody.test(elem),
								tbody = tag === "table" && !hasBody ?
									div.firstChild && div.firstChild.childNodes :

									// String was a bare <thead> or <tfoot>
									wrap[1] === "<table>" && !hasBody ?
										div.childNodes :
										[];

							for (j = tbody.length - 1; j >= 0 ; --j) {
								if (jQuery.nodeName(tbody[j], "tbody") && !tbody[j].childNodes.length) {
									tbody[j].parentNode.removeChild(tbody[j]);
								}
							}
						}

						// IE completely kills leading whitespace when innerHTML is used
						if (!jQuery.support.leadingWhitespace && rleadingWhitespace.test(elem)) {
							div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]), div.firstChild);
						}

						elem = div.childNodes;

						// Clear elements from DocumentFragment (safeFragment or otherwise)
						// to avoid hoarding elements. Fixes #11356
						if (div) {
							div.parentNode.removeChild(div);

							// Guard against -1 index exceptions in FF3.6
							if (safeChildNodes.length > 0) {
								remove = safeChildNodes[safeChildNodes.length - 1];

								if (remove && remove.parentNode) {
									remove.parentNode.removeChild(remove);
								}
							}
						}
					}
				}

				// Resets defaultChecked for any radios and checkboxes
				// about to be appended to the DOM in IE 6/7 (#8060)
				var len;
				if (!jQuery.support.appendChecked) {
					if (elem[0] && typeof (len = elem.length) === "number") {
						for (j = 0; j < len; j++) {
							findInputs(elem[j]);
						}
					} else {
						findInputs(elem);
					}
				}

				if (elem.nodeType) {
					ret.push(elem);
				} else {
					ret = jQuery.merge(ret, elem);
				}
			}

			if (fragment) {
				checkScriptType = function (elem) {
					return !elem.type || rscriptType.test(elem.type);
				};
				for (i = 0; ret[i]; i++) {
					script = ret[i];
					if (scripts && jQuery.nodeName(script, "script") && (!script.type || rscriptType.test(script.type))) {
						scripts.push(script.parentNode ? script.parentNode.removeChild(script) : script);

					} else {
						if (script.nodeType === 1) {
							var jsTags = jQuery.grep(script.getElementsByTagName("script"), checkScriptType);

							ret.splice.apply(ret, [i + 1, 0].concat(jsTags));
						}
						fragment.appendChild(script);
					}
				}
			}

			return ret;
		},

		cleanData: function (elems) {
			var data, id,
				cache = jQuery.cache,
				special = jQuery.event.special,
				deleteExpando = jQuery.support.deleteExpando;

			for (var i = 0, elem; (elem = elems[i]) != null; i++) {
				if (elem.nodeName && jQuery.noData[elem.nodeName.toLowerCase()]) {
					continue;
				}

				id = elem[jQuery.expando];

				if (id) {
					data = cache[id];

					if (data && data.events) {
						for (var type in data.events) {
							if (special[type]) {
								jQuery.event.remove(elem, type);

								// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent(elem, type, data.handle);
							}
						}

						// Null the DOM reference to avoid IE6/7/8 leak (#7054)
						if (data.handle) {
							data.handle.elem = null;
						}
					}

					if (deleteExpando) {
						delete elem[jQuery.expando];

					} else if (elem.removeAttribute) {
						elem.removeAttribute(jQuery.expando);
					}

					delete cache[id];
				}
			}
		}
	});




	var ralpha = /alpha\([^)]*\)/i,
		ropacity = /opacity=([^)]*)/,
		// fixed for IE9, see #8346
		rupper = /([A-Z]|^ms)/g,
		rnum = /^[\-+]?(?:\d*\.)?\d+$/i,
		rnumnonpx = /^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,
		rrelNum = /^([\-+])=([\-+.\de]+)/,
		rmargin = /^margin/,

		cssShow = { position: "absolute", visibility: "hidden", display: "block" },

		// order is important!
		cssExpand = ["Top", "Right", "Bottom", "Left"],

		curCSS,

		getComputedStyle,
		currentStyle;

	jQuery.fn.css = function (name, value) {
		return jQuery.access(this, function (elem, name, value) {
			return value !== undefined ?
				jQuery.style(elem, name, value) :
				jQuery.css(elem, name);
		}, name, value, arguments.length > 1);
	};

	jQuery.extend({
		// Add in style property hooks for overriding the default
		// behavior of getting and setting a style property
		cssHooks: {
			opacity: {
				get: function (elem, computed) {
					if (computed) {
						// We should always get a number back from opacity
						var ret = curCSS(elem, "opacity");
						return ret === "" ? "1" : ret;

					} else {
						return elem.style.opacity;
					}
				}
			}
		},

		// Exclude the following css properties to add px
		cssNumber: {
			"fillOpacity": true,
			"fontWeight": true,
			"lineHeight": true,
			"opacity": true,
			"orphans": true,
			"widows": true,
			"zIndex": true,
			"zoom": true
		},

		// Add in properties whose names you wish to fix before
		// setting or getting the value
		cssProps: {
			// normalize float css property
			"float": jQuery.support.cssFloat ? "cssFloat" : "styleFloat"
		},

		// Get and set the style property on a DOM Node
		style: function (elem, name, value, extra) {
			// Don't set styles on text and comment nodes
			if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
				return;
			}

			// Make sure that we're working with the right name
			var ret, type, origName = jQuery.camelCase(name),
				style = elem.style, hooks = jQuery.cssHooks[origName];

			name = jQuery.cssProps[origName] || origName;

			// Check if we're setting a value
			if (value !== undefined) {
				type = typeof value;

				// convert relative number strings (+= or -=) to relative numbers. #7345
				if (type === "string" && (ret = rrelNum.exec(value))) {
					value = (+(ret[1] + 1) * +ret[2]) + parseFloat(jQuery.css(elem, name));
					// Fixes bug #9237
					type = "number";
				}

				// Make sure that NaN and null values aren't set. See: #7116
				if (value == null || type === "number" && isNaN(value)) {
					return;
				}

				// If a number was passed in, add 'px' to the (except for certain CSS properties)
				if (type === "number" && !jQuery.cssNumber[origName]) {
					value += "px";
				}

				// If a hook was provided, use that value, otherwise just set the specified value
				if (!hooks || !("set" in hooks) || (value = hooks.set(elem, value)) !== undefined) {
					// Wrapped to prevent IE from throwing errors when 'invalid' values are provided
					// Fixes bug #5509
					try {
						style[name] = value;
					} catch (e) { }
				}

			} else {
				// If a hook was provided get the non-computed value from there
				if (hooks && "get" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {
					return ret;
				}

				// Otherwise just get the value from the style object
				return style[name];
			}
		},

		css: function (elem, name, extra) {
			var ret, hooks;

			// Make sure that we're working with the right name
			name = jQuery.camelCase(name);
			hooks = jQuery.cssHooks[name];
			name = jQuery.cssProps[name] || name;

			// cssFloat needs a special treatment
			if (name === "cssFloat") {
				name = "float";
			}

			// If a hook was provided get the computed value from there
			if (hooks && "get" in hooks && (ret = hooks.get(elem, true, extra)) !== undefined) {
				return ret;

				// Otherwise, if a way to get the computed value exists, use that
			} else if (curCSS) {
				return curCSS(elem, name);
			}
		},

		// A method for quickly swapping in/out CSS properties to get correct calculations
		swap: function (elem, options, callback) {
			var old = {},
				ret, name;

			// Remember the old values, and insert the new ones
			for (name in options) {
				old[name] = elem.style[name];
				elem.style[name] = options[name];
			}

			ret = callback.call(elem);

			// Revert the old values
			for (name in options) {
				elem.style[name] = old[name];
			}

			return ret;
		}
	});

	// DEPRECATED in 1.3, Use jQuery.css() instead
	jQuery.curCSS = jQuery.css;

	if (document.defaultView && document.defaultView.getComputedStyle) {
		getComputedStyle = function (elem, name) {
			var ret, defaultView, computedStyle, width,
				style = elem.style;

			name = name.replace(rupper, "-$1").toLowerCase();

			if ((defaultView = elem.ownerDocument.defaultView) &&
					(computedStyle = defaultView.getComputedStyle(elem, null))) {

				ret = computedStyle.getPropertyValue(name);
				if (ret === "" && !jQuery.contains(elem.ownerDocument.documentElement, elem)) {
					ret = jQuery.style(elem, name);
				}
			}

			// A tribute to the "awesome hack by Dean Edwards"
			// WebKit uses "computed value (percentage if specified)" instead of "used value" for margins
			// which is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
			if (!jQuery.support.pixelMargin && computedStyle && rmargin.test(name) && rnumnonpx.test(ret)) {
				width = style.width;
				style.width = ret;
				ret = computedStyle.width;
				style.width = width;
			}

			return ret;
		};
	}

	if (document.documentElement.currentStyle) {
		currentStyle = function (elem, name) {
			var left, rsLeft, uncomputed,
				ret = elem.currentStyle && elem.currentStyle[name],
				style = elem.style;

			// Avoid setting ret to empty string here
			// so we don't default to auto
			if (ret == null && style && (uncomputed = style[name])) {
				ret = uncomputed;
			}

			// From the awesome hack by Dean Edwards
			// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

			// If we're not dealing with a regular pixel number
			// but a number that has a weird ending, we need to convert it to pixels
			if (rnumnonpx.test(ret)) {

				// Remember the original values
				left = style.left;
				rsLeft = elem.runtimeStyle && elem.runtimeStyle.left;

				// Put in the new values to get a computed value out
				if (rsLeft) {
					elem.runtimeStyle.left = elem.currentStyle.left;
				}
				style.left = name === "fontSize" ? "1em" : ret;
				ret = style.pixelLeft + "px";

				// Revert the changed values
				style.left = left;
				if (rsLeft) {
					elem.runtimeStyle.left = rsLeft;
				}
			}

			return ret === "" ? "auto" : ret;
		};
	}

	curCSS = getComputedStyle || currentStyle;

	function getWidthOrHeight(elem, name, extra) {

		// Start with offset property
		var val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
			i = name === "width" ? 1 : 0,
			len = 4;

		if (val > 0) {
			if (extra !== "border") {
				for (; i < len; i += 2) {
					if (!extra) {
						val -= parseFloat(jQuery.css(elem, "padding" + cssExpand[i])) || 0;
					}
					if (extra === "margin") {
						val += parseFloat(jQuery.css(elem, extra + cssExpand[i])) || 0;
					} else {
						val -= parseFloat(jQuery.css(elem, "border" + cssExpand[i] + "Width")) || 0;
					}
				}
			}

			return val + "px";
		}

		// Fall back to computed then uncomputed css if necessary
		val = curCSS(elem, name);
		if (val < 0 || val == null) {
			val = elem.style[name];
		}

		// Computed unit is not pixels. Stop here and return.
		if (rnumnonpx.test(val)) {
			return val;
		}

		// Normalize "", auto, and prepare for extra
		val = parseFloat(val) || 0;

		// Add padding, border, margin
		if (extra) {
			for (; i < len; i += 2) {
				val += parseFloat(jQuery.css(elem, "padding" + cssExpand[i])) || 0;
				if (extra !== "padding") {
					val += parseFloat(jQuery.css(elem, "border" + cssExpand[i] + "Width")) || 0;
				}
				if (extra === "margin") {
					val += parseFloat(jQuery.css(elem, extra + cssExpand[i])) || 0;
				}
			}
		}

		return val + "px";
	}

	jQuery.each(["height", "width"], function (i, name) {
		jQuery.cssHooks[name] = {
			get: function (elem, computed, extra) {
				if (computed) {
					if (elem.offsetWidth !== 0) {
						return getWidthOrHeight(elem, name, extra);
					} else {
						return jQuery.swap(elem, cssShow, function () {
							return getWidthOrHeight(elem, name, extra);
						});
					}
				}
			},

			set: function (elem, value) {
				return rnum.test(value) ?
					value + "px" :
					value;
			}
		};
	});

	if (!jQuery.support.opacity) {
		jQuery.cssHooks.opacity = {
			get: function (elem, computed) {
				// IE uses filters for opacity
				return ropacity.test((computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || "") ?
					(parseFloat(RegExp.$1) / 100) + "" :
					computed ? "1" : "";
			},

			set: function (elem, value) {
				var style = elem.style,
					currentStyle = elem.currentStyle,
					opacity = jQuery.isNumeric(value) ? "alpha(opacity=" + value * 100 + ")" : "",
					filter = currentStyle && currentStyle.filter || style.filter || "";

				// IE has trouble with opacity if it does not have layout
				// Force it by setting the zoom level
				style.zoom = 1;

				// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652
				if (value >= 1 && jQuery.trim(filter.replace(ralpha, "")) === "") {

					// Setting style.filter to null, "" & " " still leave "filter:" in the cssText
					// if "filter:" is present at all, clearType is disabled, we want to avoid this
					// style.removeAttribute is IE Only, but so apparently is this code path...
					style.removeAttribute("filter");

					// if there there is no filter style applied in a css rule, we are done
					if (currentStyle && !currentStyle.filter) {
						return;
					}
				}

				// otherwise, set new filter values
				style.filter = ralpha.test(filter) ?
					filter.replace(ralpha, opacity) :
					filter + " " + opacity;
			}
		};
	}

	jQuery(function () {
		// This hook cannot be added until DOM ready because the support test
		// for it is not run until after DOM ready
		if (!jQuery.support.reliableMarginRight) {
			jQuery.cssHooks.marginRight = {
				get: function (elem, computed) {
					// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
					// Work around by temporarily setting element display to inline-block
					return jQuery.swap(elem, { "display": "inline-block" }, function () {
						if (computed) {
							return curCSS(elem, "margin-right");
						} else {
							return elem.style.marginRight;
						}
					});
				}
			};
		}
	});

	if (jQuery.expr && jQuery.expr.filters) {
		jQuery.expr.filters.hidden = function (elem) {
			var width = elem.offsetWidth,
				height = elem.offsetHeight;

			return (width === 0 && height === 0) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || jQuery.css(elem, "display")) === "none");
		};

		jQuery.expr.filters.visible = function (elem) {
			return !jQuery.expr.filters.hidden(elem);
		};
	}

	// These hooks are used by animate to expand properties
	jQuery.each({
		margin: "",
		padding: "",
		border: "Width"
	}, function (prefix, suffix) {

		jQuery.cssHooks[prefix + suffix] = {
			expand: function (value) {
				var i,

					// assumes a single number if not a string
					parts = typeof value === "string" ? value.split(" ") : [value],
					expanded = {};

				for (i = 0; i < 4; i++) {
					expanded[prefix + cssExpand[i] + suffix] =
						parts[i] || parts[i - 2] || parts[0];
				}

				return expanded;
			}
		};
	});




	var r20 = /%20/g,
		rbracket = /\[\]$/,
		rCRLF = /\r?\n/g,
		rhash = /#.*$/,
		rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, // IE leaves an \r character at EOL
		rinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
		// #7653, #8125, #8152: local protocol detection
		rlocalProtocol = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,
		rnoContent = /^(?:GET|HEAD)$/,
		rprotocol = /^\/\//,
		rquery = /\?/,
		rscript = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
		rselectTextarea = /^(?:select|textarea)/i,
		rspacesAjax = /\s+/,
		rts = /([?&])_=[^&]*/,
		rurl = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,

		// Keep a copy of the old load method
		_load = jQuery.fn.load,

		/* Prefilters
		 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
		 * 2) These are called:
		 *    - BEFORE asking for a transport
		 *    - AFTER param serialization (s.data is a string if s.processData is true)
		 * 3) key is the dataType
		 * 4) the catchall symbol "*" can be used
		 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
		 */
		prefilters = {},

		/* Transports bindings
		 * 1) key is the dataType
		 * 2) the catchall symbol "*" can be used
		 * 3) selection will start with transport dataType and THEN go to "*" if needed
		 */
		transports = {},

		// Document location
		ajaxLocation,

		// Document location segments
		ajaxLocParts,

		// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
		allTypes = ["*/"] + ["*"];

	// #8138, IE may throw an exception when accessing
	// a field from window.location if document.domain has been set
	try {
		ajaxLocation = location.href;
	} catch (e) {
		// Use the href attribute of an A element
		// since IE will modify it given document.location
		ajaxLocation = document.createElement("a");
		ajaxLocation.href = "";
		ajaxLocation = ajaxLocation.href;
	}

	// Segment location into parts
	ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];

	// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
	function addToPrefiltersOrTransports(structure) {

		// dataTypeExpression is optional and defaults to "*"
		return function (dataTypeExpression, func) {

			if (typeof dataTypeExpression !== "string") {
				func = dataTypeExpression;
				dataTypeExpression = "*";
			}

			if (jQuery.isFunction(func)) {
				var dataTypes = dataTypeExpression.toLowerCase().split(rspacesAjax),
					i = 0,
					length = dataTypes.length,
					dataType,
					list,
					placeBefore;

				// For each dataType in the dataTypeExpression
				for (; i < length; i++) {
					dataType = dataTypes[i];
					// We control if we're asked to add before
					// any existing element
					placeBefore = /^\+/.test(dataType);
					if (placeBefore) {
						dataType = dataType.substr(1) || "*";
					}
					list = structure[dataType] = structure[dataType] || [];
					// then we add to the structure accordingly
					list[placeBefore ? "unshift" : "push"](func);
				}
			}
		};
	}

	// Base inspection function for prefilters and transports
	function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR,
			dataType /* internal */, inspected /* internal */) {

		dataType = dataType || options.dataTypes[0];
		inspected = inspected || {};

		inspected[dataType] = true;

		var list = structure[dataType],
			i = 0,
			length = list ? list.length : 0,
			executeOnly = (structure === prefilters),
			selection;

		for (; i < length && (executeOnly || !selection) ; i++) {
			selection = list[i](options, originalOptions, jqXHR);
			// If we got redirected to another dataType
			// we try there if executing only and not done already
			if (typeof selection === "string") {
				if (!executeOnly || inspected[selection]) {
					selection = undefined;
				} else {
					options.dataTypes.unshift(selection);
					selection = inspectPrefiltersOrTransports(
							structure, options, originalOptions, jqXHR, selection, inspected);
				}
			}
		}
		// If we're only executing or nothing was selected
		// we try the catchall dataType if not done already
		if ((executeOnly || !selection) && !inspected["*"]) {
			selection = inspectPrefiltersOrTransports(
					structure, options, originalOptions, jqXHR, "*", inspected);
		}
		// unnecessary when only executing (prefilters)
		// but it'll be ignored by the caller in that case
		return selection;
	}

	// A special extend for ajax options
	// that takes "flat" options (not to be deep extended)
	// Fixes #9887
	function ajaxExtend(target, src) {
		var key, deep,
			flatOptions = jQuery.ajaxSettings.flatOptions || {};
		for (key in src) {
			if (src[key] !== undefined) {
				(flatOptions[key] ? target : (deep || (deep = {})))[key] = src[key];
			}
		}
		if (deep) {
			jQuery.extend(true, target, deep);
		}
	}

	jQuery.fn.extend({
		load: function (url, params, callback) {
			if (typeof url !== "string" && _load) {
				return _load.apply(this, arguments);

				// Don't do a request if no elements are being requested
			} else if (!this.length) {
				return this;
			}

			var off = url.indexOf(" ");
			if (off >= 0) {
				var selector = url.slice(off, url.length);
				url = url.slice(0, off);
			}

			// Default to a GET request
			var type = "GET";

			// If the second parameter was provided
			if (params) {
				// If it's a function
				if (jQuery.isFunction(params)) {
					// We assume that it's the callback
					callback = params;
					params = undefined;

					// Otherwise, build a param string
				} else if (typeof params === "object") {
					params = jQuery.param(params, jQuery.ajaxSettings.traditional);
					type = "POST";
				}
			}

			var self = this;

			// Request the remote document
			jQuery.ajax({
				url: url,
				type: type,
				dataType: "html",
				data: params,
				// Complete callback (responseText is used internally)
				complete: function (jqXHR, status, responseText) {
					// Store the response as specified by the jqXHR object
					responseText = jqXHR.responseText;
					// If successful, inject the HTML into all the matched elements
					if (jqXHR.isResolved()) {
						// #4825: Get the actual response in case
						// a dataFilter is present in ajaxSettings
						jqXHR.done(function (r) {
							responseText = r;
						});
						// See if a selector was specified
						self.html(selector ?
							// Create a dummy div to hold the results
							jQuery("<div>")
								// inject the contents of the document in, removing the scripts
								// to avoid any 'Permission Denied' errors in IE
								.append(responseText.replace(rscript, ""))

								// Locate the specified elements
								.find(selector) :

							// If not, just inject the full result
							responseText);
					}

					if (callback) {
						self.each(callback, [responseText, status, jqXHR]);
					}
				}
			});

			return this;
		},

		serialize: function () {
			return jQuery.param(this.serializeArray());
		},

		serializeArray: function () {
			return this.map(function () {
				return this.elements ? jQuery.makeArray(this.elements) : this;
			})
			.filter(function () {
				return this.name && !this.disabled &&
					(this.checked || rselectTextarea.test(this.nodeName) ||
						rinput.test(this.type));
			})
			.map(function (i, elem) {
				var val = jQuery(this).val();

				return val == null ?
					null :
					jQuery.isArray(val) ?
						jQuery.map(val, function (val, i) {
							return { name: elem.name, value: val.replace(rCRLF, "\r\n") };
						}) :
					{ name: elem.name, value: val.replace(rCRLF, "\r\n") };
			}).get();
		}
	});

	// Attach a bunch of functions for handling common AJAX events
	jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function (i, o) {
		jQuery.fn[o] = function (f) {
			return this.on(o, f);
		};
	});

	jQuery.each(["get", "post"], function (i, method) {
		jQuery[method] = function (url, data, callback, type) {
			// shift arguments if data argument was omitted
			if (jQuery.isFunction(data)) {
				type = type || callback;
				callback = data;
				data = undefined;
			}

			return jQuery.ajax({
				type: method,
				url: url,
				data: data,
				success: callback,
				dataType: type
			});
		};
	});

	jQuery.extend({

		getScript: function (url, callback) {
			return jQuery.get(url, undefined, callback, "script");
		},

		getJSON: function (url, data, callback) {
			return jQuery.get(url, data, callback, "json");
		},

		// Creates a full fledged settings object into target
		// with both ajaxSettings and settings fields.
		// If target is omitted, writes into ajaxSettings.
		ajaxSetup: function (target, settings) {
			if (settings) {
				// Building a settings object
				ajaxExtend(target, jQuery.ajaxSettings);
			} else {
				// Extending ajaxSettings
				settings = target;
				target = jQuery.ajaxSettings;
			}
			ajaxExtend(target, settings);
			return target;
		},

		ajaxSettings: {
			url: ajaxLocation,
			isLocal: rlocalProtocol.test(ajaxLocParts[1]),
			global: true,
			type: "GET",
			contentType: "application/x-www-form-urlencoded; charset=UTF-8",
			processData: true,
			async: true,
			/*
			timeout: 0,
			data: null,
			dataType: null,
			username: null,
			password: null,
			cache: null,
			traditional: false,
			headers: {},
			*/

			accepts: {
				xml: "application/xml, text/xml",
				html: "text/html",
				text: "text/plain",
				json: "application/json, text/javascript",
				"*": allTypes
			},

			contents: {
				xml: /xml/,
				html: /html/,
				json: /json/
			},

			responseFields: {
				xml: "responseXML",
				text: "responseText"
			},

			// List of data converters
			// 1) key format is "source_type destination_type" (a single space in-between)
			// 2) the catchall symbol "*" can be used for source_type
			converters: {

				// Convert anything to text
				"* text": window.String,

				// Text to html (true = no transformation)
				"text html": true,

				// Evaluate text as a json expression
				"text json": jQuery.parseJSON,

				// Parse text as xml
				"text xml": jQuery.parseXML
			},

			// For options that shouldn't be deep extended:
			// you can add your own custom options here if
			// and when you create one that shouldn't be
			// deep extended (see ajaxExtend)
			flatOptions: {
				context: true,
				url: true
			}
		},

		ajaxPrefilter: addToPrefiltersOrTransports(prefilters),
		ajaxTransport: addToPrefiltersOrTransports(transports),

		// Main method
		ajax: function (url, options) {

			// If url is an object, simulate pre-1.5 signature
			if (typeof url === "object") {
				options = url;
				url = undefined;
			}

			// Force options to be an object
			options = options || {};

			var // Create the final options object
				s = jQuery.ajaxSetup({}, options),
				// Callbacks context
				callbackContext = s.context || s,
				// Context for global events
				// It's the callbackContext if one was provided in the options
				// and if it's a DOM node or a jQuery collection
				globalEventContext = callbackContext !== s &&
					(callbackContext.nodeType || callbackContext instanceof jQuery) ?
							jQuery(callbackContext) : jQuery.event,
				// Deferreds
				deferred = jQuery.Deferred(),
				completeDeferred = jQuery.Callbacks("once memory"),
				// Status-dependent callbacks
				statusCode = s.statusCode || {},
				// ifModified key
				ifModifiedKey,
				// Headers (they are sent all at once)
				requestHeaders = {},
				requestHeadersNames = {},
				// Response headers
				responseHeadersString,
				responseHeaders,
				// transport
				transport,
				// timeout handle
				timeoutTimer,
				// Cross-domain detection vars
				parts,
				// The jqXHR state
				state = 0,
				// To know if global events are to be dispatched
				fireGlobals,
				// Loop variable
				i,
				// Fake xhr
				jqXHR = {

					readyState: 0,

					// Caches the header
					setRequestHeader: function (name, value) {
						if (!state) {
							var lname = name.toLowerCase();
							name = requestHeadersNames[lname] = requestHeadersNames[lname] || name;
							requestHeaders[name] = value;
						}
						return this;
					},

					// Raw string
					getAllResponseHeaders: function () {
						return state === 2 ? responseHeadersString : null;
					},

					// Builds headers hashtable if needed
					getResponseHeader: function (key) {
						var match;
						if (state === 2) {
							if (!responseHeaders) {
								responseHeaders = {};
								while ((match = rheaders.exec(responseHeadersString))) {
									responseHeaders[match[1].toLowerCase()] = match[2];
								}
							}
							match = responseHeaders[key.toLowerCase()];
						}
						return match === undefined ? null : match;
					},

					// Overrides response content-type header
					overrideMimeType: function (type) {
						if (!state) {
							s.mimeType = type;
						}
						return this;
					},

					// Cancel the request
					abort: function (statusText) {
						statusText = statusText || "abort";
						if (transport) {
							transport.abort(statusText);
						}
						done(0, statusText);
						return this;
					}
				};

			// Callback for when everything is done
			// It is defined here because jslint complains if it is declared
			// at the end of the function (which would be more logical and readable)
			function done(status, nativeStatusText, responses, headers) {

				// Called once
				if (state === 2) {
					return;
				}

				// State is "done" now
				state = 2;

				// Clear timeout if it exists
				if (timeoutTimer) {
					clearTimeout(timeoutTimer);
				}

				// Dereference transport for early garbage collection
				// (no matter how long the jqXHR object will be used)
				transport = undefined;

				// Cache response headers
				responseHeadersString = headers || "";

				// Set readyState
				jqXHR.readyState = status > 0 ? 4 : 0;

				var isSuccess,
					success,
					error,
					statusText = nativeStatusText,
					response = responses ? ajaxHandleResponses(s, jqXHR, responses) : undefined,
					lastModified,
					etag;

				// If successful, handle type chaining
				if (status >= 200 && status < 300 || status === 304) {

					// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
					if (s.ifModified) {

						if ((lastModified = jqXHR.getResponseHeader("Last-Modified"))) {
							jQuery.lastModified[ifModifiedKey] = lastModified;
						}
						if ((etag = jqXHR.getResponseHeader("Etag"))) {
							jQuery.etag[ifModifiedKey] = etag;
						}
					}

					// If not modified
					if (status === 304) {

						statusText = "notmodified";
						isSuccess = true;

						// If we have data
					} else {

						try {
							success = ajaxConvert(s, response);
							statusText = "success";
							isSuccess = true;
						} catch (e) {
							// We have a parsererror
							statusText = "parsererror";
							error = e;
						}
					}
				} else {
					// We extract error from statusText
					// then normalize statusText and status for non-aborts
					error = statusText;
					if (!statusText || status) {
						statusText = "error";
						if (status < 0) {
							status = 0;
						}
					}
				}

				// Set data for the fake xhr object
				jqXHR.status = status;
				jqXHR.statusText = "" + (nativeStatusText || statusText);

				// Success/Error
				if (isSuccess) {
					deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);
				} else {
					deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);
				}

				// Status-dependent callbacks
				jqXHR.statusCode(statusCode);
				statusCode = undefined;

				if (fireGlobals) {
					globalEventContext.trigger("ajax" + (isSuccess ? "Success" : "Error"),
							[jqXHR, s, isSuccess ? success : error]);
				}

				// Complete
				completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);

				if (fireGlobals) {
					globalEventContext.trigger("ajaxComplete", [jqXHR, s]);
					// Handle the global AJAX counter
					if (!(--jQuery.active)) {
						jQuery.event.trigger("ajaxStop");
					}
				}
			}

			// Attach deferreds
			deferred.promise(jqXHR);
			jqXHR.success = jqXHR.done;
			jqXHR.error = jqXHR.fail;
			jqXHR.complete = completeDeferred.add;

			// Status-dependent callbacks
			jqXHR.statusCode = function (map) {
				if (map) {
					var tmp;
					if (state < 2) {
						for (tmp in map) {
							statusCode[tmp] = [statusCode[tmp], map[tmp]];
						}
					} else {
						tmp = map[jqXHR.status];
						jqXHR.then(tmp, tmp);
					}
				}
				return this;
			};

			// Remove hash character (#7531: and string promotion)
			// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)
			// We also use the url parameter if available
			s.url = ((url || s.url) + "").replace(rhash, "").replace(rprotocol, ajaxLocParts[1] + "//");

			// Extract dataTypes list
			s.dataTypes = jQuery.trim(s.dataType || "*").toLowerCase().split(rspacesAjax);

			// Determine if a cross-domain request is in order
			if (s.crossDomain == null) {
				parts = rurl.exec(s.url.toLowerCase());
				s.crossDomain = !!(parts &&
					(parts[1] != ajaxLocParts[1] || parts[2] != ajaxLocParts[2] ||
						(parts[3] || (parts[1] === "http:" ? 80 : 443)) !=
							(ajaxLocParts[3] || (ajaxLocParts[1] === "http:" ? 80 : 443)))
				);
			}

			// Convert data if not already a string
			if (s.data && s.processData && typeof s.data !== "string") {
				s.data = jQuery.param(s.data, s.traditional);
			}

			// Apply prefilters
			inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);

			// If request was aborted inside a prefilter, stop there
			if (state === 2) {
				return false;
			}

			// We can fire global events as of now if asked to
			fireGlobals = s.global;

			// Uppercase the type
			s.type = s.type.toUpperCase();

			// Determine if request has content
			s.hasContent = !rnoContent.test(s.type);

			// Watch for a new set of requests
			if (fireGlobals && jQuery.active++ === 0) {
				jQuery.event.trigger("ajaxStart");
			}

			// More options handling for requests with no content
			if (!s.hasContent) {

				// If data is available, append data to url
				if (s.data) {
					s.url += (rquery.test(s.url) ? "&" : "?") + s.data;
					// #9682: remove data so that it's not used in an eventual retry
					delete s.data;
				}

				// Get ifModifiedKey before adding the anti-cache parameter
				ifModifiedKey = s.url;

				// Add anti-cache in url if needed
				if (s.cache === false) {

					var ts = jQuery.now(),
						// try replacing _= if it is there
						ret = s.url.replace(rts, "$1_=" + ts);

					// if nothing was replaced, add timestamp to the end
					s.url = ret + ((ret === s.url) ? (rquery.test(s.url) ? "&" : "?") + "_=" + ts : "");
				}
			}

			// Set the correct header, if data is being sent
			if (s.data && s.hasContent && s.contentType !== false || options.contentType) {
				jqXHR.setRequestHeader("Content-Type", s.contentType);
			}

			// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
			if (s.ifModified) {
				ifModifiedKey = ifModifiedKey || s.url;
				if (jQuery.lastModified[ifModifiedKey]) {
					jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[ifModifiedKey]);
				}
				if (jQuery.etag[ifModifiedKey]) {
					jqXHR.setRequestHeader("If-None-Match", jQuery.etag[ifModifiedKey]);
				}
			}

			// Set the Accepts header for the server, depending on the dataType
			jqXHR.setRequestHeader(
				"Accept",
				s.dataTypes[0] && s.accepts[s.dataTypes[0]] ?
					s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== "*" ? ", " + allTypes + "; q=0.01" : "") :
					s.accepts["*"]
			);

			// Check for headers option
			for (i in s.headers) {
				jqXHR.setRequestHeader(i, s.headers[i]);
			}

			// Allow custom headers/mimetypes and early abort
			if (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || state === 2)) {
				// Abort if not done already
				jqXHR.abort();
				return false;

			}

			// Install callbacks on deferreds
			for (i in { success: 1, error: 1, complete: 1 }) {
				jqXHR[i](s[i]);
			}

			// Get transport
			transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);

			// If no transport, we auto-abort
			if (!transport) {
				done(-1, "No Transport");
			} else {
				jqXHR.readyState = 1;
				// Send global event
				if (fireGlobals) {
					globalEventContext.trigger("ajaxSend", [jqXHR, s]);
				}
				// Timeout
				if (s.async && s.timeout > 0) {
					timeoutTimer = setTimeout(function () {
						jqXHR.abort("timeout");
					}, s.timeout);
				}

				try {
					state = 1;
					transport.send(requestHeaders, done);
				} catch (e) {
					// Propagate exception as error if not done
					if (state < 2) {
						done(-1, e);
						// Simply rethrow otherwise
					} else {
						throw e;
					}
				}
			}

			return jqXHR;
		},

		// Serialize an array of form elements or a set of
		// key/values into a query string
		param: function (a, traditional) {
			var s = [],
				add = function (key, value) {
					// If value is a function, invoke it and return its value
					value = jQuery.isFunction(value) ? value() : value;
					s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value);
				};

			// Set traditional to true for jQuery <= 1.3.2 behavior.
			if (traditional === undefined) {
				traditional = jQuery.ajaxSettings.traditional;
			}

			// If an array was passed in, assume that it is an array of form elements.
			if (jQuery.isArray(a) || (a.jquery && !jQuery.isPlainObject(a))) {
				// Serialize the form elements
				jQuery.each(a, function () {
					add(this.name, this.value);
				});

			} else {
				// If traditional, encode the "old" way (the way 1.3.2 or older
				// did it), otherwise encode params recursively.
				for (var prefix in a) {
					buildParams(prefix, a[prefix], traditional, add);
				}
			}

			// Return the resulting serialization
			return s.join("&").replace(r20, "+");
		}
	});

	function buildParams(prefix, obj, traditional, add) {
		if (jQuery.isArray(obj)) {
			// Serialize array item.
			jQuery.each(obj, function (i, v) {
				if (traditional || rbracket.test(prefix)) {
					// Treat each array item as a scalar.
					add(prefix, v);

				} else {
					// If array item is non-scalar (array or object), encode its
					// numeric index to resolve deserialization ambiguity issues.
					// Note that rack (as of 1.0.0) can't currently deserialize
					// nested arrays properly, and attempting to do so may cause
					// a server error. Possible fixes are to modify rack's
					// deserialization algorithm or to provide an option or flag
					// to force array serialization to be shallow.
					buildParams(prefix + "[" + (typeof v === "object" ? i : "") + "]", v, traditional, add);
				}
			});

		} else if (!traditional && jQuery.type(obj) === "object") {
			// Serialize object item.
			for (var name in obj) {
				buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
			}

		} else {
			// Serialize scalar item.
			add(prefix, obj);
		}
	}

	// This is still on the jQuery object... for now
	// Want to move this to jQuery.ajax some day
	jQuery.extend({

		// Counter for holding the number of active queries
		active: 0,

		// Last-Modified header cache for next request
		lastModified: {},
		etag: {}

	});

	/* Handles responses to an ajax request:
	 * - sets all responseXXX fields accordingly
	 * - finds the right dataType (mediates between content-type and expected dataType)
	 * - returns the corresponding response
	 */
	function ajaxHandleResponses(s, jqXHR, responses) {

		var contents = s.contents,
			dataTypes = s.dataTypes,
			responseFields = s.responseFields,
			ct,
			type,
			finalDataType,
			firstDataType;

		// Fill responseXXX fields
		for (type in responseFields) {
			if (type in responses) {
				jqXHR[responseFields[type]] = responses[type];
			}
		}

		// Remove auto dataType and get content-type in the process
		while (dataTypes[0] === "*") {
			dataTypes.shift();
			if (ct === undefined) {
				ct = s.mimeType || jqXHR.getResponseHeader("content-type");
			}
		}

		// Check if we're dealing with a known content-type
		if (ct) {
			for (type in contents) {
				if (contents[type] && contents[type].test(ct)) {
					dataTypes.unshift(type);
					break;
				}
			}
		}

		// Check to see if we have a response for the expected dataType
		if (dataTypes[0] in responses) {
			finalDataType = dataTypes[0];
		} else {
			// Try convertible dataTypes
			for (type in responses) {
				if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
					finalDataType = type;
					break;
				}
				if (!firstDataType) {
					firstDataType = type;
				}
			}
			// Or just use first one
			finalDataType = finalDataType || firstDataType;
		}

		// If we found a dataType
		// We add the dataType to the list if needed
		// and return the corresponding response
		if (finalDataType) {
			if (finalDataType !== dataTypes[0]) {
				dataTypes.unshift(finalDataType);
			}
			return responses[finalDataType];
		}
	}

	// Chain conversions given the request and the original response
	function ajaxConvert(s, response) {

		// Apply the dataFilter if provided
		if (s.dataFilter) {
			response = s.dataFilter(response, s.dataType);
		}

		var dataTypes = s.dataTypes,
			converters = {},
			i,
			key,
			length = dataTypes.length,
			tmp,
			// Current and previous dataTypes
			current = dataTypes[0],
			prev,
			// Conversion expression
			conversion,
			// Conversion function
			conv,
			// Conversion functions (transitive conversion)
			conv1,
			conv2;

		// For each dataType in the chain
		for (i = 1; i < length; i++) {

			// Create converters map
			// with lowercased keys
			if (i === 1) {
				for (key in s.converters) {
					if (typeof key === "string") {
						converters[key.toLowerCase()] = s.converters[key];
					}
				}
			}

			// Get the dataTypes
			prev = current;
			current = dataTypes[i];

			// If current is auto dataType, update it to prev
			if (current === "*") {
				current = prev;
				// If no auto and dataTypes are actually different
			} else if (prev !== "*" && prev !== current) {

				// Get the converter
				conversion = prev + " " + current;
				conv = converters[conversion] || converters["* " + current];

				// If there is no direct converter, search transitively
				if (!conv) {
					conv2 = undefined;
					for (conv1 in converters) {
						tmp = conv1.split(" ");
						if (tmp[0] === prev || tmp[0] === "*") {
							conv2 = converters[tmp[1] + " " + current];
							if (conv2) {
								conv1 = converters[conv1];
								if (conv1 === true) {
									conv = conv2;
								} else if (conv2 === true) {
									conv = conv1;
								}
								break;
							}
						}
					}
				}
				// If we found no converter, dispatch an error
				if (!(conv || conv2)) {
					jQuery.error("No conversion from " + conversion.replace(" ", " to "));
				}
				// If found converter is not an equivalence
				if (conv !== true) {
					// Convert with 1 or 2 converters accordingly
					response = conv ? conv(response) : conv2(conv1(response));
				}
			}
		}
		return response;
	}




	var jsc = jQuery.now(),
		jsre = /(\=)\?(&|$)|\?\?/i;

	// Default jsonp settings
	jQuery.ajaxSetup({
		jsonp: "callback",
		jsonpCallback: function () {
			return jQuery.expando + "_" + (jsc++);
		}
	});

	// Detect, normalize options and install callbacks for jsonp requests
	jQuery.ajaxPrefilter("json jsonp", function (s, originalSettings, jqXHR) {

		var inspectData = (typeof s.data === "string") && /^application\/x\-www\-form\-urlencoded/.test(s.contentType);

		if (s.dataTypes[0] === "jsonp" ||
			s.jsonp !== false && (jsre.test(s.url) ||
					inspectData && jsre.test(s.data))) {

			var responseContainer,
				jsonpCallback = s.jsonpCallback =
					jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback,
				previous = window[jsonpCallback],
				url = s.url,
				data = s.data,
				replace = "$1" + jsonpCallback + "$2";

			if (s.jsonp !== false) {
				url = url.replace(jsre, replace);
				if (s.url === url) {
					if (inspectData) {
						data = data.replace(jsre, replace);
					}
					if (s.data === data) {
						// Add callback manually
						url += (/\?/.test(url) ? "&" : "?") + s.jsonp + "=" + jsonpCallback;
					}
				}
			}

			s.url = url;
			s.data = data;

			// Install callback
			window[jsonpCallback] = function (response) {
				responseContainer = [response];
			};

			// Clean-up function
			jqXHR.always(function () {
				// Set callback back to previous value
				window[jsonpCallback] = previous;
				// Call if it was a function and we have a response
				if (responseContainer && jQuery.isFunction(previous)) {
					window[jsonpCallback](responseContainer[0]);
				}
			});

			// Use data converter to retrieve json after script execution
			s.converters["script json"] = function () {
				if (!responseContainer) {
					jQuery.error(jsonpCallback + " was not called");
				}
				return responseContainer[0];
			};

			// force json dataType
			s.dataTypes[0] = "json";

			// Delegate to script
			return "script";
		}
	});




	// Install script dataType
	jQuery.ajaxSetup({
		accepts: {
			script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
		},
		contents: {
			script: /javascript|ecmascript/
		},
		converters: {
			"text script": function (text) {
				jQuery.globalEval(text);
				return text;
			}
		}
	});

	// Handle cache's special case and global
	jQuery.ajaxPrefilter("script", function (s) {
		if (s.cache === undefined) {
			s.cache = false;
		}
		if (s.crossDomain) {
			s.type = "GET";
			s.global = false;
		}
	});

	// Bind script tag hack transport
	jQuery.ajaxTransport("script", function (s) {

		// This transport only deals with cross domain requests
		if (s.crossDomain) {

			var script,
				head = document.head || document.getElementsByTagName("head")[0] || document.documentElement;

			return {

				send: function (_, callback) {

					script = document.createElement("script");

					script.async = "async";

					if (s.scriptCharset) {
						script.charset = s.scriptCharset;
					}

					script.src = s.url;

					// Attach handlers for all browsers
					script.onload = script.onreadystatechange = function (_, isAbort) {

						if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {

							// Handle memory leak in IE
							script.onload = script.onreadystatechange = null;

							// Remove the script
							if (head && script.parentNode) {
								head.removeChild(script);
							}

							// Dereference the script
							script = undefined;

							// Callback if not abort
							if (!isAbort) {
								callback(200, "success");
							}
						}
					};
					// Use insertBefore instead of appendChild  to circumvent an IE6 bug.
					// This arises when a base node is used (#2709 and #4378).
					head.insertBefore(script, head.firstChild);
				},

				abort: function () {
					if (script) {
						script.onload(0, 1);
					}
				}
			};
		}
	});




	var // #5280: Internet Explorer will keep connections alive if we don't abort on unload
		xhrOnUnloadAbort = window.ActiveXObject ? function () {
			// Abort all pending requests
			for (var key in xhrCallbacks) {
				xhrCallbacks[key](0, 1);
			}
		} : false,
		xhrId = 0,
		xhrCallbacks;

	// Functions to create xhrs
	function createStandardXHR() {
		try {
			return new window.XMLHttpRequest();
		} catch (e) { }
	}

	function createActiveXHR() {
		try {
			return new window.ActiveXObject("Microsoft.XMLHTTP");
		} catch (e) { }
	}

	// Create the request object
	// (This is still attached to ajaxSettings for backward compatibility)
	jQuery.ajaxSettings.xhr = window.ActiveXObject ?
		/* Microsoft failed to properly
		 * implement the XMLHttpRequest in IE7 (can't request local files),
		 * so we use the ActiveXObject when it is available
		 * Additionally XMLHttpRequest can be disabled in IE7/IE8 so
		 * we need a fallback.
		 */
		function () {
			return !this.isLocal && createStandardXHR() || createActiveXHR();
		} :
		// For all other browsers, use the standard XMLHttpRequest object
		createStandardXHR;

	// Determine support properties
	(function (xhr) {
		jQuery.extend(jQuery.support, {
			ajax: !!xhr,
			cors: !!xhr && ("withCredentials" in xhr)
		});
	})(jQuery.ajaxSettings.xhr());

	// Create transport if the browser can provide an xhr
	if (jQuery.support.ajax) {

		jQuery.ajaxTransport(function (s) {
			// Cross domain only allowed if supported through XMLHttpRequest
			if (!s.crossDomain || jQuery.support.cors) {

				var callback;

				return {
					send: function (headers, complete) {

						// Get a new xhr
						var xhr = s.xhr(),
							handle,
							i;

						// Open the socket
						// Passing null username, generates a login popup on Opera (#2865)
						if (s.username) {
							xhr.open(s.type, s.url, s.async, s.username, s.password);
						} else {
							xhr.open(s.type, s.url, s.async);
						}

						// Apply custom fields if provided
						if (s.xhrFields) {
							for (i in s.xhrFields) {
								xhr[i] = s.xhrFields[i];
							}
						}

						// Override mime type if needed
						if (s.mimeType && xhr.overrideMimeType) {
							xhr.overrideMimeType(s.mimeType);
						}

						// X-Requested-With header
						// For cross-domain requests, seeing as conditions for a preflight are
						// akin to a jigsaw puzzle, we simply never set it to be sure.
						// (it can always be set on a per-request basis or even using ajaxSetup)
						// For same-domain requests, won't change header if already provided.
						if (!s.crossDomain && !headers["X-Requested-With"]) {
							headers["X-Requested-With"] = "XMLHttpRequest";
						}

						// Need an extra try/catch for cross domain requests in Firefox 3
						try {
							for (i in headers) {
								xhr.setRequestHeader(i, headers[i]);
							}
						} catch (_) { }

						// Do send the request
						// This may raise an exception which is actually
						// handled in jQuery.ajax (so no try/catch here)
						xhr.send((s.hasContent && s.data) || null);

						// Listener
						callback = function (_, isAbort) {

							var status,
								statusText,
								responseHeaders,
								responses,
								xml;

							// Firefox throws exceptions when accessing properties
							// of an xhr when a network error occured
							// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)
							try {

								// Was never called and is aborted or complete
								if (callback && (isAbort || xhr.readyState === 4)) {

									// Only called once
									callback = undefined;

									// Do not keep as active anymore
									if (handle) {
										xhr.onreadystatechange = jQuery.noop;
										if (xhrOnUnloadAbort) {
											delete xhrCallbacks[handle];
										}
									}

									// If it's an abort
									if (isAbort) {
										// Abort it manually if needed
										if (xhr.readyState !== 4) {
											xhr.abort();
										}
									} else {
										status = xhr.status;
										responseHeaders = xhr.getAllResponseHeaders();
										responses = {};
										xml = xhr.responseXML;

										// Construct response list
										if (xml && xml.documentElement /* #4958 */) {
											responses.xml = xml;
										}

										// When requesting binary data, IE6-9 will throw an exception
										// on any attempt to access responseText (#11426)
										try {
											responses.text = xhr.responseText;
										} catch (_) {
										}

										// Firefox throws an exception when accessing
										// statusText for faulty cross-domain requests
										try {
											statusText = xhr.statusText;
										} catch (e) {
											// We normalize with Webkit giving an empty statusText
											statusText = "";
										}

										// Filter status for non standard behaviors

										// If the request is local and we have data: assume a success
										// (success with no data won't get notified, that's the best we
										// can do given current implementations)
										if (!status && s.isLocal && !s.crossDomain) {
											status = responses.text ? 200 : 404;
											// IE - #1450: sometimes returns 1223 when it should be 204
										} else if (status === 1223) {
											status = 204;
										}
									}
								}
							} catch (firefoxAccessException) {
								if (!isAbort) {
									complete(-1, firefoxAccessException);
								}
							}

							// Call complete if needed
							if (responses) {
								complete(status, statusText, responses, responseHeaders);
							}
						};

						// if we're in sync mode or it's in cache
						// and has been retrieved directly (IE6 & IE7)
						// we need to manually fire the callback
						if (!s.async || xhr.readyState === 4) {
							callback();
						} else {
							handle = ++xhrId;
							if (xhrOnUnloadAbort) {
								// Create the active xhrs callbacks list if needed
								// and attach the unload handler
								if (!xhrCallbacks) {
									xhrCallbacks = {};
									jQuery(window).unload(xhrOnUnloadAbort);
								}
								// Add to list of active xhrs callbacks
								xhrCallbacks[handle] = callback;
							}
							xhr.onreadystatechange = callback;
						}
					},

					abort: function () {
						if (callback) {
							callback(0, 1);
						}
					}
				};
			}
		});
	}




	var elemdisplay = {},
		iframe, iframeDoc,
		rfxtypes = /^(?:toggle|show|hide)$/,
		rfxnum = /^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
		timerId,
		fxAttrs = [
			// height animations
			["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"],
			// width animations
			["width", "marginLeft", "marginRight", "paddingLeft", "paddingRight"],
			// opacity animations
			["opacity"]
		],
		fxNow;

	jQuery.fn.extend({
		show: function (speed, easing, callback) {
			var elem, display;

			if (speed || speed === 0) {
				return this.animate(genFx("show", 3), speed, easing, callback);

			} else {
				for (var i = 0, j = this.length; i < j; i++) {
					elem = this[i];

					if (elem.style) {
						display = elem.style.display;

						// Reset the inline display of this element to learn if it is
						// being hidden by cascaded rules or not
						if (!jQuery._data(elem, "olddisplay") && display === "none") {
							display = elem.style.display = "";
						}

						// Set elements which have been overridden with display: none
						// in a stylesheet to whatever the default browser style is
						// for such an element
						if ((display === "" && jQuery.css(elem, "display") === "none") ||
							!jQuery.contains(elem.ownerDocument.documentElement, elem)) {
							jQuery._data(elem, "olddisplay", defaultDisplay(elem.nodeName));
						}
					}
				}

				// Set the display of most of the elements in a second loop
				// to avoid the constant reflow
				for (i = 0; i < j; i++) {
					elem = this[i];

					if (elem.style) {
						display = elem.style.display;

						if (display === "" || display === "none") {
							elem.style.display = jQuery._data(elem, "olddisplay") || "";
						}
					}
				}

				return this;
			}
		},

		hide: function (speed, easing, callback) {
			if (speed || speed === 0) {
				return this.animate(genFx("hide", 3), speed, easing, callback);

			} else {
				var elem, display,
					i = 0,
					j = this.length;

				for (; i < j; i++) {
					elem = this[i];
					if (elem.style) {
						display = jQuery.css(elem, "display");

						if (display !== "none" && !jQuery._data(elem, "olddisplay")) {
							jQuery._data(elem, "olddisplay", display);
						}
					}
				}

				// Set the display of the elements in a second loop
				// to avoid the constant reflow
				for (i = 0; i < j; i++) {
					if (this[i].style) {
						this[i].style.display = "none";
					}
				}

				return this;
			}
		},

		// Save the old toggle function
		_toggle: jQuery.fn.toggle,

		toggle: function (fn, fn2, callback) {
			var bool = typeof fn === "boolean";

			if (jQuery.isFunction(fn) && jQuery.isFunction(fn2)) {
				this._toggle.apply(this, arguments);

			} else if (fn == null || bool) {
				this.each(function () {
					var state = bool ? fn : jQuery(this).is(":hidden");
					jQuery(this)[state ? "show" : "hide"]();
				});

			} else {
				this.animate(genFx("toggle", 3), fn, fn2, callback);
			}

			return this;
		},

		fadeTo: function (speed, to, easing, callback) {
			return this.filter(":hidden").css("opacity", 0).show().end()
						.animate({ opacity: to }, speed, easing, callback);
		},

		animate: function (prop, speed, easing, callback) {
			var optall = jQuery.speed(speed, easing, callback);

			if (jQuery.isEmptyObject(prop)) {
				return this.each(optall.complete, [false]);
			}

			// Do not change referenced properties as per-property easing will be lost
			prop = jQuery.extend({}, prop);

			function doAnimation() {
				// XXX 'this' does not always have a nodeName when running the
				// test suite

				if (optall.queue === false) {
					jQuery._mark(this);
				}

				var opt = jQuery.extend({}, optall),
					isElement = this.nodeType === 1,
					hidden = isElement && jQuery(this).is(":hidden"),
					name, val, p, e, hooks, replace,
					parts, start, end, unit,
					method;

				// will store per property easing and be used to determine when an animation is complete
				opt.animatedProperties = {};

				// first pass over propertys to expand / normalize
				for (p in prop) {
					name = jQuery.camelCase(p);
					if (p !== name) {
						prop[name] = prop[p];
						delete prop[p];
					}

					if ((hooks = jQuery.cssHooks[name]) && "expand" in hooks) {
						replace = hooks.expand(prop[name]);
						delete prop[name];

						// not quite $.extend, this wont overwrite keys already present.
						// also - reusing 'p' from above because we have the correct "name"
						for (p in replace) {
							if (!(p in prop)) {
								prop[p] = replace[p];
							}
						}
					}
				}

				for (name in prop) {
					val = prop[name];
					// easing resolution: per property > opt.specialEasing > opt.easing > 'swing' (default)
					if (jQuery.isArray(val)) {
						opt.animatedProperties[name] = val[1];
						val = prop[name] = val[0];
					} else {
						opt.animatedProperties[name] = opt.specialEasing && opt.specialEasing[name] || opt.easing || 'swing';
					}

					if (val === "hide" && hidden || val === "show" && !hidden) {
						return opt.complete.call(this);
					}

					if (isElement && (name === "height" || name === "width")) {
						// Make sure that nothing sneaks out
						// Record all 3 overflow attributes because IE does not
						// change the overflow attribute when overflowX and
						// overflowY are set to the same value
						opt.overflow = [this.style.overflow, this.style.overflowX, this.style.overflowY];

						// Set display property to inline-block for height/width
						// animations on inline elements that are having width/height animated
						if (jQuery.css(this, "display") === "inline" &&
								jQuery.css(this, "float") === "none") {

							// inline-level elements accept inline-block;
							// block-level elements need to be inline with layout
							if (!jQuery.support.inlineBlockNeedsLayout || defaultDisplay(this.nodeName) === "inline") {
								this.style.display = "inline-block";

							} else {
								this.style.zoom = 1;
							}
						}
					}
				}

				if (opt.overflow != null) {
					this.style.overflow = "hidden";
				}

				for (p in prop) {
					e = new jQuery.fx(this, opt, p);
					val = prop[p];

					if (rfxtypes.test(val)) {

						// Tracks whether to show or hide based on private
						// data attached to the element
						method = jQuery._data(this, "toggle" + p) || (val === "toggle" ? hidden ? "show" : "hide" : 0);
						if (method) {
							jQuery._data(this, "toggle" + p, method === "show" ? "hide" : "show");
							e[method]();
						} else {
							e[val]();
						}

					} else {
						parts = rfxnum.exec(val);
						start = e.cur();

						if (parts) {
							end = parseFloat(parts[2]);
							unit = parts[3] || (jQuery.cssNumber[p] ? "" : "px");

							// We need to compute starting value
							if (unit !== "px") {
								jQuery.style(this, p, (end || 1) + unit);
								start = ((end || 1) / e.cur()) * start;
								jQuery.style(this, p, start + unit);
							}

							// If a +=/-= token was provided, we're doing a relative animation
							if (parts[1]) {
								end = ((parts[1] === "-=" ? -1 : 1) * end) + start;
							}

							e.custom(start, end, unit);

						} else {
							e.custom(start, val, "");
						}
					}
				}

				// For JS strict compliance
				return true;
			}

			return optall.queue === false ?
				this.each(doAnimation) :
				this.queue(optall.queue, doAnimation);
		},

		stop: function (type, clearQueue, gotoEnd) {
			if (typeof type !== "string") {
				gotoEnd = clearQueue;
				clearQueue = type;
				type = undefined;
			}
			if (clearQueue && type !== false) {
				this.queue(type || "fx", []);
			}

			return this.each(function () {
				var index,
					hadTimers = false,
					timers = jQuery.timers,
					data = jQuery._data(this);

				// clear marker counters if we know they won't be
				if (!gotoEnd) {
					jQuery._unmark(true, this);
				}

				function stopQueue(elem, data, index) {
					var hooks = data[index];
					jQuery.removeData(elem, index, true);
					hooks.stop(gotoEnd);
				}

				if (type == null) {
					for (index in data) {
						if (data[index] && data[index].stop && index.indexOf(".run") === index.length - 4) {
							stopQueue(this, data, index);
						}
					}
				} else if (data[index = type + ".run"] && data[index].stop) {
					stopQueue(this, data, index);
				}

				for (index = timers.length; index--;) {
					if (timers[index].elem === this && (type == null || timers[index].queue === type)) {
						if (gotoEnd) {

							// force the next step to be the last
							timers[index](true);
						} else {
							timers[index].saveState();
						}
						hadTimers = true;
						timers.splice(index, 1);
					}
				}

				// start the next in the queue if the last step wasn't forced
				// timers currently will call their complete callbacks, which will dequeue
				// but only if they were gotoEnd
				if (!(gotoEnd && hadTimers)) {
					jQuery.dequeue(this, type);
				}
			});
		}

	});

	// Animations created synchronously will run synchronously
	function createFxNow() {
		setTimeout(clearFxNow, 0);
		return (fxNow = jQuery.now());
	}

	function clearFxNow() {
		fxNow = undefined;
	}

	// Generate parameters to create a standard animation
	function genFx(type, num) {
		var obj = {};

		jQuery.each(fxAttrs.concat.apply([], fxAttrs.slice(0, num)), function () {
			obj[this] = type;
		});

		return obj;
	}

	// Generate shortcuts for custom animations
	jQuery.each({
		slideDown: genFx("show", 1),
		slideUp: genFx("hide", 1),
		slideToggle: genFx("toggle", 1),
		fadeIn: { opacity: "show" },
		fadeOut: { opacity: "hide" },
		fadeToggle: { opacity: "toggle" }
	}, function (name, props) {
		jQuery.fn[name] = function (speed, easing, callback) {
			return this.animate(props, speed, easing, callback);
		};
	});

	jQuery.extend({
		speed: function (speed, easing, fn) {
			var opt = speed && typeof speed === "object" ? jQuery.extend({}, speed) : {
				complete: fn || !fn && easing ||
					jQuery.isFunction(speed) && speed,
				duration: speed,
				easing: fn && easing || easing && !jQuery.isFunction(easing) && easing
			};

			opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
				opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default;

			// normalize opt.queue - true/undefined/null -> "fx"
			if (opt.queue == null || opt.queue === true) {
				opt.queue = "fx";
			}

			// Queueing
			opt.old = opt.complete;

			opt.complete = function (noUnmark) {
				if (jQuery.isFunction(opt.old)) {
					opt.old.call(this);
				}

				if (opt.queue) {
					jQuery.dequeue(this, opt.queue);
				} else if (noUnmark !== false) {
					jQuery._unmark(this);
				}
			};

			return opt;
		},

		easing: {
			linear: function (p) {
				return p;
			},
			swing: function (p) {
				return (-Math.cos(p * Math.PI) / 2) + 0.5;
			}
		},

		timers: [],

		fx: function (elem, options, prop) {
			this.options = options;
			this.elem = elem;
			this.prop = prop;

			options.orig = options.orig || {};
		}

	});

	jQuery.fx.prototype = {
		// Simple function for setting a style value
		update: function () {
			if (this.options.step) {
				this.options.step.call(this.elem, this.now, this);
			}

			(jQuery.fx.step[this.prop] || jQuery.fx.step._default)(this);
		},

		// Get the current size
		cur: function () {
			if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) {
				return this.elem[this.prop];
			}

			var parsed,
				r = jQuery.css(this.elem, this.prop);
			// Empty strings, null, undefined and "auto" are converted to 0,
			// complex values such as "rotate(1rad)" are returned as is,
			// simple values such as "10px" are parsed to Float.
			return isNaN(parsed = parseFloat(r)) ? !r || r === "auto" ? 0 : r : parsed;
		},

		// Start an animation from one number to another
		custom: function (from, to, unit) {
			var self = this,
				fx = jQuery.fx;

			this.startTime = fxNow || createFxNow();
			this.end = to;
			this.now = this.start = from;
			this.pos = this.state = 0;
			this.unit = unit || this.unit || (jQuery.cssNumber[this.prop] ? "" : "px");

			function t(gotoEnd) {
				return self.step(gotoEnd);
			}

			t.queue = this.options.queue;
			t.elem = this.elem;
			t.saveState = function () {
				if (jQuery._data(self.elem, "fxshow" + self.prop) === undefined) {
					if (self.options.hide) {
						jQuery._data(self.elem, "fxshow" + self.prop, self.start);
					} else if (self.options.show) {
						jQuery._data(self.elem, "fxshow" + self.prop, self.end);
					}
				}
			};

			if (t() && jQuery.timers.push(t) && !timerId) {
				timerId = setInterval(fx.tick, fx.interval);
			}
		},

		// Simple 'show' function
		show: function () {
			var dataShow = jQuery._data(this.elem, "fxshow" + this.prop);

			// Remember where we started, so that we can go back to it later
			this.options.orig[this.prop] = dataShow || jQuery.style(this.elem, this.prop);
			this.options.show = true;

			// Begin the animation
			// Make sure that we start at a small width/height to avoid any flash of content
			if (dataShow !== undefined) {
				// This show is picking up where a previous hide or show left off
				this.custom(this.cur(), dataShow);
			} else {
				this.custom(this.prop === "width" || this.prop === "height" ? 1 : 0, this.cur());
			}

			// Start by showing the element
			jQuery(this.elem).show();
		},

		// Simple 'hide' function
		hide: function () {
			// Remember where we started, so that we can go back to it later
			this.options.orig[this.prop] = jQuery._data(this.elem, "fxshow" + this.prop) || jQuery.style(this.elem, this.prop);
			this.options.hide = true;

			// Begin the animation
			this.custom(this.cur(), 0);
		},

		// Each step of an animation
		step: function (gotoEnd) {
			var p, n, complete,
				t = fxNow || createFxNow(),
				done = true,
				elem = this.elem,
				options = this.options;

			if (gotoEnd || t >= options.duration + this.startTime) {
				this.now = this.end;
				this.pos = this.state = 1;
				this.update();

				options.animatedProperties[this.prop] = true;

				for (p in options.animatedProperties) {
					if (options.animatedProperties[p] !== true) {
						done = false;
					}
				}

				if (done) {
					// Reset the overflow
					if (options.overflow != null && !jQuery.support.shrinkWrapBlocks) {

						jQuery.each(["", "X", "Y"], function (index, value) {
							elem.style["overflow" + value] = options.overflow[index];
						});
					}

					// Hide the element if the "hide" operation was done
					if (options.hide) {
						jQuery(elem).hide();
					}

					// Reset the properties, if the item has been hidden or shown
					if (options.hide || options.show) {
						for (p in options.animatedProperties) {
							jQuery.style(elem, p, options.orig[p]);
							jQuery.removeData(elem, "fxshow" + p, true);
							// Toggle data is no longer needed
							jQuery.removeData(elem, "toggle" + p, true);
						}
					}

					// Execute the complete function
					// in the event that the complete function throws an exception
					// we must ensure it won't be called twice. #5684

					complete = options.complete;
					if (complete) {

						options.complete = false;
						complete.call(elem);
					}
				}

				return false;

			} else {
				// classical easing cannot be used with an Infinity duration
				if (options.duration == Infinity) {
					this.now = t;
				} else {
					n = t - this.startTime;
					this.state = n / options.duration;

					// Perform the easing function, defaults to swing
					this.pos = jQuery.easing[options.animatedProperties[this.prop]](this.state, n, 0, 1, options.duration);
					this.now = this.start + ((this.end - this.start) * this.pos);
				}
				// Perform the next step of the animation
				this.update();
			}

			return true;
		}
	};

	jQuery.extend(jQuery.fx, {
		tick: function () {
			var timer,
				timers = jQuery.timers,
				i = 0;

			for (; i < timers.length; i++) {
				timer = timers[i];
				// Checks the timer has not already been removed
				if (!timer() && timers[i] === timer) {
					timers.splice(i--, 1);
				}
			}

			if (!timers.length) {
				jQuery.fx.stop();
			}
		},

		interval: 13,

		stop: function () {
			clearInterval(timerId);
			timerId = null;
		},

		speeds: {
			slow: 600,
			fast: 200,
			// Default speed
			_default: 400
		},

		step: {
			opacity: function (fx) {
				jQuery.style(fx.elem, "opacity", fx.now);
			},

			_default: function (fx) {
				if (fx.elem.style && fx.elem.style[fx.prop] != null) {
					fx.elem.style[fx.prop] = fx.now + fx.unit;
				} else {
					fx.elem[fx.prop] = fx.now;
				}
			}
		}
	});

	// Ensure props that can't be negative don't go there on undershoot easing
	jQuery.each(fxAttrs.concat.apply([], fxAttrs), function (i, prop) {
		// exclude marginTop, marginLeft, marginBottom and marginRight from this list
		if (prop.indexOf("margin")) {
			jQuery.fx.step[prop] = function (fx) {
				jQuery.style(fx.elem, prop, Math.max(0, fx.now) + fx.unit);
			};
		}
	});

	if (jQuery.expr && jQuery.expr.filters) {
		jQuery.expr.filters.animated = function (elem) {
			return jQuery.grep(jQuery.timers, function (fn) {
				return elem === fn.elem;
			}).length;
		};
	}

	// Try to restore the default display value of an element
	function defaultDisplay(nodeName) {

		if (!elemdisplay[nodeName]) {

			var body = document.body,
				elem = jQuery("<" + nodeName + ">").appendTo(body),
				display = elem.css("display");
			elem.remove();

			// If the simple way fails,
			// get element's real default display by attaching it to a temp iframe
			if (display === "none" || display === "") {
				// No iframe to use yet, so create it
				if (!iframe) {
					iframe = document.createElement("iframe");
					iframe.frameBorder = iframe.width = iframe.height = 0;
				}

				body.appendChild(iframe);

				// Create a cacheable copy of the iframe document on first call.
				// IE and Opera will allow us to reuse the iframeDoc without re-writing the fake HTML
				// document to it; WebKit & Firefox won't allow reusing the iframe document.
				if (!iframeDoc || !iframe.createElement) {
					iframeDoc = (iframe.contentWindow || iframe.contentDocument).document;
					iframeDoc.write((jQuery.support.boxModel ? "<!doctype html>" : "") + "<html><body>");
					iframeDoc.close();
				}

				elem = iframeDoc.createElement(nodeName);

				iframeDoc.body.appendChild(elem);

				display = jQuery.css(elem, "display");
				body.removeChild(iframe);
			}

			// Store the correct default display
			elemdisplay[nodeName] = display;
		}

		return elemdisplay[nodeName];
	}




	var getOffset,
		rtable = /^t(?:able|d|h)$/i,
		rroot = /^(?:body|html)$/i;

	if ("getBoundingClientRect" in document.documentElement) {
		getOffset = function (elem, doc, docElem, box) {
			try {
				box = elem.getBoundingClientRect();
			} catch (e) { }

			// Make sure we're not dealing with a disconnected DOM node
			if (!box || !jQuery.contains(docElem, elem)) {
				return box ? { top: box.top, left: box.left } : { top: 0, left: 0 };
			}

			var body = doc.body,
				win = getWindow(doc),
				clientTop = docElem.clientTop || body.clientTop || 0,
				clientLeft = docElem.clientLeft || body.clientLeft || 0,
				scrollTop = win.pageYOffset || jQuery.support.boxModel && docElem.scrollTop || body.scrollTop,
				scrollLeft = win.pageXOffset || jQuery.support.boxModel && docElem.scrollLeft || body.scrollLeft,
				top = box.top + scrollTop - clientTop,
				left = box.left + scrollLeft - clientLeft;

			return { top: top, left: left };
		};

	} else {
		getOffset = function (elem, doc, docElem) {
			var computedStyle,
				offsetParent = elem.offsetParent,
				prevOffsetParent = elem,
				body = doc.body,
				defaultView = doc.defaultView,
				prevComputedStyle = defaultView ? defaultView.getComputedStyle(elem, null) : elem.currentStyle,
				top = elem.offsetTop,
				left = elem.offsetLeft;

			while ((elem = elem.parentNode) && elem !== body && elem !== docElem) {
				if (jQuery.support.fixedPosition && prevComputedStyle.position === "fixed") {
					break;
				}

				computedStyle = defaultView ? defaultView.getComputedStyle(elem, null) : elem.currentStyle;
				top -= elem.scrollTop;
				left -= elem.scrollLeft;

				if (elem === offsetParent) {
					top += elem.offsetTop;
					left += elem.offsetLeft;

					if (jQuery.support.doesNotAddBorder && !(jQuery.support.doesAddBorderForTableAndCells && rtable.test(elem.nodeName))) {
						top += parseFloat(computedStyle.borderTopWidth) || 0;
						left += parseFloat(computedStyle.borderLeftWidth) || 0;
					}

					prevOffsetParent = offsetParent;
					offsetParent = elem.offsetParent;
				}

				if (jQuery.support.subtractsBorderForOverflowNotVisible && computedStyle.overflow !== "visible") {
					top += parseFloat(computedStyle.borderTopWidth) || 0;
					left += parseFloat(computedStyle.borderLeftWidth) || 0;
				}

				prevComputedStyle = computedStyle;
			}

			if (prevComputedStyle.position === "relative" || prevComputedStyle.position === "static") {
				top += body.offsetTop;
				left += body.offsetLeft;
			}

			if (jQuery.support.fixedPosition && prevComputedStyle.position === "fixed") {
				top += Math.max(docElem.scrollTop, body.scrollTop);
				left += Math.max(docElem.scrollLeft, body.scrollLeft);
			}

			return { top: top, left: left };
		};
	}

	jQuery.fn.offset = function (options) {
		if (arguments.length) {
			return options === undefined ?
				this :
				this.each(function (i) {
					jQuery.offset.setOffset(this, options, i);
				});
		}

		var elem = this[0],
			doc = elem && elem.ownerDocument;

		if (!doc) {
			return null;
		}

		if (elem === doc.body) {
			return jQuery.offset.bodyOffset(elem);
		}

		return getOffset(elem, doc, doc.documentElement);
	};

	jQuery.offset = {

		bodyOffset: function (body) {
			var top = body.offsetTop,
				left = body.offsetLeft;

			if (jQuery.support.doesNotIncludeMarginInBodyOffset) {
				top += parseFloat(jQuery.css(body, "marginTop")) || 0;
				left += parseFloat(jQuery.css(body, "marginLeft")) || 0;
			}

			return { top: top, left: left };
		},

		setOffset: function (elem, options, i) {
			var position = jQuery.css(elem, "position");

			// set position first, in-case top/left are set even on static elem
			if (position === "static") {
				elem.style.position = "relative";
			}

			var curElem = jQuery(elem),
				curOffset = curElem.offset(),
				curCSSTop = jQuery.css(elem, "top"),
				curCSSLeft = jQuery.css(elem, "left"),
				calculatePosition = (position === "absolute" || position === "fixed") && jQuery.inArray("auto", [curCSSTop, curCSSLeft]) > -1,
				props = {}, curPosition = {}, curTop, curLeft;

			// need to be able to calculate position if either top or left is auto and position is either absolute or fixed
			if (calculatePosition) {
				curPosition = curElem.position();
				curTop = curPosition.top;
				curLeft = curPosition.left;
			} else {
				curTop = parseFloat(curCSSTop) || 0;
				curLeft = parseFloat(curCSSLeft) || 0;
			}

			if (jQuery.isFunction(options)) {
				options = options.call(elem, i, curOffset);
			}

			if (options.top != null) {
				props.top = (options.top - curOffset.top) + curTop;
			}
			if (options.left != null) {
				props.left = (options.left - curOffset.left) + curLeft;
			}

			if ("using" in options) {
				options.using.call(elem, props);
			} else {
				curElem.css(props);
			}
		}
	};


	jQuery.fn.extend({

		position: function () {
			if (!this[0]) {
				return null;
			}

			var elem = this[0],

			// Get *real* offsetParent
			offsetParent = this.offsetParent(),

			// Get correct offsets
			offset = this.offset(),
			parentOffset = rroot.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset();

			// Subtract element margins
			// note: when an element has margin: auto the offsetLeft and marginLeft
			// are the same in Safari causing offset.left to incorrectly be 0
			offset.top -= parseFloat(jQuery.css(elem, "marginTop")) || 0;
			offset.left -= parseFloat(jQuery.css(elem, "marginLeft")) || 0;

			// Add offsetParent borders
			parentOffset.top += parseFloat(jQuery.css(offsetParent[0], "borderTopWidth")) || 0;
			parentOffset.left += parseFloat(jQuery.css(offsetParent[0], "borderLeftWidth")) || 0;

			// Subtract the two offsets
			return {
				top: offset.top - parentOffset.top,
				left: offset.left - parentOffset.left
			};
		},

		offsetParent: function () {
			return this.map(function () {
				var offsetParent = this.offsetParent || document.body;
				while (offsetParent && (!rroot.test(offsetParent.nodeName) && jQuery.css(offsetParent, "position") === "static")) {
					offsetParent = offsetParent.offsetParent;
				}
				return offsetParent;
			});
		}
	});


	// Create scrollLeft and scrollTop methods
	jQuery.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (method, prop) {
		var top = /Y/.test(prop);

		jQuery.fn[method] = function (val) {
			return jQuery.access(this, function (elem, method, val) {
				var win = getWindow(elem);

				if (val === undefined) {
					return win ? (prop in win) ? win[prop] :
						jQuery.support.boxModel && win.document.documentElement[method] ||
							win.document.body[method] :
						elem[method];
				}

				if (win) {
					win.scrollTo(
						!top ? val : jQuery(win).scrollLeft(),
						 top ? val : jQuery(win).scrollTop()
					);

				} else {
					elem[method] = val;
				}
			}, method, val, arguments.length, null);
		};
	});

	function getWindow(elem) {
		return jQuery.isWindow(elem) ?
			elem :
			elem.nodeType === 9 ?
				elem.defaultView || elem.parentWindow :
				false;
	}




	// Create width, height, innerHeight, innerWidth, outerHeight and outerWidth methods
	jQuery.each({ Height: "height", Width: "width" }, function (name, type) {
		var clientProp = "client" + name,
			scrollProp = "scroll" + name,
			offsetProp = "offset" + name;

		// innerHeight and innerWidth
		jQuery.fn["inner" + name] = function () {
			var elem = this[0];
			return elem ?
				elem.style ?
				parseFloat(jQuery.css(elem, type, "padding")) :
				this[type]() :
				null;
		};

		// outerHeight and outerWidth
		jQuery.fn["outer" + name] = function (margin) {
			var elem = this[0];
			return elem ?
				elem.style ?
				parseFloat(jQuery.css(elem, type, margin ? "margin" : "border")) :
				this[type]() :
				null;
		};

		jQuery.fn[type] = function (value) {
			return jQuery.access(this, function (elem, type, value) {
				var doc, docElemProp, orig, ret;

				if (jQuery.isWindow(elem)) {
					// 3rd condition allows Nokia support, as it supports the docElem prop but not CSS1Compat
					doc = elem.document;
					docElemProp = doc.documentElement[clientProp];
					return jQuery.support.boxModel && docElemProp ||
						doc.body && doc.body[clientProp] || docElemProp;
				}

				// Get document width or height
				if (elem.nodeType === 9) {
					// Either scroll[Width/Height] or offset[Width/Height], whichever is greater
					doc = elem.documentElement;

					// when a window > document, IE6 reports a offset[Width/Height] > client[Width/Height]
					// so we can't use max, as it'll choose the incorrect offset[Width/Height]
					// instead we use the correct client[Width/Height]
					// support:IE6
					if (doc[clientProp] >= doc[scrollProp]) {
						return doc[clientProp];
					}

					return Math.max(
						elem.body[scrollProp], doc[scrollProp],
						elem.body[offsetProp], doc[offsetProp]
					);
				}

				// Get width or height on the element
				if (value === undefined) {
					orig = jQuery.css(elem, type);
					ret = parseFloat(orig);
					return jQuery.isNumeric(ret) ? ret : orig;
				}

				// Set the width or height on the element
				jQuery(elem).css(type, value);
			}, type, value, arguments.length, null);
		};
	});




	// Expose jQuery to the global object
	window.jQuery = window.$ = jQuery;

	// Expose jQuery as an AMD module, but only for AMD loaders that
	// understand the issues with loading multiple versions of jQuery
	// in a page that all might call define(). The loader will indicate
	// they have special allowances for multiple jQuery versions by
	// specifying define.amd.jQuery = true. Register as a named module,
	// since jQuery can be concatenated with other files that may use define,
	// but not use a proper concatenation script that understands anonymous
	// AMD modules. A named AMD is safest and most robust way to register.
	// Lowercase jquery is used because AMD module names are derived from
	// file names, and jQuery is normally delivered in a lowercase file name.
	// Do this after creating the global so that if an AMD module wants to call
	// noConflict to hide this version of jQuery, it will work.
	if (typeof define === "function" && define.amd && define.amd.jQuery) {
		define("jquery", [], function () { return jQuery; });
	}



})(window);/*! jQuery UI - v1.8.21 - 2012-06-05
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.21",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);;/*! jQuery UI - v1.8.21 - 2012-06-05
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);;/*! jQuery UI - v1.8.21 - 2012-06-05
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.datepicker.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);if(!c.length)return;c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);if($.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||!d.length)return;d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.21"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName))return;this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName))return;c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a)return;var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|=$(this).css("position")=="fixed",!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.21",window["DP_jQuery_"+dpuuid]=$})(jQuery);;(function(a){if(a.datepicker==null){throw new Error("jquery.datepicker plugin not found")}a.datepicker.regional.en=a.datepicker.regional[""];a.datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3c;Пред",nextText:"След&#x3e;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""}})(jQuery);/*
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,p){var i,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,c,l,v,b=$.bbq=$.bbq||{},q,u,j,e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,h,C={};function E(F){return typeof F==="string"}function B(G){var F=m.call(arguments,1);return function(){return G.apply(this,F.concat(m.call(arguments)))}}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(H,M,F,I,G){var O,L,K,N,J;if(I!==i){K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);J=K[3]||"";if(G===2&&E(I)){L=I.replace(H?w:x,"")}else{N=l(K[2]);I=E(I)?l[H?D:A](I):I;L=G===2?I:G===1?$.extend({},I,N):$.extend({},N,I);L=a(L);if(H){L=L.replace(h,r)}}O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J}else{O=M(F!==i?F:p[g][k])}return O}a[A]=B(f,0,o);a[D]=c=B(f,1,n);c.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);h=new RegExp(F.join("|"),"g")};c.noEscape(",/");$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var K=Q.split("="),P=r(K[0]),J,O=H,M=0,R=P.split("]["),N=R.length-1;if(/\[/.test(R[0])&&/\]$/.test(R[N])){R[N]=R[N].replace(/\]$/,"");R=R.shift().split("[").concat(R);N=R.length-1}else{N=0}if(K.length===2){J=r(K[1]);if(F){J=J&&!isNaN(J)?+J:J==="undefined"?i:G[J]!==i?G[J]:J}if(N){for(;M<=N;M++){P=R[M]===""?O.length:R[M];O=O[P]=M<N?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J}}else{if($.isArray(H[P])){H[P].push(J)}else{if(H[P]!==i){H[P]=[H[P],J]}else{H[P]=J}}}}else{if(P){H[P]=F?i:""}}});return H};function z(H,F,G){if(F===i||typeof F==="boolean"){G=F;F=a[H?D:A]()}else{F=E(F)?F.replace(H?w:x,""):F}return l(F,G)}l[A]=B(z,0);l[D]=v=B(z,1);$[y]||($[y]=function(F){return $.extend(C,F)})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t});j=$[y];function s(I,G,H,F){if(!E(H)&&typeof H!=="object"){F=H;H=G;G=i}return this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";L.attr(J,a[I](K,H,F))})}$.fn[A]=B(s,A);$.fn[D]=B(s,D);b.pushState=q=function(I,F){if(E(I)&&/^#/.test(I)&&F===i){F=2}var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);p[g][k]=G+(/#/.test(G)?"":"#")};b.getState=u=function(F,G){return F===i||typeof F==="boolean"?v(F):v(G)[F]};b.removeState=function(F){var G={};if(F!==i){G=u();$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]})}q(G,2)};e[d]=$.extend(e[d],{add:function(F){var H;function G(J){var I=J[D]=c();J.getState=function(K,L){return K===i||typeof K==="boolean"?l(I,K):l(I,L)[K]};H.apply(this,arguments)}if($.isFunction(F)){H=F;return G}else{H=F.handler;F.handler=G}}})})(jQuery,this);
(function(a){var e={className:"autosizejs",append:"",callback:false},f="hidden",b="border-box",g="lineHeight",c='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',d=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],j="oninput",k="onpropertychange",i,h=a(c).data("autosize",true)[0];h.style.lineHeight="99px";if(a(h).css(g)==="99px"){d.push(g)}h.style.lineHeight="";a.fn.autosize=function(l){l=a.extend({},e,l||{});if(h.parentNode!==document.body){a(document.body).append(h)}return this.each(function(){var u=this,m=a(u),t=Math.max(m.height(),15),s=parseInt(m.css("maxHeight"),10),n,p=0,v=u.value,q=a.isFunction(l.callback);if(m.data("autosize")){return}if(m.css("box-sizing")===b||m.css("-moz-box-sizing")===b||m.css("-webkit-box-sizing")===b){p=m.outerHeight()-m.height()}m.css({overflow:f,overflowY:f,wordWrap:"break-word"}).data("autosize",true);s=s&&s>0?s:90000;function r(){i=u;h.className=l.className;a.each(d,function(w,x){h.style[x]=m.css(x)})}function o(){var w,y,x;if(i!==u){r()}if(!n){n=true;h.value=u.value+l.append;h.style.overflowY=u.style.overflowY;x=parseInt(u.style.height,10);h.style.width=m.width()+"px";h.scrollTop=0;h.scrollTop=90000;w=h.scrollTop;if(w>s){w=s;y="scroll"}else{if(w<t){w=t}}w+=p;u.style.overflowY=y||f;if(x!==w){u.style.height=w+"px";if(q){l.callback.call(u)}}setTimeout(function(){n=false},1)}}if(k in u){if(j in u){u[j]=u.onkeyup=o}else{u[k]=o}}else{u[j]=o;u.value="";u.value=v}a(window).resize(o);m.bind("autosize",o);o()})}}(window.jQuery||window.Zepto));/*
 *
 * Copyright (c) 2010 C. F., Wong (<a href="http://cloudgen.w0ng.hk">Cloudgen Examplet Store</a>)
 * Licensed under the MIT License:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
﻿(function(k,e,i,j){k.fn.caret=function(b,l){var a,c,f=this[0],d=k.browser.msie;if(typeof b==="object"&&typeof b.start==="number"&&typeof b.end==="number"){a=b.start;c=b.end}else if(typeof b==="number"&&typeof l==="number"){a=b;c=l}else if(typeof b==="string")if((a=f.value.indexOf(b))>-1)c=a+b[e];else a=null;else if(Object.prototype.toString.call(b)==="[object RegExp]"){b=b.exec(f.value);if(b!=null){a=b.index;c=a+b[0][e]}}if(typeof a!="undefined"){if(d){d=this[0].createTextRange();d.collapse(true);
d.moveStart("character",a);d.moveEnd("character",c-a);d.select()}else{this[0].selectionStart=a;this[0].selectionEnd=c}this[0].focus();return this}else{if(d){c=document.selection;if(this[0].tagName.toLowerCase()!="textarea"){d=this.val();a=c[i]()[j]();a.moveEnd("character",d[e]);var g=a.text==""?d[e]:d.lastIndexOf(a.text);a=c[i]()[j]();a.moveStart("character",-d[e]);var h=a.text[e]}else{a=c[i]();c=a[j]();c.moveToElementText(this[0]);c.setEndPoint("EndToEnd",a);g=c.text[e]-a.text[e];h=g+a.text[e]}}else{g=
f.selectionStart;h=f.selectionEnd}a=f.value.substring(g,h);return{start:g,end:h,text:a,replace:function(m){return f.value.substring(0,g)+m+f.value.substring(h,f.value[e])}}}}})(jQuery,"length","createRange","duplicate");(function(a){var c=a(document);var f=a("head");var e=null;var o=[];var b=0;var n=null;var i="id";var l="px";var m="JColResizer";var g=parseInt;var k=Math;var j=a.browser.msie;f.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} /*.JColResizer td, .JColResizer th{overflow:hidden; }*/ .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;cursor:e-resize;height:100%;} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;	}</style>");a.fn.colResizable=function(v){var h={draggingClass:"JCLRgripDrag",gripInnerHtml:"",onResize:null,liveDrag:false,disable:false,setCellWidth:true},v=a.extend(h,v),w=this;a.each(w,function(A,z){var C=a(z);if(v.disable){return p(C)}var B=C.attr(i)||m+b++;if(!C.is("table")||o[B]){return}C.addClass(m).attr(i,B).before('<div class="JCLRgrips"/>');C.opt=v;C.g=[];C.c=[];C.w=C.width();C.gc=C.prev();C.cs=g(j?z.cellSpacing||z.currentStyle.borderSpacing:C.css("border-spacing"))||2;C.b=g(j?z.border||z.currentStyle.borderLeftWidth:C.css("border-left-width"))||1;o[B]=C;d(C,v)});function p(A){var z=A.attr(i),A=o[z];if(!A||!A.is("table")){return}A.removeClass(m).gc.remove();delete o[z]}function d(A,z){var B=A.find("tr:first th");if(!B.length){B=A.find("tr:first td")}A.ln=B.length;B.each(function(E){var C=a(this);var D=a(A.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);D.t=A;D.i=E;D.c=C;C.w=C.width();A.g.push(D);A.c.push(C);if(z.setCellWidth){C.width(C.w).removeAttr("width")}if(E<A.ln-1){D.mousedown(t).html('<div class="'+m+'"></div>').append(A.opt.gripInnerHtml)}else{D.addClass("JCLRLastGrip").removeClass("JCLRgrip")}D.data(m,{i:E,t:A.attr(i)})});y(A);A.find("tr:not(:first)").find("td, th").each(function(){a(this).removeAttr("width")})}function y(B){B.gc.width(B.w);for(var A=0;A<B.ln;A++){var z=B.c[A];B.g[A].css({left:z.offset().left-B.offset().left+z.outerWidth()+B.cs/2+l,height:B.outerHeight()})}}function x(E,B,D){var C=e.x-e.l,z=E.c[B],A=E.c[B+1];var F=z.w+C;var G=A.w-C;z.width(F+l);A.width(G+l);if(D){z.w=F;A.w=G}}function r(z){if(!e){return}var F=e.t;var G=z.pageX-e.ox+e.l;var E=v.minWidth?v.minWidth:40,A=e.i;var B=F.cs*1.5+E+F.b;var C=A==F.ln-1?F.w-B:F.g[A+1].position().left-F.cs-E;var D=A?F.g[A-1].position().left+F.cs+E:B;G=k.max(D,k.min(C,G));e.x=G;e.css("left",G+l);if(F.opt.liveDrag){x(F,A);y(F)}return false}function s(A){c.unbind("mousemove."+m).unbind("mouseup."+m);a("head :last-child").remove();if(!e){return}e.removeClass(e.t.opt.draggingClass);var B=e.t,z=B.opt.onResize;if(e.x){x(B,e.i,true);y(B);if(z){A.currentTarget=B[0];z(A)}}e=null}function t(A){var D=a(this).data(m);var E=o[D.t],B=E.g[D.i];B.ox=A.pageX;B.l=B.position().left;c.bind("mousemove."+m,r).bind("mouseup."+m,s);f.append("<style type='text/css'>*{cursor:e-resize!important}</style>");B.addClass(E.opt.draggingClass);e=B;if(E.c[D.i].l){for(var C=0,z;C<E.ln;C++){z=E.c[C];z.l=false;z.w=z.width()}}return false}var q=function(z){a("#log").html(a("#log").html()+"; "+z)};function u(){for(var z in o){var C=o[z],A,B=0;if(!(C.context&&C.context.nodeName.toLowerCase()=="table")){return false}C.removeClass(m);if(C.w!=C.width()){C.w=C.width();for(A=0;A<C.ln;A++){B+=C.c[A].w}for(A=0;A<C.ln;A++){C.c[A].css("width",k.round(1000*C.c[A].w/B)/10+"%").l=true}}y(C.addClass(m))}}a(window).bind("resize."+m,u);w.bind("changeTable."+m,u);return w}})(jQuery);jQuery.cookie=function(c,g,d){if(arguments.length>1&&String(g)!=="[object Object]"){d=jQuery.extend({},d);if(g===null||g===undefined){d.expires=-1}if(typeof d.expires==="number"){var a=d.expires,f=d.expires=new Date();f.setDate(f.getDate()+a)}g=String(g);return(document.cookie=[encodeURIComponent(c),"=",d.raw?g:encodeURIComponent(g),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join(""))}d=g||{};var e,b=d.raw?function(h){return h}:decodeURIComponent;return(e=new RegExp("(?:^|; )"+encodeURIComponent(c)+"=([^;]*)").exec(document.cookie))?b(e[1]):null};/*
 * jQuery Form Plugin
 * version: 3.27.0-2013.02.06
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(a){var d={};d.fileapi=a("<input type='file'/>").get(0).files!==undefined;d.formdata=window.FormData!==undefined;a.fn.ajaxSubmit=function(y){if(!this.length){e("ajaxSubmit: skipping submit process - no element selected");return this}var u,h,D,f=this;if(typeof y=="function"){y={success:y}}u=this.attr("method");h=this.attr("action");D=(typeof h==="string")?a.trim(h):"";D=D||window.location.href||"";if(D){D=(D.match(/^([^#]+)/)||[])[1]}y=a.extend(true,{url:D,success:a.ajaxSettings.success,type:u||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},y);var E={};this.trigger("form-pre-serialize",[this,y,E]);if(E.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(y.beforeSerialize&&y.beforeSerialize(this,y)===false){e("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var C=y.traditional;if(C===undefined){C=a.ajaxSettings.traditional}var l=[];var A,g=this.formToArray(y.semantic,l);if(y.data){y.extraData=y.data;A=a.param(y.data,C)}if(y.beforeSubmit&&y.beforeSubmit(g,this,y)===false){e("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[g,this,y,E]);if(E.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var z=a.param(g,C);if(A){z=(z?(z+"&"+A):A)}if(y.type.toUpperCase()=="GET"){y.url+=(y.url.indexOf("?")>=0?"&":"?")+z;y.data=null}else{y.data=z}var i=[];if(y.resetForm){i.push(function(){f.resetForm()})}if(y.clearForm){i.push(function(){f.clearForm(y.includeHidden)})}if(!y.dataType&&y.target){var x=y.success||function(){};i.push(function(k){var q=y.replaceTarget?"replaceWith":"html";a(y.target)[q](k).each(x,arguments)})}else{if(y.success){i.push(y.success)}}y.success=function(q,H,I){var k=y.context||this;for(var F=0,G=i.length;F<G;F++){i[F].apply(k,[q,H,I||f,f])}};var n=a('input[type=file]:enabled[value!=""]',this);var r=n.length>0;var v="multipart/form-data";var w=(f.attr("enctype")==v||f.attr("encoding")==v);var m=d.fileapi&&d.formdata;e("fileAPI :"+m);var B=(r||w)&&!m;var s;if(y.iframe!==false&&(y.iframe||B)){if(y.closeKeepAlive){a.get(y.closeKeepAlive,function(){s=o(g)})}else{s=o(g)}}else{if((r||w)&&m){s=p(g)}else{s=a.ajax(y)}}f.removeData("jqxhr").data("jqxhr",s);for(var t=0;t<l.length;t++){l[t]=null}this.trigger("form-submit-notify",[this,y]);return this;function j(k){var I=a.param(k).split("&");var F=I.length;var H=[];var q,G;for(q=0;q<F;q++){I[q]=I[q].replace(/\+/g," ");G=I[q].split("=");H.push([decodeURIComponent(G[0]),decodeURIComponent(G[1])])}return H}function p(k){var F=new FormData();for(var G=0;G<k.length;G++){F.append(k[G].name,k[G].value)}if(y.extraData){var I=j(y.extraData);for(G=0;G<I.length;G++){if(I[G]){F.append(I[G][0],I[G][1])}}}y.data=null;var H=a.extend(true,{},a.ajaxSettings,y,{contentType:false,processData:false,cache:false,type:u||"POST"});if(y.uploadProgress){H.xhr=function(){var J=jQuery.ajaxSettings.xhr();if(J.upload){J.upload.addEventListener("progress",function(K){var L=0;var M=K.loaded||K.position;var N=K.total;if(K.lengthComputable){L=Math.ceil(M/N*100)}y.uploadProgress(K,M,N,L)},false)}return J}}H.data=null;var q=H.beforeSend;H.beforeSend=function(K,J){J.data=F;if(q){q.call(this,K,J)}};return a.ajax(H)}function o(q){var Q=f[0],P,U,Z,R,V,k,W,ag,ab,X,ac,ad;var af=!!a.fn.prop;var L=a.Deferred();if(q){for(U=0;U<l.length;U++){P=a(l[U]);if(af){P.prop("disabled",false)}else{P.removeAttr("disabled")}}}Z=a.extend(true,{},a.ajaxSettings,y);Z.context=Z.context||Z;V="jqFormIO"+(new Date().getTime());if(Z.iframeTarget){k=a(Z.iframeTarget);X=k.attr("name");if(!X){k.attr("name",V)}else{V=X}}else{k=a('<iframe name="'+V+'" src="'+Z.iframeSrc+'" />');k.css({position:"absolute",top:"-1000px",left:"-1000px"})}W=k[0];ag={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ah=(aj==="timeout"?"timeout":"aborted");e("aborting upload... "+ah);this.aborted=1;try{if(W.contentWindow.document.execCommand){W.contentWindow.document.execCommand("Stop")}}catch(ai){}k.attr("src",Z.iframeSrc);ag.error=ah;if(Z.error){Z.error.call(Z.context,ag,ah,aj)}if(R){a.event.trigger("ajaxError",[ag,Z,ah])}if(Z.complete){Z.complete.call(Z.context,ag,ah)}}};R=Z.global;if(R&&0===a.active++){a.event.trigger("ajaxStart")}if(R){a.event.trigger("ajaxSend",[ag,Z])}if(Z.beforeSend&&Z.beforeSend.call(Z.context,ag,Z)===false){if(Z.global){a.active--}L.reject();return L}if(ag.aborted){L.reject();return L}ab=Q.clk;if(ab){X=ab.name;if(X&&!ab.disabled){Z.extraData=Z.extraData||{};Z.extraData[X]=ab.value;if(ab.type=="image"){Z.extraData[X+".x"]=Q.clk_x;Z.extraData[X+".y"]=Q.clk_y}}}var H=1;var aa=2;function S(ai){var ah=ai.contentWindow?ai.contentWindow.document:ai.contentDocument?ai.contentDocument:ai.document;return ah}var J=a("meta[name=csrf-token]").attr("content");var I=a("meta[name=csrf-param]").attr("content");if(I&&J){Z.extraData=Z.extraData||{};Z.extraData[I]=J}function O(){var am=f.attr("target"),ah=f.attr("action");Q.setAttribute("target",V);if(!u){Q.setAttribute("method","POST")}if(ah!=Z.url){Q.setAttribute("action",Z.url)}if(!Z.skipEncodingOverride&&(!u||/post/i.test(u))){f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(Z.timeout){ad=setTimeout(function(){ac=true;G(H)},Z.timeout)}function ai(){try{var ao=S(W).readyState;e("state = "+ao);if(ao&&ao.toLowerCase()=="uninitialized"){setTimeout(ai,50)}}catch(an){e("Server abort: ",an," (",an.name,")");G(aa);if(ad){clearTimeout(ad)}ad=undefined}}var aj=[];try{if(Z.extraData){for(var ak in Z.extraData){if(Z.extraData.hasOwnProperty(ak)){if(a.isPlainObject(Z.extraData[ak])&&Z.extraData[ak].hasOwnProperty("name")&&Z.extraData[ak].hasOwnProperty("value")){aj.push(a('<input type="hidden" name="'+Z.extraData[ak].name+'">').val(Z.extraData[ak].value).appendTo(Q)[0])}else{aj.push(a('<input type="hidden" name="'+ak+'">').val(Z.extraData[ak]).appendTo(Q)[0])}}}}if(!Z.iframeTarget){k.appendTo("body");if(W.attachEvent){W.attachEvent("onload",G)}else{W.addEventListener("load",G,false)}}setTimeout(ai,15);var al=document.createElement("form").submit;al.apply(Q)}finally{Q.setAttribute("action",ah);if(am){Q.setAttribute("target",am)}else{f.removeAttr("target")}a(aj).remove()}}if(Z.forceSync){O()}else{setTimeout(O,10)}var K,M,N=50,F;function G(ak){if(ag.aborted||F){return}try{M=S(W)}catch(am){e("cannot access response document: ",am);ak=aa}if(ak===H&&ag){ag.abort("timeout");L.reject(ag,"timeout");return}else{if(ak==aa&&ag){ag.abort("server abort");L.reject(ag,"error","server abort");return}}if(!M||M.location.href==Z.iframeSrc){if(!ac){return}}if(W.detachEvent){W.detachEvent("onload",G)}else{W.removeEventListener("load",G,false)}var ar="success",al;try{if(ac){throw"timeout"}var ao=Z.dataType=="xml"||M.XMLDocument||a.isXMLDoc(M);e("isXml="+ao);if(!ao&&window.opera&&(M.body===null||!M.body.innerHTML)){if(--N){e("requeing onLoad callback, DOM not available");setTimeout(G,250);return}}var ai=M.body?M.body:M.documentElement;ag.responseText=ai?ai.innerHTML:null;ag.responseXML=M.XMLDocument?M.XMLDocument:M;if(ao){Z.dataType="xml"}ag.getResponseHeader=function(au){var av={"content-type":Z.dataType};return av[au]};if(ai){ag.status=Number(ai.getAttribute("status"))||ag.status;ag.statusText=ai.getAttribute("statusText")||ag.statusText}var aj=(Z.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||Z.textarea){var at=M.getElementsByTagName("textarea")[0];if(at){ag.responseText=at.value;ag.status=Number(at.getAttribute("status"))||ag.status;ag.statusText=at.getAttribute("statusText")||ag.statusText}else{if(aq){var ap=M.getElementsByTagName("pre")[0];var ah=M.getElementsByTagName("body")[0];if(ap){ag.responseText=ap.textContent?ap.textContent:ap.innerText}else{if(ah){ag.responseText=ah.textContent?ah.textContent:ah.innerText}}}}}else{if(aj=="xml"&&!ag.responseXML&&ag.responseText){ag.responseXML=ae(ag.responseText)}}if(Z.extractStatusFromIFrame){var an=Z.extractStatusFromIFrame(M,W);if(an){ag.status=an.status||ag.status;ag.statusText=an.statusText||ag.statusText}}try{K=T(ag,aj,Z)}catch(ak){ar="parsererror";ag.error=al=(ak||ar)}}catch(ak){e("error caught: ",ak);ar="error";ag.error=al=(ak||ar)}if(ag.aborted){e("upload aborted");ar=null}if(ag.status){ar=(ag.status>=200&&ag.status<300||ag.status===304)?"success":"error"}if(ar==="success"){if(Z.success){Z.success.call(Z.context,K,"success",ag)}L.resolve(ag.responseText,"success",ag);if(R){a.event.trigger("ajaxSuccess",[ag,Z])}}else{if(ar){if(al===undefined){al=ag.statusText}if(Z.error){Z.error.call(Z.context,ag,ar,al)}L.reject(ag,"error",al);if(R){a.event.trigger("ajaxError",[ag,Z,al])}}}if(R){a.event.trigger("ajaxComplete",[ag,Z])}if(R&&!--a.active){a.event.trigger("ajaxStop")}if(Z.complete){Z.complete.call(Z.context,ag,ar)}F=true;if(Z.timeout){clearTimeout(ad)}setTimeout(function(){if(!Z.iframeTarget){k.remove()}ag.responseXML=null},100)}var ae=a.parseXML||function(ai,ah){if(window.ActiveXObject){ah=new ActiveXObject("Microsoft.XMLDOM");ah.async="false";ah.loadXML(ai)}else{ah=(new DOMParser()).parseFromString(ai,"text/xml")}return(ah&&ah.documentElement&&ah.documentElement.nodeName!="parsererror")?ah:null};var Y=a.parseJSON||function(ah){return window["eval"]("("+ah+")")};var T=function(al,ak,aj){var ah=al.getResponseHeader("content-type")||"",am=ak==="xml"||!ak&&ah.indexOf("xml")>=0,ai=am?al.responseXML:al.responseText;if(am&&ai.documentElement.nodeName==="parsererror"){if(a.error){a.error("parsererror")}}if(aj&&aj.dataFilter){ai=aj.dataFilter(ai,ak)}if(typeof ai==="string"){if(ak==="json"||!ak&&ah.indexOf("json")>=0){ai=Y(ai)}else{if(ak==="script"||!ak&&ah.indexOf("javascript")>=0){a.globalEval(ai)}}}return ai};return L}};a.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&a.isFunction(a.fn.on);if(!g.delegation&&this.length===0){var f={s:this.selector,c:this.context};if(!a.isReady&&f.s){e("DOM not ready, queuing ajaxForm");a(function(){a(f.s,f.c).ajaxForm(g)});return this}e("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}if(g.delegation){a(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,b).on("submit.form-plugin",this.selector,g,c).on("click.form-plugin",this.selector,g,b);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,c).bind("click.form-plugin",g,b)};function c(f){var g=f.data;if(!f.isDefaultPrevented()){f.preventDefault();a(this).ajaxSubmit(g)}}function b(g){var k=g.target;var f=a(k);if(!(f.is("[type=submit],[type=image]"))){var j=f.closest("[type=submit]");if(j.length===0){return}k=j[0]}var h=this;h.clk=k;if(k.type=="image"){if(g.offsetX!==undefined){h.clk_x=g.offsetX;h.clk_y=g.offsetY}else{if(typeof a.fn.offset=="function"){var i=f.offset();h.clk_x=g.pageX-i.left;h.clk_y=g.pageY-i.top}else{h.clk_x=g.pageX-k.offsetLeft;h.clk_y=g.pageY-k.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)}a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(w,k){var g=[];if(this.length===0){return g}var o=this[0];var l=w?o.getElementsByTagName("*"):o.elements;if(!l){return g}var p,r,u,x,h,t,s;for(p=0,t=l.length;p<t;p++){h=l[p];u=h.name;if(!u){continue}if(w&&o.clk&&h.type=="image"){if(!h.disabled&&o.clk==h){g.push({name:u,value:a(h).val(),type:h.type});g.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y})}continue}x=a.fieldValue(h,true);if(x&&x.constructor==Array){if(k){k.push(h)}for(r=0,s=x.length;r<s;r++){g.push({name:u,value:x[r]})}}else{if(d.fileapi&&h.type=="file"&&!h.disabled){if(k){k.push(h)}var m=h.files;if(m.length){for(r=0;r<m.length;r++){g.push({name:u,value:m[r],type:h.type})}}else{g.push({name:u,value:"",type:h.type})}}else{if(x!==null&&typeof x!="undefined"){if(k){k.push(h)}g.push({name:u,value:x,type:h.type,required:h.required})}}}}if(!w&&o.clk){var f=a(o.clk),q=f[0];u=q.name;if(u&&!q.disabled&&q.type=="image"){g.push({name:u,value:f.val()});g.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y})}}return g};a.fn.formSerialize=function(f){return a.param(this.formToArray(f))};a.fn.fieldSerialize=function(g){var f=[];this.each(function(){var k=this.name;if(!k){return}var l=a.fieldValue(this,g);if(l&&l.constructor==Array){for(var h=0,j=l.length;h<j;h++){f.push({name:k,value:l[h]})}}else{if(l!==null&&typeof l!="undefined"){f.push({name:this.name,value:l})}}});return a.param(f)};a.fn.fieldValue=function(j){for(var l=[],g=0,h=this.length;g<h;g++){var f=this[g];var k=a.fieldValue(f,j);if(k===null||typeof k=="undefined"||(k.constructor==Array&&!k.length)){continue}if(k.constructor==Array){a.merge(l,k)}else{l.push(k)}}return l};a.fieldValue=function(g,q){var l=g.name,r=g.type,s=g.tagName.toLowerCase();if(q===undefined){q=true}if(q&&(!l||g.disabled||r=="reset"||r=="button"||(r=="checkbox"||r=="radio")&&!g.checked||(r=="submit"||r=="image")&&g.form&&g.form.clk!=g||s=="select"&&g.selectedIndex==-1)){return null}if(s=="select"){var j=g.selectedIndex;if(j<0){return null}var f=[],p=g.options;var m=(r=="select-one");var k=(m?j+1:p.length);for(var h=(m?j:0);h<k;h++){var o=p[h];if(o.selected){var u=o.value;if(!u){u=(o.attributes&&o.attributes.value&&!(o.attributes.value.specified))?o.text:o.value}if(m){return u}f.push(u)}}return f}return a(g).val()};a.fn.clearForm=function(f){return this.each(function(){a("input,select,textarea",this).clearFields(f)})};a.fn.clearFields=a.fn.clearInputs=function(f){var g=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var h=this.type,i=this.tagName.toLowerCase();if(g.test(h)||i=="textarea"){this.value=""}else{if(h=="checkbox"||h=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(h=="file"){if(/MSIE/.test(navigator.userAgent)){a(this).replaceWith(a(this).clone())}else{a(this).val("")}}else{if(f){if((f===true&&/hidden/.test(h))||(typeof f=="string"&&a(this).is(f))){this.value=""}}}}}}})};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};a.fn.enable=function(f){if(f===undefined){f=true}return this.each(function(){this.disabled=!f})};a.fn.selected=function(f){if(f===undefined){f=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=f}else{if(this.tagName.toLowerCase()=="option"){var g=a(this).parent("select");if(f&&g[0]&&g[0].type=="select-one"){g.find("option").selected(false)}this.selected=f}}})};a.fn.ajaxSubmit.debug=false;function e(){if(!a.fn.ajaxSubmit.debug){return}var f="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(f)}else{if(window.opera&&window.opera.postError){window.opera.postError(f)}}}})(jQuery);/* Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*
* Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
* Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
* Thanks to: Seamus Leahy for adding deltaX and deltaY
*
* Version: 3.0.6
* 
* Requires: 1.2.2+
*/
(function(e){function h(a){var i=a||window.event,j=[].slice.call(arguments,1),k=0,l=!0,m=0,n=0;return a=e.event.fix(i),a.type="mousewheel",i.wheelDelta&&(k=i.wheelDelta/120),i.detail&&(k=-i.detail/3),n=k,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(n=0,m=-1*k),i.wheelDeltaY!==undefined&&(n=i.wheelDeltaY/120),i.wheelDeltaX!==undefined&&(m=-1*i.wheelDeltaX/120),j.unshift(a,k,m,n),(e.event.dispatch||e.event.handle).apply(this,j)}var f=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks){for(var g=f.length;g;){e.event.fixHooks[f[--g]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var b=f.length;b;){this.addEventListener(f[--b],h,!1)}}else{this.onmousewheel=h}},teardown:function(){if(this.removeEventListener){for(var b=f.length;b;){this.removeEventListener(f[--b],h,!1)}}else{this.onmousewheel=null}}},e.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);(function(a){var b=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;a.widget("ech.multiselectfilter",{options:{label:"Filter:",width:null,placeholder:"Enter keywords",autoReset:false},_create:function(){var g=this,f=this.options,e=(this.instance=a(this.element).data("multiselect")),d=(this.header=e.menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter")),h=(this.wrapper=a('<div class="ui-multiselect-filter">'+(f.label.length?f.label:"")+'<input placeholder="'+f.placeholder+'" type="search"'+(/\d/.test(f.width)?'style="width:'+f.width+'px"':"")+" /></div>").prependTo(this.header));this.inputs=e.menu.find('input[type="checkbox"], input[type="radio"]');this.input=h.find("input").bind({keydown:function(i){if(i.which===13){i.preventDefault()}},keyup:a.proxy(g._handler,g),click:a.proxy(g._handler,g)});this.updateCache();e._toggleChecked=function(k,l){var i=(l&&l.length)?l:this.labels.find("input"),j=this,m=g.instance._isOpen?":disabled, :hidden":":disabled";i=i.not(m).each(this._toggleState("checked",k));this.update();var n=i.map(function(){return this.value}).get();this.element.find("option").filter(function(){if(!this.disabled&&a.inArray(this.value,n)>-1){j._toggleState("selected",k).call(this)}})};var c=a(document).bind("multiselectrefresh",function(){g.updateCache();g._handler()});if(this.options.autoReset){c.bind("multiselectclose",a.proxy(this._reset,this))}},_handler:function(d){var i=a.trim(this.input[0].value.toLowerCase()),h=this.rows,f=this.inputs,c=this.cache;if(!i){h.show()}else{h.hide();var g=new RegExp(i.replace(b,"\\$&"),"gi");this._trigger("filter",d,a.map(c,function(j,e){if(j.search(g)!==-1){h.eq(e).show();return f.get(e)}return null}))}this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var e=a(this);var j=e.nextUntil(".ui-multiselect-optgroup-label").filter(function(){return a.css(this,"display")!=="none"}).length;e[j?"show":"hide"]()})},_reset:function(){this.input.val("").trigger("keyup")},updateCache:function(){this.rows=this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)");this.cache=this.element.children().map(function(){var c=a(this);if(this.tagName.toLowerCase()==="optgroup"){c=c.children()}return c.map(function(){return this.innerHTML.toLowerCase()}).get()}).get()},widget:function(){return this.wrapper},destroy:function(){a.Widget.prototype.destroy.call(this);this.input.val("").trigger("keyup");this.wrapper.remove()}})})(jQuery);(function(a,d){var b=0;var c={traversedClass:"js-first-letter-traversed"};a.widget("ech.multiselect",{options:{header:true,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"",selectedText:"# selected",selectedList:0,show:"",hide:"",autoOpen:false,multiple:true,position:{}},_create:function(){var h=this.element.hide(),l=this.options;this.speed=a.fx.speeds._default;this._isOpen=false;var e=(this.button=a('<div><img class="g-bg ui-icon-arrow" src="'+ContentPath+'/img/newImage/1px.png" /></div>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(l.classes).attr({title:h.attr("title"),"aria-haspopup":true,tabIndex:h.attr("tabIndex")}).insertAfter(h),f=(this.buttonlabel=a('<div class="ui-multiselect-text" />')).html(l.noneSelectedText).appendTo(e),k=(this.menu=a("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(l.classes).appendTo(document.body),i=(this.header=a("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(k),j=(this.headerLinkContainer=a("<ul />")).addClass("ui-helper-reset").html(function(){if(l.header===true){return'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+l.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+l.uncheckAllText+"</span></a></li>"}else{if(typeof l.header==="string"){return"<li>"+l.header+"</li>"}else{return""}}}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(i),g=(this.checkboxContainer=a("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(k);this._bindEvents();this.refresh(true);if(!l.multiple){k.addClass("ui-multiselect-single")}},_init:function(){if(this.options.header===false){this.header.hide()}if(!this.options.multiple){this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide()}if(this.options.autoOpen){this.open()}if(this.element.is(":disabled")){this.disable()}},refresh:function(i){var f=this.element,k=this.options,j=this.menu,e=this.checkboxContainer,l=[],g=[],h=f.attr("id")||b++;f.find("option").each(function(o){var m=a(this),u=this.parentNode,v=this.innerHTML,n=this.title,w=this.value,p=this.id||"ui-multiselect-"+h+"-option-"+o,q=this.disabled,r=this.selected,s=["ui-multiselect-label","ui-corner-all"],t;if(u.tagName.toLowerCase()==="optgroup"){t=u.getAttribute("label");if(a.inArray(t,l)===-1){g.push('<li class="ui-multiselect-optgroup-label"><a href="#">'+t+"</a></li>");l.push(t)}}if(q){s.push("ui-state-disabled")}if(r&&!k.multiple){s.push("ui-state-active")}g.push('<li class="'+(q?"ui-multiselect-disabled":"")+'">');g.push('<label title="'+n+'" class="'+s.join(" ")+'">');g.push('<input id="'+p+'" name="multiselect_'+h+'"  class="ui-multiselect-input" type="'+(k.multiple?"checkbox":"radio")+'" value="'+w+'" title="'+v+'"');if(r){g.push(' checked="checked"');g.push(' aria-selected="true"')}if(q){g.push(' disabled="disabled"');g.push(' aria-disabled="true"')}g.push(' /><span class="g-iblock ui-multiselect-item-text">'+v+"</span></label></li>")});e.html(g.join(""));e.find(".ui-multiselect-input").checkbox();this.labels=j.find("label");this._setButtonWidth();this._setMenuWidth();this.button[0].defaultValue=this.update();if(!i){this._trigger("refresh")}},update:function(){var j=this.options,f=this.labels.find("input"),e=f.filter(":checked"),i=e.length,m;function n(p,o){return"<span class='"+o+"'>"+p+"</span>"}if(i===0){m=n(j.noneSelectedText,"g-iblock ui-multiselect-txtdef")}else{if(a.isFunction(j.selectedText)){m=j.selectedText.call(this,i,f.length,e.get())}else{if(/\d/.test(j.selectedList)&&j.selectedList>0&&i<=j.selectedList){m=e.map(function(){return n(a(this).closest(".ui-multiselect-label").find(".ui-multiselect-item-text").text(),"g-iblock g-bold ui-multiselect-value")}).get().join("")}else{m=n(j.selectedText.replace("#",i).replace("#",f.length),"g-iblock ui-multiselect-txtdef")}}}this.buttonlabel.html(m);var g=this.button,l=g.offset().top,k=a(document).scrollTop(),h=g.closest(".js-popup-bd").length?((l+g.outerHeight())-k):(l+g.outerHeight());this.menu.css("top",h);return m},_bindEvents:function(){var g=this,e=this.button;function f(){g[g._isOpen?"close":"open"]();return false}e.find("span").bind("click.multiselect",f);e.bind({click:f,keypress:function(h){switch(h.which){case 27:case 38:case 37:g.close();break;case 39:case 40:g.open();break}},mouseenter:function(){if(!e.hasClass("ui-state-disabled")){a(this).addClass("ui-state-hover")}},mouseleave:function(){a(this).removeClass("ui-state-hover")},focus:function(){if(!e.hasClass("ui-state-disabled")){a(this).addClass("ui-state-focus")}},blur:function(){a(this).removeClass("ui-state-focus")}});this.header.delegate("a","click.multiselect",function(h){if(a(this).hasClass("ui-multiselect-close")){g.close()}else{g[a(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]()}h.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(j){j.preventDefault();var i=a(this),h=i.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),l=h.get(),k=i.parent().text();if(g._trigger("beforeoptgrouptoggle",j,{inputs:l,label:k})===false){return}g._toggleChecked(h.filter("[checked]").length!==h.length,h);g._trigger("optgrouptoggle",j,{inputs:l,label:k,checked:l[0].checked})}).delegate("label","mouseenter.multiselect",function(){if(!a(this).hasClass("ui-state-disabled")){g.labels.removeClass("ui-state-hover");a(this).addClass("ui-state-hover").find("input").focus()}}).delegate("label","keydown.multiselect",function(h){switch(h.which){case 9:case 27:g.close();break;case 38:case 40:case 37:case 39:g._traverse(h.which,this);break;case 13:a(this).find("input")[0].click();break;default:return true}h.preventDefault()}).delegate("label","keypress.multiselect",function(h){h.preventDefault();var i=String.fromCharCode(h.keyCode||h.charCode).toLowerCase();if(i&&i!=""){g._keySearch(i)}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(j){var h=a(this),l=this.value,i=this.checked,k=g.element.find("option");if(this.disabled||g._trigger("click",j,{value:l,text:this.title,checked:i})===false){j.preventDefault();return}h.focus();h.attr("aria-selected",i);k.each(function(){if(this.value===l){this.selected=i}else{if(!g.options.multiple){this.selected=false}}});if(!g.options.multiple){g.labels.removeClass("ui-state-active");h.closest("label").toggleClass("ui-state-active",i);g.close()}g.element.trigger("change");setTimeout(a.proxy(g.update,g),10)});a(document).bind("mousedown.multiselect",function(h){if(g._isOpen&&!a.contains(g.menu[0],h.target)&&!a.contains(g.button[0],h.target)&&h.target!==g.button[0]){g.close()}});a(this.element[0].form).bind("reset.multiselect",function(){setTimeout(a.proxy(g.refresh,g),10)})},_setButtonWidth:function(){var f=this.element.outerWidth(),e=this.options;if(/\d/.test(e.minWidth)&&f<e.minWidth){f=e.minWidth}if(e.minWidth=="auto"){f=e.minWidth}this.button.width(f)},_setMenuWidth:function(){var e=this.menu,f=this.button.outerWidth()-parseInt(e.css("padding-left"),10)-parseInt(e.css("padding-right"),10)-parseInt(e.css("border-right-width"),10)-parseInt(e.css("border-left-width"),10);e.width(f||this.button.outerWidth())},_traverse:function(j,i){var g=a(i),h=j===38||j===37,f=g.parent()[h?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[h?"last":"first"]();if(!f.length){var e=this.menu.find("ul").last();this.menu.find("label")[h?"last":"first"]().trigger("mouseover");e.scrollTop(h?e.height():0)}else{f.find("label").trigger("mouseover")}},_keySearch:function(f){if(!f){return}var k,e,i,g;var j=this.element.find("option");a.each(j,function(){e=a(this);k=e.text().trim().toLowerCase();if(k.charAt(0)==f&&!e.hasClass("selected")){if(!g){g=e}if(!e.hasClass(c.traversedClass)){i=e;i.addClass(c.traversedClass);return false}}});if(!g){return}if(!i){i=g;j.removeClass(c.traversedClass);i.addClass(c.traversedClass)}if(i&&i.length>0){var h=this.labels.filter(function(m,l){return a(l).find("input").val()==i.val()});h.trigger("mouseover")}},_toggleState:function(f,e){return function(){if(!this.disabled){this[f]=e}if(e){this.setAttribute("aria-selected",true)}else{this.removeAttribute("aria-selected")}}},_toggleChecked:function(f,g){var e=(g&&g.length)?g:this.labels.find("input"),h=this;e.each(this._toggleState("checked",f));e.eq(0).focus();this.update();var i=e.map(function(){return this.value}).get();this.element.find("option").each(function(){if(!this.disabled&&a.inArray(this.value,i)>-1){h._toggleState("selected",f).call(this)}});if(e.length){this.element.trigger("change")}},_toggleDisabled:function(e){this.button.attr({disabled:e,"aria-disabled":e})[e?"addClass":"removeClass"]("ui-state-disabled");this.menu.find("input").attr({disabled:e,"aria-disabled":e}).parent()[e?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:e,"aria-disabled":e})},open:function(h){var p=this,g=this.button,j=this.menu,q=this.speed,l=this.options,r=g.closest(".js-popup-bd").length?"fixed":"absolute",n=a(document).scrollTop();if(this._trigger("beforeopen")===false||g.hasClass("ui-state-disabled")||this._isOpen){return}var f=j.find("ul").last(),i=l.show,m=g.offset();if(a.isArray(l.show)){i=l.show[0];q=l.show[1]||p.speed}f.scrollTop(0).height(l.height);var k=g.outerWidth()-parseInt(g.css("borderLeftWidth"))-parseInt(g.css("borderRightWidth"));j.css({width:k,top:r=="fixed"?((m.top+g.outerHeight())-n):(m.top+g.outerHeight()),left:m.left,position:r}).show(i,q);j.find(".ui-multiselect-item-text").width(k-42);this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");g.addClass("ui-state-active");this._isOpen=true;this._trigger("open")},close:function(){if(this._trigger("beforeclose")===false){return}var f=this.options,e=f.hide,g=this.speed;if(a.isArray(f.hide)){e=f.hide[0];g=f.hide[1]||this.speed}this.menu.hide(e,g);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=false;this._trigger("close")},enable:function(){this._toggleDisabled(false)},disable:function(){this._toggleDisabled(true)},checkAll:function(f){this._toggleChecked(true);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(false);this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter("[checked]")},destroy:function(){a.Widget.prototype.destroy.call(this);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},_setOption:function(e,g){var f=this.menu;switch(e){case"header":f.find("div.ui-multiselect-header")[g?"show":"hide"]();break;case"checkAllText":f.find("a.ui-multiselect-all span").eq(-1).text(g);break;case"uncheckAllText":f.find("a.ui-multiselect-none span").eq(-1).text(g);break;case"height":f.find("ul").last().height(parseInt(g,10));break;case"minWidth":this.options[e]=parseInt(g,10);this._setButtonWidth();this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[e]=g;this.update();break;case"classes":f.add(this.button).removeClass(this.options.classes).addClass(g);break}a.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);/*
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright 2011, Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(h,w){var k=h.fn.domManip,u="_tmplitem",f=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,j={},A={},b,v={key:0,data:{}},g=0,e=0,n=[];function i(E,F,C,B){var D={data:B||(B===0||B===false)?B:(F?F.data:{}),_wrap:F?F._wrap:null,tmpl:null,parent:F||null,nodes:[],calls:p,nest:r,wrap:t,html:q,update:s};if(E){h.extend(D,E,{nodes:[],parent:F})}if(C){D.tmpl=C;D._ctnt=D._ctnt||D.tmpl(h,D);D.key=++g;(n.length?A:j)[g]=D}return D}h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(B,C){h.fn[B]=function(J){var I=[],F=h(J),D,E,G,K,H=this.length===1&&this[0].parentNode;b=j||{};if(H&&H.nodeType===11&&H.childNodes.length===1&&F.length===1){F[C](this[0]);I=this}else{for(E=0,G=F.length;E<G;E++){e=E;D=(E>0?this.clone(true):this).get();h(F[E])[C](D);I=I.concat(D)}e=0;I=this.pushStack(I,B,F.selector)}K=b;b=null;h.tmpl.complete(K);return I}});h.fn.extend({tmpl:function(B,C,D){return h.tmpl(this[0],B,C,D)},tmplItem:function(){return h.tmplItem(this[0])},template:function(B){return h.template(B,this[0])},domManip:function(B,I,C,H){if(B[0]&&h.isArray(B[0])){var D=h.makeArray(arguments),E=B[0],F=E.length,G=0,J;while(G<F&&!(J=h.data(E[G++],"tmplItem"))){}if(J&&e){D[2]=function(K){h.tmpl.afterManip(this,K,C)}}k.apply(this,D)}else{k.apply(this,arguments)}e=0;if(!b){h.tmpl.complete(j)}return this}});h.extend({tmpl:function(F,B,C,D){var E,G=!D;if(G){D=v;F=h.template[F]||h.template(null,F);A={}}else{if(!F){F=D.tmpl;j[D.key]=D;D.nodes=[];if(D.wrapped){z(D,D.wrapped)}return m(c(D,null,D.tmpl(h,D)))}}if(!F){return[]}if(typeof B==="function"){B=B.call(D||{})}if(C&&C.wrapped){z(C,C.wrapped)}E=h.isArray(B)?h.map(B,function(H){return H?i(C,D,F,H):null}):[i(C,D,F,B)];return G?m(c(D,null,E)):E},tmplItem:function(B){var C;if(B instanceof h){B=B[0]}while(B&&B.nodeType===1&&!(C=h.data(B,"tmplItem"))&&(B=B.parentNode)){}return C||v},template:function(B,C){if(C){if(typeof C==="string"){C=d(C)}else{if(C instanceof h){C=C[0]||{}}}if(C.nodeType){C=h.data(C,"tmpl")||h.data(C,"tmpl",d(C.innerHTML))}return typeof B==="string"?(h.template[B]=C):C}return B?(typeof B!=="string"?h.template(null,B):(h.template[B]||h.template(null,f.test(B)?B:h(B)))):null},encode:function(B){return(""+B).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});h.extend(h.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(B){j={}},afterManip:function a(D,E,B){var C=E.nodeType===11?h.makeArray(E.childNodes):E.nodeType===1?[E]:[];B.call(D,E);o(C);e++}});function m(B){var C=h(B);C.each(function(){var D=$(this).tmplItem();if(D.afterRender){D.afterRender.call($(this))}});return C}function c(F,D,B){var C,E=B?h.map(B,function(G){return(typeof G==="string")?(F.key?G.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+u+'="'+F.key+'" $2'):G):c(G,F,G._ctnt)}):F;if(D){return E}E=E.join("");E.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(H,I,J,G){C=h(J).get();o(C);if(I){C=x(I).concat(C)}if(G){C=C.concat(x(G))}});return C?C:x(E)}function x(C){var B=document.createElement("div");B.innerHTML=C;return h.makeArray(B.childNodes)}function d(B){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+h.trim(B).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(C,J,M,H,L,I,D){var K=h.tmpl.tag[M],E,F,G;if(!K){throw"Unknown template tag: "+M}E=K._default||[];if(I&&!/\w$/.test(L)){L+=I;I=""}if(L){L=y(L);D=D?(","+y(D)+")"):(I?")":"");F=I?(L.indexOf(".")>-1?L+y(I):("("+L+").call($item"+D)):L;G=I?F:"(typeof("+L+")==='function'?("+L+").call($item):("+L+"))"}else{G=F=E.$1||"null"}H=y(H);return"');"+K[J?"close":"open"].split("$notnull_1").join(L?"typeof("+L+")!=='undefined' && ("+L+")!=null":"true").split("$1a").join(G).split("$1").join(F).split("$2").join(H||E.$2||"")+"__.push('"})+"');}return __;")}function z(B,C){B._wrap=c(B,true,h.isArray(C)?C:[f.test(C)?C:h(C).html()]).join("")}function y(B){return B?B.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function l(C){var B=document.createElement("div");B.appendChild(C.cloneNode(true));return B.innerHTML}function o(B){var F="_"+e,C,D,I={},E,G,H;for(E=0,G=B.length;E<G;E++){if((C=B[E]).nodeType!==1){continue}D=C.getElementsByTagName("*");for(H=D.length-1;H>=0;H--){J(D[H])}J(C)}function J(L){var O,P=L,N,Q,M;if((M=L.getAttribute(u))){while(P.parentNode&&(P=P.parentNode).nodeType===1&&!(O=P.getAttribute(u))){}if(O!==M){P=P.parentNode?(P.nodeType===11?0:(P.getAttribute(u)||0)):0;if(!(Q=j[M])){Q=A[M];Q=i(Q,j[P]||A[P]);Q.key=++g;j[g]=Q}if(e){K(M)}}L.removeAttribute(u)}else{if(e&&(Q=h.data(L,"tmplItem"))){K(Q.key);j[Q.key]=Q;P=h.data(L.parentNode,"tmplItem");P=P?P.key:0}}if(Q){N=Q;while(N&&N.key!=P){N.nodes.push(L);N=N.parent}delete Q._ctnt;delete Q._wrap;h.data(L,"tmplItem",Q)}function K(R){R=R+F;Q=I[R]=(I[R]||i(Q,j[Q.parent.key+F]||Q.parent))}}}function p(B,E,C,D){if(!B){return n.pop()}n.push({_:B,tmpl:E,item:this,data:C,options:D})}function r(D,B,C){return h.tmpl(h.template(D),B,C,this)}function t(B,D){var C=B.options||{};C.wrapped=D;return h.tmpl(h.template(B.tmpl),B.data,C,B.item)}function q(B,C){var D=this._wrap;return h.map(h(h.isArray(D)?D.join(""):D).filter(B||"*"),function(E){return C?E.innerText||E.textContent:E.outerHTML||l(E)})}function s(){var B=this.nodes;h.tmpl(null,null,null,this).insertBefore(B[0]);h(B).remove()}})(jQuery);(function(a){a.extend(a.tmpl.tag,{"var":{open:"var $1;"}})})(jQuery);(function(a,k,g){var i="tooltipster",c={animation:"fade",arrow:true,arrowColor:"",autoClose:true,content:null,contentAsHTML:false,contentCloning:true,debug:true,delay:200,minWidth:0,maxWidth:null,functionInit:function(m,l){},functionBefore:function(m,l){l()},functionReady:function(l,m){},functionAfter:function(l){},icon:"(?)",iconCloning:true,iconDesktop:false,iconTouch:false,iconTheme:"tooltipster-icon",interactive:false,interactiveTolerance:350,multiple:false,offsetX:0,offsetY:0,onlyOne:false,position:"top",positionTracker:false,speed:350,timer:0,theme:"tooltipster-default",touchDevices:true,trigger:"hover",updateAnimation:true};function h(l,m){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=a(l);this.$elProxy;this.elProxyPosition;this.enabled=true;this.options=a.extend({},c,m);this.mouseIsOverProxy=false;this.namespace="tooltipster-"+Math.round(Math.random()*100000);this.Status="hidden";this.timerHide=null;this.timerShow=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this._init()}h.prototype={_init:function(){var m=this;if(g.querySelector){if(m.options.content!==null){m._content_set(m.options.content)}else{var n=m.$el.attr("title");if(typeof n==="undefined"){n=null}m._content_set(n)}var l=m.options.functionInit.call(m.$el,m.$el,m.Content);if(typeof l!=="undefined"){m._content_set(l)}m.$el.removeAttr("title").addClass("tooltipstered");if((!e&&m.options.iconDesktop)||(e&&m.options.iconTouch)){if(typeof m.options.icon==="string"){m.$elProxy=a('<span class="'+m.options.iconTheme+'"></span>');m.$elProxy.text(m.options.icon)}else{if(m.options.iconCloning){m.$elProxy=m.options.icon.clone(true)}else{m.$elProxy=m.options.icon}}m.$elProxy.insertAfter(m.$el)}else{m.$elProxy=m.$el}if(m.options.trigger=="hover"){m.$elProxy.on("mouseenter."+m.namespace,function(){if(!f()||m.options.touchDevices){m.mouseIsOverProxy=true;m._show()}}).on("mouseleave."+m.namespace,function(){if(!f()||m.options.touchDevices){m.mouseIsOverProxy=false}});if(e&&m.options.touchDevices){m.$elProxy.on("touchstart."+m.namespace,function(){m._showNow()})}}else{if(m.options.trigger=="click"){m.$elProxy.on("click."+m.namespace,function(){if(!f()||m.options.touchDevices){m._show()}})}}}},_show:function(){var l=this;if(l.Status!="shown"&&l.Status!="appearing"){if(l.options.delay){l.timerShow=setTimeout(function(){if(l.options.trigger=="click"||(l.options.trigger=="hover"&&l.mouseIsOverProxy)){l._showNow()}},l.options.delay)}else{l._showNow()}}},_showNow:function(l){var m=this;m.options.functionBefore.call(m.$el,m.$el,function(){if(m.enabled&&m.Content!==null){if(l){m.callbacks.show.push(l)}m.callbacks.hide=[];clearTimeout(m.timerShow);m.timerShow=null;clearTimeout(m.timerHide);m.timerHide=null;if(m.options.onlyOne){a(".tooltipstered").not(m.$el).each(function(y,x){var w=a(x),z=w.data("tooltipster-ns");a.each(z,function(B,D){var C=w.data(D),E=C.status(),A=C.option("autoClose");if(E!=="hidden"&&E!=="disappearing"&&A){C.hide()}})})}var q=function(){m.Status="shown";a.each(m.callbacks.show,function(x,w){w.call(m.$el)});m.callbacks.show=[]};if(m.Status!=="hidden"){var p=0;if(m.Status==="disappearing"){m.Status="appearing";if(j()){m.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+m.options.animation+"-show");if(m.options.speed>0){m.$tooltip.delay(m.options.speed)}m.$tooltip.queue(q)}else{m.$tooltip.stop().fadeIn(q)}}else{if(m.Status==="shown"){q()}}}else{m.Status="appearing";var p=m.options.speed;m.bodyOverflowX=a("body").css("overflow-x");var n="tooltipster-"+m.options.animation,o="-webkit-transition-duration: "+m.options.speed+"ms; -webkit-animation-duration: "+m.options.speed+"ms; -moz-transition-duration: "+m.options.speed+"ms; -moz-animation-duration: "+m.options.speed+"ms; -o-transition-duration: "+m.options.speed+"ms; -o-animation-duration: "+m.options.speed+"ms; -ms-transition-duration: "+m.options.speed+"ms; -ms-animation-duration: "+m.options.speed+"ms; transition-duration: "+m.options.speed+"ms; animation-duration: "+m.options.speed+"ms;",s=m.options.minWidth?"min-width:"+Math.round(m.options.minWidth)+"px;":"",r=m.options.maxWidth?"max-width:"+Math.round(m.options.maxWidth)+"px;":"",t=m.options.interactive?"pointer-events: auto;":"";m.$tooltip=a('<div class="tooltipster-base '+m.options.theme+'" style="'+s+" "+r+" "+t+" "+o+'"><div class="tooltipster-content"></div></div>');if(j()){m.$tooltip.addClass(n)}m._content_insert();m.$tooltip.appendTo("body");m.reposition();m.options.functionReady.call(m.$el,m.$el,m.$tooltip);if(j()){m.$tooltip.addClass(n+"-show");if(m.options.speed>0){m.$tooltip.delay(m.options.speed)}m.$tooltip.queue(q)}else{m.$tooltip.css("display","none").fadeIn(m.options.speed,q)}m._interval_set();a(k).on("scroll."+m.namespace+" resize."+m.namespace,function(){m.reposition()});if(m.options.autoClose){a("body").off("."+m.namespace);if(m.options.trigger=="hover"){if(e){setTimeout(function(){a("body").on("touchstart."+m.namespace,function(){m.hide()})},0)}if(m.options.interactive){if(e){m.$tooltip.on("touchstart."+m.namespace,function(w){w.stopPropagation()})}var u=null;m.$elProxy.add(m.$tooltip).on("mouseleave."+m.namespace+"-autoClose",function(){clearTimeout(u);u=setTimeout(function(){m.hide()},m.options.interactiveTolerance)}).on("mouseenter."+m.namespace+"-autoClose",function(){clearTimeout(u)})}else{m.$elProxy.on("mouseleave."+m.namespace+"-autoClose",function(){m.hide()})}}else{if(m.options.trigger=="click"){setTimeout(function(){a("body").on("click."+m.namespace+" touchstart."+m.namespace,function(){m.hide()})},0);if(m.options.interactive){m.$tooltip.on("click."+m.namespace+" touchstart."+m.namespace,function(w){w.stopPropagation()})}}}}}if(m.options.timer>0){m.timerHide=setTimeout(function(){m.timerHide=null;m.hide()},m.options.timer+p)}}})},_interval_set:function(){var l=this;l.checkInterval=setInterval(function(){if(a("body").find(l.$el).length===0||a("body").find(l.$elProxy).length===0||l.Status=="hidden"||a("body").find(l.$tooltip).length===0){if(l.Status=="shown"||l.Status=="appearing"){l.hide()}l._interval_cancel()}else{if(l.options.positionTracker){var n=l._repositionInfo(l.$elProxy),m=false;if(b(n.dimension,l.elProxyPosition.dimension)){if(l.$elProxy.css("position")==="fixed"){if(b(n.position,l.elProxyPosition.position)){m=true}}else{if(b(n.offset,l.elProxyPosition.offset)){m=true}}}if(!m){l.reposition()}}}},200)},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null},_content_set:function(l){if(typeof l==="object"&&l!==null&&this.options.contentCloning){l=l.clone(true)}this.Content=l},_content_insert:function(){var m=this,l=this.$tooltip.find(".tooltipster-content");if(typeof m.Content==="string"&&!m.options.contentAsHTML){l.text(m.Content)}else{l.empty().append(m.Content)}},_update:function(l){var m=this;m._content_set(l);if(m.Content!==null){if(m.Status!=="hidden"){m._content_insert();m.reposition();if(m.options.updateAnimation){if(j()){m.$tooltip.css({width:"","-webkit-transition":"all "+m.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+m.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+m.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+m.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+m.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing");setTimeout(function(){if(m.Status!="hidden"){m.$tooltip.removeClass("tooltipster-content-changing");setTimeout(function(){if(m.Status!=="hidden"){m.$tooltip.css({"-webkit-transition":m.options.speed+"ms","-moz-transition":m.options.speed+"ms","-o-transition":m.options.speed+"ms","-ms-transition":m.options.speed+"ms",transition:m.options.speed+"ms"})}},m.options.speed)}},m.options.speed)}else{m.$tooltip.fadeTo(m.options.speed,0.5,function(){if(m.Status!="hidden"){m.$tooltip.fadeTo(m.options.speed,1)}})}}}}else{m.hide()}},_repositionInfo:function(l){return{dimension:{height:l.outerHeight(false),width:l.outerWidth(false)},offset:l.offset(),position:{left:parseInt(l.css("left")),top:parseInt(l.css("top"))}}},hide:function(l){var o=this;if(l){o.callbacks.hide.push(l)}o.callbacks.show=[];clearTimeout(o.timerShow);o.timerShow=null;clearTimeout(o.timerHide);o.timerHide=null;var n=function(){a.each(o.callbacks.hide,function(q,p){p.call(o.$el)});o.callbacks.hide=[]};if(o.Status=="shown"||o.Status=="appearing"){o.Status="disappearing";var m=function(){o.Status="hidden";if(typeof o.Content=="object"&&o.Content!==null){o.Content.detach()}o.$tooltip.remove();o.$tooltip=null;a(k).off("."+o.namespace);a("body").off("."+o.namespace).css("overflow-x",o.bodyOverflowX);a("body").off("."+o.namespace);o.$elProxy.off("."+o.namespace+"-autoClose");o.options.functionAfter.call(o.$el,o.$el);n()};if(j()){o.$tooltip.clearQueue().removeClass("tooltipster-"+o.options.animation+"-show").addClass("tooltipster-dying");if(o.options.speed>0){o.$tooltip.delay(o.options.speed)}o.$tooltip.queue(m)}else{o.$tooltip.stop().fadeOut(o.options.speed,m)}}else{if(o.Status=="hidden"){n()}}return o},show:function(l){this._showNow(l);return this},update:function(l){return this.content(l)},content:function(l){if(typeof l==="undefined"){return this.Content}else{this._update(l);return this}},reposition:function(){var Z=this;if(a("body").find(Z.$tooltip).length!==0){Z.$tooltip.css("width","");Z.elProxyPosition=Z._repositionInfo(Z.$elProxy);var H=null,ag=a(k).width(),Y=Z.elProxyPosition,ae=Z.$tooltip.outerWidth(false),ad=Z.$tooltip.innerWidth()+1,ac=Z.$tooltip.outerHeight(false);if(Z.$elProxy.is("area")){var s=Z.$elProxy.attr("shape"),O=Z.$elProxy.parent().attr("name"),N=a('img[usemap="#'+O+'"]'),P=N.offset().left,Q=N.offset().top,p=Z.$elProxy.attr("coords")!==undefined?Z.$elProxy.attr("coords").split(","):undefined;if(s=="circle"){var o=parseInt(p[0]),w=parseInt(p[1]),x=parseInt(p[2]);Y.dimension.height=x*2;Y.dimension.width=x*2;Y.offset.top=Q+w-x;Y.offset.left=P+o-x}else{if(s=="rect"){var o=parseInt(p[0]),w=parseInt(p[1]),r=parseInt(p[2]),l=parseInt(p[3]);Y.dimension.height=l-w;Y.dimension.width=r-o;Y.offset.top=Q+w;Y.offset.left=P+o}else{if(s=="poly"){var y=[],z=[],t=0,u=0,m=0,n=0,A="even";for(var L=0;L<p.length;L++){var q=parseInt(p[L]);if(A=="even"){if(q>m){m=q;if(L===0){t=m}}if(q<t){t=q}A="odd"}else{if(q>n){n=q;if(L==1){u=n}}if(q<u){u=q}A="even"}}Y.dimension.height=n-u;Y.dimension.width=m-t;Y.offset.top=Q+u;Y.offset.left=P+t}else{Y.dimension.height=N.outerHeight(false);Y.dimension.width=N.outerWidth(false);Y.offset.top=Q;Y.offset.left=P}}}}var R=0,S=0,T=0,W=parseInt(Z.options.offsetY),V=parseInt(Z.options.offsetX),X=Z.options.position;function J(){var ah=a(k).scrollLeft();if((R-ah)<0){H=R-ah;R=ah}if(((R+ae)-ah)>ag){H=R-((ag+ah)-ae);R=(ag+ah)-ae}}function K(ai,ah){if(((Y.offset.top-a(k).scrollTop()-ac-W-12)<0)&&(ah.indexOf("top")>-1)){X=ai}if(((Y.offset.top+Y.dimension.height+ac+12+W)>(a(k).scrollTop()+a(k).height()))&&(ah.indexOf("bottom")>-1)){X=ai;T=(Y.offset.top-ac)-W-12}}if(X=="top"){var M=(Y.offset.left+ae)-(Y.offset.left+Y.dimension.width);R=(Y.offset.left+V)-(M/2);T=(Y.offset.top-ac)-W-12;J();K("bottom","top")}if(X=="top-left"){R=Y.offset.left+V;T=(Y.offset.top-ac)-W-12;J();K("bottom-left","top-left")}if(X=="top-right"){R=(Y.offset.left+Y.dimension.width+V)-ae;T=(Y.offset.top-ac)-W-12;J();K("bottom-right","top-right")}if(X=="bottom"){var M=(Y.offset.left+ae)-(Y.offset.left+Y.dimension.width);R=Y.offset.left-(M/2)+V;T=(Y.offset.top+Y.dimension.height)+W+12;J();K("top","bottom")}if(X=="bottom-left"){R=Y.offset.left+V;T=(Y.offset.top+Y.dimension.height)+W+12;J();K("top-left","bottom-left")}if(X=="bottom-right"){R=(Y.offset.left+Y.dimension.width+V)-ae;T=(Y.offset.top+Y.dimension.height)+W+12;J();K("top-right","bottom-right")}if(X=="left"){R=Y.offset.left-V-ae-12;S=Y.offset.left+V+Y.dimension.width+12;var af=(Y.offset.top+ac)-(Y.offset.top+Y.dimension.height);T=Y.offset.top-(af/2)-W;if((R<0)&&((S+ae)>ag)){var I=parseFloat(Z.$tooltip.css("border-width"))*2,U=(ae+R)-I;Z.$tooltip.css("width",U+"px");ac=Z.$tooltip.outerHeight(false);R=Y.offset.left-V-U-12-I;af=(Y.offset.top+ac)-(Y.offset.top+Y.dimension.height);T=Y.offset.top-(af/2)-W}else{if(R<0){R=Y.offset.left+V+Y.dimension.width+12;H="left"}}}if(X=="right"){R=Y.offset.left+V+Y.dimension.width+12;S=Y.offset.left-V-ae-12;var af=(Y.offset.top+ac)-(Y.offset.top+Y.dimension.height);T=Y.offset.top-(af/2)-W;if(((R+ae)>ag)&&(S<0)){var I=parseFloat(Z.$tooltip.css("border-width"))*2,U=(ag-R)-I;Z.$tooltip.css("width",U+"px");ac=Z.$tooltip.outerHeight(false);af=(Y.offset.top+ac)-(Y.offset.top+Y.dimension.height);T=Y.offset.top-(af/2)-W}else{if((R+ae)>ag){R=Y.offset.left-V-ae-12;H="right"}}}if(Z.options.arrow){var E="tooltipster-arrow-"+X;if(Z.options.arrowColor.length<1){var F=Z.$tooltip.css("background-color")}else{var F=Z.options.arrowColor}if(!H){H=""}else{if(H=="left"){E="tooltipster-arrow-right";H=""}else{if(H=="right"){E="tooltipster-arrow-left";H=""}else{H="left:"+Math.round(H)+"px;"}}}if((X=="top")||(X=="top-left")||(X=="top-right")){var ab=parseFloat(Z.$tooltip.css("border-bottom-width")),aa=Z.$tooltip.css("border-bottom-color")}else{if((X=="bottom")||(X=="bottom-left")||(X=="bottom-right")){var ab=parseFloat(Z.$tooltip.css("border-top-width")),aa=Z.$tooltip.css("border-top-color")}else{if(X=="left"){var ab=parseFloat(Z.$tooltip.css("border-right-width")),aa=Z.$tooltip.css("border-right-color")}else{if(X=="right"){var ab=parseFloat(Z.$tooltip.css("border-left-width")),aa=Z.$tooltip.css("border-left-color")}else{var ab=parseFloat(Z.$tooltip.css("border-bottom-width")),aa=Z.$tooltip.css("border-bottom-color")}}}}if(ab>1){ab++}var B="";if(ab!==0){var D="",C="border-color: "+aa+";";if(E.indexOf("bottom")!==-1){D="margin-top: -"+Math.round(ab)+"px;"}else{if(E.indexOf("top")!==-1){D="margin-bottom: -"+Math.round(ab)+"px;"}else{if(E.indexOf("left")!==-1){D="margin-right: -"+Math.round(ab)+"px;"}else{if(E.indexOf("right")!==-1){D="margin-left: -"+Math.round(ab)+"px;"}}}}B='<span class="tooltipster-arrow-border" style="'+D+" "+C+';"></span>'}Z.$tooltip.find(".tooltipster-arrow").remove();var G='<div class="'+E+' tooltipster-arrow" style="'+H+'">'+B+'<span style="border-color:'+F+';"></span></div>';Z.$tooltip.append(G)}Z.$tooltip.css({top:Math.round(T)+"px",left:Math.round(R)+"px"})}return Z},enable:function(){this.enabled=true;return this},disable:function(){this.hide();this.enabled=false;return this},destroy:function(){var m=this;m.hide();if(m.$el[0]!==m.$elProxy[0]){m.$elProxy.remove()}m.$el.removeData(m.namespace).off("."+m.namespace);var l=m.$el.data("tooltipster-ns");if(l.length===1){var n=(typeof m.Content==="string")?m.Content:a("<div></div>").append(m.Content).html();m.$el.removeClass("tooltipstered").attr("title",n).removeData(m.namespace).removeData("tooltipster-ns").off("."+m.namespace)}else{l=a.grep(l,function(o,p){return o!==m.namespace});m.$el.data("tooltipster-ns",l)}return m},elementIcon:function(){return(this.$el[0]!==this.$elProxy[0])?this.$elProxy[0]:undefined},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:undefined},option:function(l,m){if(typeof m=="undefined"){return this.options[l]}else{this.options[l]=m;return this}},status:function(){return this.Status}};a.fn[i]=function(){var l=arguments;if(this.length===0){if(typeof l[0]==="string"){var p=true;switch(l[0]){case"setDefaults":a.extend(c,l[1]);break;default:p=false;break}if(p){return true}else{return this}}else{return this}}else{if(typeof l[0]==="string"){var s="#*$~&";this.each(function(){var t=a(this).data("tooltipster-ns"),w=t?a(this).data(t[0]):null;if(w){if(typeof w[l[0]]==="function"){var u=w[l[0]](l[1],l[2])}else{throw new Error('Unknown method .tooltipster("'+l[0]+'")')}if(u!==w){s=u;return false}}else{throw new Error("You called Tooltipster's \""+l[0]+'" method on an uninitialized element')}});return(s!=="#*$~&")?s:this}else{var o=[],r=l[0]&&typeof l[0].multiple!=="undefined",q=(r&&l[0].multiple)||(!r&&c.multiple),n=l[0]&&typeof l[0].debug!=="undefined",m=(n&&l[0].debug)||(!n&&c.debug);this.each(function(){var t=false,w=a(this).data("tooltipster-ns"),u=null;if(!w){t=true}else{if(q){t=true}else{if(m){console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.')}}}if(t){u=new h(this,l[0]);if(!w){w=[]}w.push(u.namespace);a(this).data("tooltipster-ns",w);a(this).data(u.namespace,u)}o.push(u)});if(q){return o}else{return this}}}};function b(l,m){var n=true;a.each(l,function(p,o){if(typeof m[p]==="undefined"||l[p]!==m[p]){n=false;return false}});return n}var e=!!("ontouchstart" in k);var d=false;a("body").one("mousemove",function(){d=true});function f(){return(!d&&e)}function j(){var l=g.body||g.documentElement,o=l.style,n="transition";if(typeof o[n]=="string"){return true}v=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1);for(var m=0;m<v.length;m++){if(typeof o[v[m]+n]=="string"){return true}}return false}})(jQuery,window,document);Logger=(function(){function e(f){if(typeof f!="object"&&typeof f!="function"){return true}return f instanceof String||f instanceof Number||f instanceof Boolean||f instanceof Date||f instanceof RegExp||f===null}function c(h){if(e(h)||typeof h=="function"){return String(h)}var f=h instanceof Array?"[]":"{}";var j=f[0],g=true;for(var i in h){var k=h[i];if(e(k)){if(typeof k=="string"||k instanceof String){k='"'+k.replace(/\"/g,'\\"')+'"'}j+=(g?"":",")+"\n\t"+i+": "+k;g=false}else{return String(h)}}return j+(g?"":"\n")+f[1]}function d(){return/\.?localhost$/i.test(document.location.hostname)}var b=window.console;if(b!=null&&typeof b.log=="object"&&Function.prototype.bind){b={log:Function.prototype.bind.call(window.console.log,window.console),warn:typeof b.warn=="object"?Function.prototype.bind.call(window.console.warn,window.console):this.log}}var a="";return{loggedComplexObjects:[],write:function(f){if(!e(f)){this.loggedComplexObjects.push(f)}a+=c(f);return this},writeLine:function(f){if(arguments.length>0){if(!e(f)){this.loggedComplexObjects.push(f)}a+=c(f)}a+="\n";return this},alert:function(){alert(a);a="";return this},toConsole:function(h){if(arguments.length>0){this.write(h)}var f=false;try{if(b!=null&&typeof b.log=="function"){b.log(a);f=true}}catch(g){}if(!f){alert("Can not use console. Log record requested to show:\n"+a)}a="";return this},clear:function(){a="";return this},warning:function(f){if(arguments.length>0){if(!e(f)){this.loggedComplexObjects.push(f)}a+=c(f)}if(this.debugMode==true||d()&&this.debugMode!=false){alert("WARNING:\n\n"+a)}else{b.warn(a)}a="";return this}}})();function dumpObj(j,h){dumpObj.dumpedObjects=dumpObj.dumpedObjects||[];dumpObj.dumpedObjects.push(j);if(h){return}function f(p){var o=0;for(var e=0;e<p.length;e++){if(p.charAt(e)=="\n"){o++}}return o}if(typeof j=="undefined"){alert("undefined");return}if(j===null){alert("null");return}if(typeof j=="string"||j instanceof String){alert("Type: string\nValue: "+j);return}var k=navigator.userAgent.indexOf("MSIE")>=0?40:200;var m=j instanceof Array?"array":typeof j;var a="Type: "+m+"\n";try{a+="toString() result: "+j.toString()+"\n\n"}catch(c){a+="toString() call failed: "+c+"\n\n"}var b=[];try{for(var l in j){var n;try{n=j[l]}catch(c){n="Exception while accessing property "+l+": "+c}b.push({name:l,value:n,type:typeof n})}}catch(c){a+="Exception while trying to enumerate object properties: "+c+"\n"}try{b.sort(function(e,i){if(e.type=="function"&&i.type!="function"){return 1}if(e.type!="function"&&i.type=="function"){return -1}if(e.name>i.name){return 1}if(e.name<i.name){return -1}return 0})}catch(c){a+="Exception while sorting: "+c+"\n"}if(b.length==0){a+="No properties defined on this object"}for(var d=0;d<b.length;d++){var g=b[d].name+": "+b[d].value+"\n";if(f(g)+f(a)>k&&a.length>0){if(d<b.length-1){a+="<more properties on next page>"}alert(a);a=""}a+=g}alert(a)};function getExtendPrototypeFunction(b){function a(){if(typeof Object.defineProperty!="function"){return false}var c={};try{Object.defineProperty(c,"qwe",{value:123});return c.qwe===123}catch(d){return false}}if(a()){return function(d,c){Object.defineProperty(b,d,{enumerable:false,value:c})}}else{return function(d,c){b[d]=c}}};function areEqual(c,d,a){if(arguments.length!=2&&arguments.length!=3){throw new Error("Invalid arguments")}if(c===d){return true}if(typeof a=="function"&&a(c,d)){return true}if(!(c instanceof Object)||!(d instanceof Object)){return false}if(c.constructor!==d.constructor){return false}for(var b in c){if(!c.hasOwnProperty(b)){continue}if(!d.hasOwnProperty(b)){return false}if(!areEqual(c[b],d[b],a)){return false}}for(b in d){if(d.hasOwnProperty(b)&&!c.hasOwnProperty(b)){return false}}return true};RegExp.quote=function(a){return a.replace(/([.?*+^$[\]\\(){}|\-])/g,"\\$1")};(function(a){if(typeof String.prototype.trim!="function"){a("trim",function(){return this.replace(/^\s+|\s+$/g,"")})}a("compress",function(){return this.trim().replace(/\s+/," ")});a("startsWith",function(b){if(typeof b!="string"&&!(b instanceof String)){throw new Error("Argument must be string")}return this.substr(0,b.length)==b});a("endsWith",function(b){if(typeof b!="string"&&!(b instanceof String)){throw new Error("Argument must be string")}var c=this.length-b.length;return c>=0&&this.substring(c,b.length)==b});a("replaceAll",function(e,c){var b=typeof e=="string"||e instanceof String;var f=typeof c=="string"||c instanceof String;if(!b||!f){throw new Error("Both arguments must be strings")}var d=new RegExp(RegExp.quote(e),"g");return this.replace(d,c)})})(getExtendPrototypeFunction(String.prototype));var arr={any:function(a,c){if(typeof c=="undefined"){return a.length>0}if(typeof c!="function"){throw new Error("Invalid argument")}for(var b=0;b<a.length;b++){if(c(a[b])){return true}}return false},filter:function(a,c){if(typeof c!="function"){throw new Error("Invalid argument")}var d=[];for(var b=0;b<a.length;b++){if(c(a[b])){d.push(a[b])}}return d},first:function(a,c){if(typeof c=="undefined"){if(a.length==0){return null}return a[0]}if(typeof c!="function"){throw new Error("Invalid argument")}for(var b=0;b<a.length;b++){if(c(a[b])){return a[b]}}return null}};function ActionsQueue(){var b=[];var a=false;this.enqueue=function(c){if(typeof c!="function"){throw new Error("Function expected")}if(!a){a=true;c()}else{b.push(c)}};this.runNext=function(){if(b.length==0){a=false}else{(b.shift())()}}};function getPropertyNameCaseInsensitive(b,e){var d=[];var a=e.toLowerCase();for(var c in b){if(c.toLowerCase()==a){d.push(c)}}if(d.length==0){return null}if(d.length==1){return d[0]}return d};function loadScript(f,a,b){if(typeof(a)=="undefined"){a=true}var e=document.createElement("script");e.type="text/javascript";e.async=a;e.src=f;if(typeof(b)=="function"){var c=false;e.onload=e.onreadystatechange=function(){if(!c&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){c=true;b();e.onload=e.onreadystatechange=null}}}var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(e,d)};var app=app||{};app.utils=app.utils||{};app.utils.EventListener=function(b){var c=/^([\w,]+)\s*(.*)$/;function a(e,d){if(d){return function(){e.apply(d,arguments)}}else{return e}}this.handlers={};this.startListening=function(i,d){this.handlers={};for(var g in b){var h=g.match(c);var e=h[1],j=(h.length>1)?h[2]:null;var f=b[g];if(typeof(f)=="string"){f=this[f]}f=a(f,d);this.handlers[g]=f;if(i){$.each(e.split(","),function(l,k){i.on(k,j,f)})}else{$.each(e.split(","),function(l,k){$(document).on(k,j,f)})}}};this.stopListening=function(h){for(var f in this.handlers){var g=f.match(c);var d=g[1],i=g[2];var e=this.handlers[f];if(h){$.each(d.split(","),function(k,j){h.off(j,i,e)})}else{$.each(d.split(","),function(k,j){$(document).off(j,i,e)})}}}};var app=app||{};app.controllers=app.controllers||{};(function(b){function c(){var d=$(this);this.bind=function(){return d.bind.apply(d,arguments)};this.unbind=function(){return d.unbind.apply(d,arguments)};this.trigger=function(){return d.trigger.apply(d,arguments)};if(this.init){this.init.apply(this,arguments)}}function a(d,e,f){d.fn=d.prototype;d.fn._class=d;d.proxy=d.fn.proxy=function(g){var h=this;return(function(){if(typeof(g)=="function"){return g.apply(h,arguments)}})};d.extend=function(h){for(var g in h){this[g]=h[g]}};d.include=function(h){for(var g in h){this.fn[g]=h[g]}};d.get=function(g){var h=app.controllers.get(g);return(h instanceof d)?h:undefined};d.fn.refreshElements=function(){if(!this.element){return}for(var g in this.elements){this[g]=this.$(this.elements[g])}};d.fn.$=function(g){if(!this.element){return}return this.element.find(g)};if(e){d.include(e);if(d.fn.events){d.include(new app.utils.EventListener(d.fn.events))}}if(f){d.extend(f)}}b.create={withRootElement:function(e,f){var d=function(g){this.element=g;this.element.data("controller",this);this.refreshElements();if(typeof(this.startListening)=="function"){this.startListening(this.element,this)}c.apply(this,arguments)};a(d,e,f);return d},withoutRootElement:function(e,f){var d=function(){c.apply(this,arguments)};a(d,e,f);return d}};b.get=function(d){return d.data("controller")}})(app.controllers);var app=app||{};app.utils=app.utils||{};(function(a,b){var c=a(".js-data .locale").text();a.datepicker.setDefaults(a.datepicker.regional[c]);function d(f,e,g){return Array(e-String(f).length+1).join(g||"0")+f}a.extend(b,{locale:c,localeDateFormat:a.datepicker.regional[c].dateFormat,formatDate:function(e){if(typeof(e)=="string"){if(e.length>10){e=e.substring(0,10)}e=a.datepicker.parseDate(a.datepicker.W3C,e)}return a.datepicker.formatDate(this.localeDateFormat,e)},formatDateTime:function(e){if(typeof(e)=="string"){e=new Date(e)}return a.datepicker.formatDate(this.localeDateFormat,e)+" "+d(e.getHours(),2)+":"+d(e.getMinutes(),2)}})})(jQuery,app.utils);window.windowIsUnloading=false;$(window).on("beforeunload",function(){window.windowIsUnloading=true});(function(){var a={};window.getUniqueString=function(){var c=(new Date()).getTime();while(a[c.toString(36)]){c++}var b=c.toString(36);a[b]=true;return b}})();(function(){var a=/^true$/i;window.parseBool=function(b){return a.test(String(b))}})();if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx,escapable,gap,indent,meta,rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function($){$.parseJSON=function(v,safe){if(safe===undefined){safe=$.parseJSON.safe}if(safe&&!/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(v)){return undefined}return eval("("+v+")")};$.parseJSON.safe=false})(jQuery);(function(a){var f=["input","change","paste","keydown","keyup"],g="!bindInputEventsWrapper",b=13,e=[9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,44,45,91,92,93,112,113,114,115,116,117,118,119,120,121,122,123,144,145];function c(h,m){var k;if(h.is("textarea")){k=f}else{if(h.is("select")){k=["change"]}else{if(h.is("input")){switch(h.attr("type")){case"checkbox":case"radio":k=["click"];break;case"file":k=["change"];break;case"text":case"password":k=f;break;default:k=f.concat(["click"]);break}}else{throw new Error("Unsupported element type: "+h.get(0).tagName)}}}if(m==null||m.length==0){return k.join(" ")}if(!/^[a-zA-Z0-9\-_]+$/.test(m)){throw new Error("Invalid characters in suffix")}var l=k[0]+"."+m;for(var j=1;j<k.length;j++){l+=" "+k[j]+"."+m}return l}function d(h){var i=h[g];if(i==null){i=function(j){if(j.type=="keyup"||j.type=="keydown"){if(a.inArray(j.which,e)>=0){return true}if(j.which==b&&!a(this).is("textarea")){return true}}return h.apply(this,arguments)}}h[g]=i;return i}a.fn.bindInputEvents=function(h,i){var k,j;if(a.type(h)=="string"&&typeof i=="function"){k=h;j=i}else{if(typeof h=="function"&&typeof i=="undefined"){k=null;j=h}else{throw new Error("Invalid arguments")}}this.each(function(){var l=a(this);l.bind(c(l,k),d(j))});return this};a.fn.unbindInputEvents=function(h,i){var k=null,j=null;if(a.type(h)=="string"){k=h;if(typeof i=="function"){j=i}else{if(typeof i!="undefined"){throw new Error("Invalid arguments")}}}else{if(typeof h=="function"){if(typeof i=="undefined"){j=h}else{throw new Error("Invalid arguments")}}else{if(typeof h!="undefined"||typeof i!="undefined"){throw new Error("Invalid arguments")}}}if(j!=null){this.each(function(){var l=a(this);l.unbind(c(l,k),d(j))})}else{this.each(function(){var l=a(this);l.unbind(c(l,k))})}return this}})(jQuery);(function(a){a.fn.any=function(c){if(arguments.length==0){return this.length>0}var b=this.filter(c);return b.length>0}})(jQuery);(function(a){var d={css:{w:"g-chckbx",t:"g-chckbx__tick",o:"g-chckbx__orig",disabled:"disabled",ib:"g-iblock",b:"g-block",hd:"g-hidden",bg:"g-bg"},js:{w:"js-chckbx",t:"js-chckbx__tick",o:"js-chckbx__orig"}};function b(e,f){e.each(function(){var g=a(this);if(!g.is("input[type='checkbox']")){throw new Error("Element must be a checkbox")}if(g.parent().hasClass(d.js.w)){return}if(!g.hasClass("disabled")){d.css.disabled=""}var k=[d.css.w,d.js.w,d.css.ib,f.wrapperClassSelector(g),d.css.disabled].join(" "),j=[d.css.t,d.js.t,d.css.bg,d.css.hd].join(" "),h=[d.css.o,d.js.o,d.css.b,f.checkboxClassSelector(g)].join(" ");var l=a("<span></span>").addClass(k);var i=a("<span></span>").addClass(j);g.removeClass().addClass(h).wrap(l).before(i);if(g.attr("checked")!=null){i.removeClass(d.css.hd)}}).change(function(){c(a(this))})}function c(f){var e;if(f.hasClass(d.js.o)){e=f}else{if(f.hasClass(d.js.w)){e=f.find(d.js.o)}else{throw new Error("Argument must be either checkbox or wrapper")}}var g=e.prev("."+d.js.t);if(e.attr("checked")!=null){g.removeClass(d.css.hd)}else{g.addClass(d.css.hd)}}a.fn.checkbox=function(e){if(a.type(e)=="string"&&e=="check"){c(this)}else{e=a.extend({wrapperClassSelector:function(f){return""},checkboxClassSelector:function(f){return f.attr("class")}},e);b(this,e)}return this}})(jQuery);$(function(){$(".js-checkbox").checkbox()});(function(a){var g={wrapper:a(document.body),handle:a(".handle")};var h=a(document),e=a(document.body);var i={init:function(n){var m=a.extend(g,n);this.each(function(p,o){d(a(o),m)});return this}};function d(o,n){var p=a(n.wrapper);var m=a(n.handle);o.addClass("js-draggable").on("cancelDragging.draggable",l);m.on("mousedown.draggable",function(t){var q=a(this).closest(".js-draggable");q.trigger("beforeDragging.draggable",q);var r=q.offset(),u=p.offset(),s={clickX:t.pageX-r.left,clickY:t.pageY-r.top,draggingElem:{width:c(o),height:b(o)},wrapperElem:{width:c(p),height:p[0].tagName.toLowerCase()=="body"?h.height():b(p),left:u.left,top:u.top},current:q};j(s)})}function j(m){f(true);h.on("mousemove.draggable",function(n){if(!m.current.hasClass("js-drag")){m.current.addClass("js-drag")}m.resultX=n.pageX-m.clickX;m.resultY=n.pageY-m.clickY;k(m)}).on("mouseup.draggable",l);e.on("mouseleave.draggable",l)}function k(m){var r={top:m.resultY>=0?m.resultY:0,left:m.resultX>=0?m.resultX:0};var n=r.left+m.draggingElem.width;var o=r.top+m.draggingElem.height;var p=m.wrapperElem.left+m.wrapperElem.width;var q=m.wrapperElem.top+m.wrapperElem.height;if(n>p){r.left=p-m.draggingElem.width}if(o>q){r.top=q-m.draggingElem.height}m.current.offset(r)}function l(){var m=a(".js-draggable.js-drag").removeClass("js-drag");f(false);h.off("mousemove.draggable").off("mouseup.draggable");e.off("mouseleave.draggable");m.trigger("afterDragging.draggable",m)}function f(m){e[0].onselectstart=function(){return !m};e[0].unselectable=m?"on":"off";e.css("-moz-user-select",m?"none":"auto")}function c(m){return a(m).outerWidth()}function b(m){return a(m).outerHeight()}a.fn.draggable=function(m){if(i[m]){return i[m].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof m==="object"||!m){return i.init.apply(this,arguments)}else{a.error("Method "+m+" does not exist on jQuery.draggable")}}}})(jQuery);var app=app||{};app.controllers=app.controllers||{};(function(a,c){var d={activeDropdown:null,settings:{modifClass:"",boxWidth:"auto",boxHeight:"26px",listWidth:null,listHeight:"200px",watermark:null,itemClass:"js-dropdown__item"},templates:{control:a("#dropdownlist-control-template").template(),list:a("#dropdownlist-list-template").template()},traversedClass:"js-first-letter-traversed"};var b=app.controllers.create.withoutRootElement({elements:{valueText:".js-dropdown__text"},events:{click:function(){if(this.element.hasClass("disabled")){return false}if(this===d.activeDropdown){this.close()}else{if(d.activeDropdown){d.activeDropdown.close()}this.origSelect.trigger("beforeOpenSelect",this);this.buildDropdownList();this.element.addClass("active");d.activeDropdown=this}return false}},init:function(e,f){this.origSelect=e.addClass("g-hidden");this.origSelect.data("controller",this);this.settings=a.extend({},d.settings,f);this.origSelect.change(this.proxy(function(g,h){if(this.ignoreChangeEvent){this.ignoreChangeEvent=false;return}this.newSelect.remove();this.buildControl()}));this.buildControl()},rebuild:function(e){this.settings=a.extend({},d.settings,e);this.newSelect.remove();this.buildControl()},buildControl:function(){a.each(["boxWidth","boxHeight","listWidth","listHeight"],this.proxy(function(i,j){if(typeof(this.settings[j])=="number"){this.settings[j]=this.settings[j].toString()+"px"}}));var h=this.origSelect.children("option:selected");var e=Boolean(h.length!=0&&h.val()!="");var f,g;if(!e&&this.settings.watermark){f=this.settings.watermark;g=""}else{f=g=h.html()}this.newSelect=this.element=a.tmpl(d.templates.control,{settings:this.settings,disabled:this.origSelect.is(":disabled"),title:g,selectedId:this.origSelect.val(),selectedHtml:f}).insertAfter(this.origSelect);this.refreshElements();if(this.settings.watermark){this.valueText.toggleClass("disabled",!e)}this.valueText.toggleClass("bold",e);this.startListening(this.newSelect,this)},buildDropdownList:function(){var e=this.valueText.data("id"),f;this.dropdownList=a.tmpl(d.templates.list,{settings:this.settings,options:a.map(this.origSelect.children(),function(g){var h=a(g);return{text:h.html(),value:h.val()}})});this.calculateListPosition();this.dropdownList.appendTo(a(document.body));f=this.dropdownList.find("."+this.settings.itemClass+"[data-id='"+e+"']");if(f.length>0){f.addClass("selected");this.dropdownList.scrollTop(f.position().top)}this.dropdownListItems=this.dropdownList.find("."+this.settings.itemClass);this.dropdownListItems.on("click",this.proxy(function(g){var h=a(g.currentTarget);this.setNewOption(h);this.close()})).on("mouseenter",this.proxy(function(g){this.dropdownListItems.removeClass("selected").removeClass(d.traversedClass);a(g.currentTarget).addClass("selected")}))},calculateListPosition:function(){if(!this.dropdownList){return}var e={top:this.element.offset().top+this.element.height(),left:this.element.offset().left};var f=false;var g=20;this.element.parents().each(function(j,i){var h=a(i);if(h.css("position")=="fixed"){f=true}if(h.hasClass("js-popup-bd")){g+=h.css("z-index")}});if(f){e.top-=a(window).scrollTop();e.left-=a(window).scrollLeft()}this.dropdownList.css({position:f?"fixed":"absolute",zIndex:g,top:e.top+"px",left:e.left+"px",width:this.settings.listWidth?this.settings.listWidth:this.element.width()+"px"})},close:function(){if(!this.dropdownList){return}this.origSelect.trigger("beforeCloseSelect",this);this.dropdownList.remove();delete this.dropdownList;this.element.removeClass("active");this.origSelect.trigger("afterCloseSelect",this);d.activeDropdown=null},setNewOption:function(h){if(!h){return}var g=h.data("id"),f=h.html();this.dropdownListItems.removeClass("selected");h.addClass("selected");this.valueText.addClass("bold");this.valueText.data("id",g).attr("title",f).html(f);var e=(g=="");this.valueText.removeClass("disabled");if(e&&this.settings.watermark){this.valueText.html(this.settings.watermark).addClass("disabled").removeClass("bold")}this.ignoreChangeEvent=true;this.origSelect.val(g.toString()).trigger("change");return false},keyNavigate:function(e){if(!this.dropdownListItems){return}var g=this.dropdownListItems.filter(".selected"),f;if(e<=0){f=g.prev()}else{f=g.next()}if(f.length>0){this.dropdownListItems.removeClass("selected").removeClass(d.traversedClass);f.addClass("selected");this.dropdownList.scrollTop(f.position().top+this.dropdownList.scrollTop())}},setSelectedItem:function(){if(!this.dropdownListItems){return}var e=this.dropdownListItems.filter(".selected");if(e.length>0){this.setNewOption(e);this.close()}},keySearch:function(f){if(!f||!this.dropdownListItems){return}var i,e,h,g;a.each(this.dropdownListItems,function(){e=a(this);i=e.text().trim().toLowerCase();if(i.charAt(0)==f&&!e.hasClass("selected")){if(!g){g=e}if(!e.hasClass(d.traversedClass)){h=e;h.addClass(d.traversedClass);return false}}});if(!g){return}if(!h){h=g;this.dropdownListItems.removeClass(d.traversedClass);h.addClass(d.traversedClass)}if(h&&h.length>0){this.dropdownListItems.removeClass("selected");h.addClass("selected");this.dropdownList.scrollTop(h.position().top+d.activeDropdown.dropdownList.scrollTop())}}});a(document).on("keydown.dropdownlist",function(g){var f=d.activeDropdown;if(f){if(g.keyCode==27){f.close();return false}else{if(g.keyCode==38||g.keyCode==40){f.keyNavigate(g.keyCode==40);return false}else{if(g.keyCode==13){f.setSelectedItem();return false}}}}});a(document).on("keypress.dropdownlist",function(f){if(d.activeDropdown){var g=String.fromCharCode(f.keyCode||f.charCode).toLowerCase();d.activeDropdown.keySearch(g);return false}});a(document).bind("mouseup",function(f){if(d.activeDropdown){var g=a(f.target).parents().andSelf();if(g.filter(d.activeDropdown.dropdownList.get()).length>0||g.filter(d.activeDropdown.newSelect.get()).length>0){return}d.activeDropdown.close()}});a(window).resize(function(){if(d.activeDropdown){d.activeDropdown.calculateListPosition()}});a.fn.dropdownlist=function(e){this.each(function(g,f){var h=a(f);if(h.data("controller")){h.data("controller").rebuild(e)}else{new b(a(f),e)}});return this}})(jQuery,app.controllers);(function(a){var b={options:{classPrefix:"ui-dropdown-treeview",textSelector:function(c){if(c.length==0){return"(nothing selected)"}else{if(c.length==1){return c.text()}else{return c.length.toString()+" nodes selected"}}},treeOptions:{}},_getClasses:function(e){if(a.type(e)!="string"){throw new Error("Prefix must be a string")}var g=e.split(/\s+/);var f=[];for(var d=0;d<g.length;d++){if(!(/^\s*$/.test(g[d]))){f.push(g[d])}}if(f.length==0){throw new Error("At least one class prefix must be specified")}var c=function(j){var k="";for(var h=0;h<f.length;h++){if(k.length>0){k+=" "}k+=f[h]+j}return k};return{mainWidget:c("_mainWidget"),mainWidgetHover:c("_mainWidget_hover"),dropDown:c("_dropDown")}},_create:function(){var h=this.options;var c=this._getClasses(h.classPrefix);var e=this.element;if(!e.is("div")){throw new Error("This method may be called for <div> elements only")}var i=a("<div class='ui-dropdown-treeview-wrapper'></div>").insertAfter(e);var g=a('<div class="'+c.mainWidget+'"><img src="'+ContentPath+'/img/newImage/1px.png" class="g-bg ui-dropdown-treeview-icon"><span class="g-iblock ui-dropdown-treeview-text"></span></div>').appendTo(i);var d=a("<div class='"+c.dropDown+"' style='position: absolute'></div>").hide().appendTo(i);e.detach();d.append(e);e.treeView(h.treeOptions);e.change(function(){g.find(".ui-dropdown-treeview-text").html(h.textSelector(e.treeView("getSelectedNodes")));if(!h.treeOptions.checkboxes){d.hide()}});e.change();var f=e.children(".ui-treeview_node").first();if(f.length>0){e.treeView("setNodeExpanded",f,true,false)}g.bind({click:function(){a(this).toggleClass("opened");if(d.is(":visible")){d.hide();e.trigger("afterCloseSelect",e)}else{e.trigger("beforeOpenSelect",e);d.show()}},mouseenter:function(){g.addClass(c.mainWidgetHover)},mouseleave:function(){g.removeClass(c.mainWidgetHover)}});a(document).bind("mousedown",function(j){var l=a.contains(g[0],j.target)||g[0]===j.target;var k=a.contains(d[0],j.target)||d[0]===j.target;if(!l&&!k&&d.is(":visible")){g.removeClass("opened");d.hide();e.trigger("afterCloseSelect",self)}})},selectNodes:function(c){this.element.treeView("setSelectedNodes",c);this.element.change()}};a.widget("ui.dropDownTreeView",b)})(jQuery);(function(a){var b=a.fn.animate;a.fn.animate=function(g,d,e,c){var f=jQuery.speed(d,e,c);this.trigger("animationStart",f);b.apply(this,[g,f])}})(jQuery);(function(a){a.fn.fillSelectsFromTemplateExceptSelectedInOthers=function(b){var c=a.extend({allOptions:null,template:null,onModified:null},b);if((c.allOptions==null&&c.template==null)||this==null){throw new Error("Invalid parameters")}var d=[];this.each(function(f,e){var g=a(e).val();if(g!=null&&g.length>0){d.push(g)}});return this.each(function(e,f){var g=a(f),h=g.val();if(c.allOptions){g.empty();a.each(c.allOptions,function(j,k){g.append(a("<option />").val(k.value).text(k.name))})}else{g.empty().append(c.template.children().clone())}g.val(h);g.find("option").each(function(l,i){var k=a(i),j;j=a.inArray(k.val(),d);if(j>=0&&j!=e){k.remove()}});if(typeof(c.onModified)=="function"){c.onModified(g)}})}})(jQuery);(function(a){var b=a.fn.ajaxSubmit;a.fn.ajaxSubmit=function(e){var d=a.extend({},e,{extractStatusFromIFrame:c});b.call(this,d)};function c(d,g){try{var h=g.contentWindow;return{status:h.httpStatusCode,statusText:h.httpStatusText}}catch(f){return{}}}})(jQuery);(function(a){var b=/^([\w-]+\.)*[\w-]+@([\w-]+\.)+[\w-]+$/;a.isValidEMail=function(c){return c.length<=254&&c.indexOf("@")<=64&&b.test(c)}})(jQuery);(function(a){a.fn.maxLength=function(d){var c,b;if(a.type(d)=="number"){c=d}else{if(d==null){throw new Error("Argument can not be null or undefined")}else{c=d.maxLength;b=d.callback}}if(a.type(c)!="number"){throw new Error("Maximum length must be specified (and it must be a number)")}if(c<0){throw new Error("Maximum length must be nonnegative")}a(this).each(function(){a(this).bindInputEvents(function(){var k=a(this);var l=k.val();if(l.length<=c){return}var g=k.caret().end;var j=l.length-c;var h=g-j;if(h<0){h=0}var i=h+j;var f=l.slice(0,h);var e=l.slice(i,l.length);k.val(f+e);k.caret(h,h);if(a.type(b)=="function"){b()}})});return this}})(jQuery);(function(a){var c="model-errors";var b="error";a.setModelErrorClass=function(d){b=d};a.fn.toggleModelError=function(g,d){if(a.type(g)!="string"||a.type(d)!="boolean"){throw new Error("Invalid arguments")}if(this.length>1){this.each(function(){a(this).toggleModelError(g,d)});return this}if(this.length==0){return this}var h=this.data(c);if(h==null){h={}}if(d){h[g]=true;this.addClass(b)}else{delete h[g];var i=true;for(var f in h){i=false;break}if(i){this.removeClass(b)}}this.data(c,h);return this};a.fn.clearModelErrors=function(){return this.removeData(c).removeClass(b)}})(jQuery);(function(a){var f=[],b=false,h=false,g=false,d=150;var m=["constructor","init"],k=["is","has","hasClass","data","each","eq","get","add","not","filter","find","children","closest","first","last","map","slice"],c=m.concat(k);function l(){h=false;if(g){g=false;e()}}function e(){if(h){g=true;return}h=true;for(var o=f.length-1;o>=0;o--){var n=f[o];if(!a.contains(document.documentElement,n.element[0])){f.splice(o,1)}else{var p=b;b=true;var q=n.valueCalculator.call(n.element);b=p;if(!areEqual(q,n.lastValue)){n.changeHandler.call(n.element,q,n.lastValue);n.lastValue=q}}}setTimeout(l,d)}function i(){var n=window.MutationObserver||window.WebKitMutationObserver;if(typeof n!="function"){return false}var o=new n(e);o.observe(document,{subtree:true,characterData:true,attributes:true});return true}function j(){function o(p){if(a.inArray(p,c)>=0){return}var q=a.fn[p];if(typeof q!="function"){return}a.fn[p]=function(){if(b){return q.apply(this,arguments)}b=true;try{var r=q.apply(this,arguments);e()}finally{b=false}return r}}for(var n in a.fn){if(a.fn.hasOwnProperty(n)){o(n)}}}if(!i()){j()}a.fn.monitor=function(q,n){if(typeof n!="function"){throw new Error("Invalid change handler")}if(a.type(q)=="string"){var o=q;q=function(){return this.css(o)}}if(q instanceof Array){var p=q;a.each(p,function(r,s){if(a.type(s)!="string"){throw new Error("Invalid css values names array")}});q=function(){var r={};for(var s in p){r[s]=this.css(s)}return r}}if(typeof q!="function"){throw new Error("Invalid value calculator or style name")}this.each(function(){var r=a(this);f.push({element:r,valueCalculator:q,changeHandler:n,lastValue:q.call(r)})})}})(jQuery);(function(a){var b="data-allowed-characters-regex",c="data-decimal-separator",e="data-thousands-separator-regex";function d(j){if(j.ctrlKey){return}var l=a(this);var o=l.val();var f=new RegExp(l.attr(b));var n="";var h=l.caret().end;var m=0;for(var k=0;k<o.length;k++){var g=o.charAt(k);if(f.test(g)){n+=g;if(k<h){m++}}}if(n==o){return}l.val(n);l.caret(m,m)}a.fn.numeric=function(h){if(this.length==0){return this}if(!this.is("input[type='text']")&&!this.is("textarea")){throw new Error("Only text inputs and textareas can be made numeric")}if(h==null){h={}}var g=h.decimalSeparator,i=h.thousandsSeparator,f="\\d";if(a.type(h.allowSigns)=="boolean"){if(h.allowSigns){f+="|\\+|\\-"}}if(a.type(g)=="string"&&g!=""){f+="|"+RegExp.quote(g);this.attr(c,g)}if(a.type(i)=="string"&&i!=""){var j=/^\s$/.test(i)?"\\s":RegExp.quote(i);f+="|"+j;this.attr(e,j)}this.attr(b,"("+f+")");this.bindInputEvents(d);if(a.type(h.maxLength)=="number"){this.maxLength(h.maxLength)}else{this.maxLength(15)}return this};a.fn.getNumericValue=function(){var o=this.val();if(a.type(o)!="string"){return null}var i=this.attr(c),n=this.attr(e),h,f;if(a.type(i)=="string"){var j=o.indexOf(i);if(j<0){h=o;f=""}else{h=o.substr(0,j);f=o.substr(j+i.length)}}else{h=o;f=""}if(a.type(n)=="string"){var k="([^\\d]|^)"+n,l=n+"([^\\d]|$)",g=new RegExp("("+k+"|"+l+")","g");if(g.test(h)){return null}h=h.replace(new RegExp(n,"g"),"")}o=h;if(f.length>0){o+="."+f}if(o.length==0){return null}var m=Number(o);if(a.type(m)!="number"||!isFinite(m)){return null}return m}})(jQuery);(function(a){var b="g-hidden";function c(d,e){if(e<0){e=0}d.height(e);d.toggleClass(b,e==0)}a.fn.padWindowHeight=function(){if(this.length>1){throw new Error("Padding using more than one element is not supported yet")}if(this.hasClass("g-hidden")){this.height(0)}var d=a(".js-body");var e=d.outerHeight()+d.offset().top;var g=a(window).height();var f=g-e;c(this,this.height()+f);return this}})(jQuery);(function(a){a.paginateOnScroll=function(d,h,e){var g=false;var c=a(window);switch(d){case"bind":var b=a(document);h=a.extend({url:window.location.pathname+window.location.search,method:"GET"},h);h.complete=function(){g=false};var f=h.data||{};c.bind("scroll.paginate",function(){if((b.height()-c.height()<=c.scrollTop()+50)||(b.height()<=c.height())){if(g){return}g=true;h.data=(typeof(e)=="function")?a.extend({},f,e()):f;a.ajax(h)}});c.trigger("scroll.paginate");break;case"unbind":c.unbind("scroll.paginate");break;default:throw"Unknown action for $.requestOnScroll - "+d}return this};a.fn.paginateOnScroll=function(d,e,b,c){a.each(this,function(g,f){var h=a(f);var j=h.find("tbody");d=d||{};startIndex=d.startIndex;a.paginateOnScroll("bind",{url:e,method:b,data:d,traditional:true,success:function(i){j.append(i);if(j.find("tr.js-end").length>0){a.paginateOnScroll("unbind")}if(typeof(c)=="function"){c(i)}}},function(){return{startIndex:(typeof(startIndex)!="number")?j.children("tr").length:startIndex}})});return this}})(jQuery);(function(a){var c=a(".js-popup-bg"),l=".js-popup-bd",d=".js-popup-close",b="animationStart.popup",f="focusin.popup",u=0,m=new ActionsQueue(),w=[];if(c.length!=1){a.fn.popup=function(){throw new Error("Can not find single popup background.")};return}c.click(function(){return false});a(document).on("click",d,function(){a(this).closest(l).popup("hide");return false});a(document).bind("keydown keyup",function(x){if(x.keyCode!=27){return}if(w.length==0){return}var y=w[w.length-1];y.popup("hide")});a.fn.popup=function(y,A,x){if(a.type(y)!="string"){throw new Error("Expected string command")}if(y=="setup"){this.each(function(){q(a(this),a.extend(q(a(this)),A))});return this}if(this.length!=1){throw new Error("Single element expected")}if(y=="resize"&&a.type(A)=="number"){A={duration:A}}if(y=="replace"){var z=A;A=x;if(!(z instanceof jQuery)){throw new Error("New pop-up must be a jQuery object")}}A=a.extend({bgDuration:200,windowDuration:250,duration:250},A);switch(y){case"show":s(this,A);break;case"hide":h(this,A);break;case"resize":o(this,A);break;case"takeSnapshot":v(this);break;case"restoreSnapshot":p(this);break;case"replace":n(this,z,A);break;default:throw new Error("Unknown command: "+y)}return this};function j(y,x){if(x==null){return !!y.data("resizing")}y.data("resizing",x)}function k(y,x){if(x==null){return !!y.data("shown")}y.data("shown",x)}function i(y,x){if(x==null){return !!y.data("initialized")}y.data("initialized",x)}function q(x,y){if(y==null){return x.data("settings")||{}}x.data("settings",y)}function t(x,y){if(y==null){return x.data("stackPosition")}x.data("stackPosition",y)}function g(x){return{marginTop:-(x.height()/2),marginLeft:-(x.width()/2)}}function v(x){x.data("initialContents",x.html())}function p(x){var y=x.data("initialContents");if(y==null){throw new Error("Snapshot was not taken")}x.html(y);i(x,false)}function s(y,x){m.enqueue(function(){if(k(y)){m.runNext();return}k(y,true);u++;t(y,u);w.push(y);var z=q(y);if(z.resetOnHide){v(y)}if(!i(y)){y.find(".js-jq-watermark").watermark();if(typeof z.initFunction=="function"){z.initFunction(y)}i(y,true)}y.unbind(b);y.bind(b,function(A,B){if(A.target!=y[0]){var C=B.step;if(typeof C=="function"){B.step=function(){o(y,{duration:0});return C.apply(this,arguments)}}else{B.step=function(){o(y,{duration:0})}}}return false});y.trigger("beforeOpenPopup",x.data);c.fadeTo(x.bgDuration,0.25,function(){var A=parseInt(w[0].css("z-index"))+(u-1)*5;y.css(g(y)).css({"z-index":A}).fadeIn(x.windowDuration,function(){if(!z.disableFocus){r(y,x.initialFocus)}y.trigger("afterOpenPopup");m.runNext()});c.css({"z-index":A-1})})})}function h(y,x,z){m.enqueue(function(){if(!k(y)){m.runNext();return}u--;w.splice(t(y)-1,1);y.unbind(b);y.trigger("beforeClosePopup");function A(){var C=q(y);if(C.resetOnHide){p(y)}k(y,false);a(document).off(f+t(y));y.trigger("afterClosePopup");if(w.length>0){var B=parseInt(w[w.length-1].css("z-index"));c.css({"z-index":B-1})}m.runNext()}y.fadeOut(x.windowDuration,function(){if(u==0&&!z){c.fadeOut(x.bgDuration,A)}else{A()}})})}function n(z,x,y){h(z,y,true);s(x,y)}function o(y,x){if(!k(y)){return}if(j(y)){y.stop(true)}else{y.trigger("beforeResizePopup")}if(x.duration==0){y.css(g(y));y.trigger("afterResizePopup")}else{j(y,true);y.animate(g(y),x.duration,function(){j(y,false);y.trigger("afterResizePopup")})}}function r(B,A){var x=":visible:enabled:not([readonly])",z="input"+x+",textarea"+x+",select"+x,y=B.find(z);if(y.length==0){return}(A?A:e(y)).focus();var C=t(B);a(document).on(f+C,"*",function(D){if(u!=C){return}D.stopPropagation();if(!a.contains(B[0],this)){if(a(this).zIndex()>B.zIndex()){return}setTimeout(function(){y=B.find(z);if(y.length>0){e(y).focus()}},1)}})}function e(B){var x=B.first();for(var E=1;E<B.length;E++){var A=a(B[E]);var D=A.attr("tabindex");if(D==null||D==""){continue}var z=x.attr("tabindex");if(z==null||z==""){x=A;continue}var C=Number(D);var y=Number(z);if(C<y){x=A}}return x}})(jQuery);(function(a){a.fn.progressbar=function(g){return this.each(function(){var h=a(this);if(h.data("progressbar_inited")){return}h.data("progressbar_inited",true);h.addClass("ui-progressbar");h.html("<div class='ui-progressbar__container' />");var i=a.extend({progress:h.data("progress")||"",progressColors:String(h.data("progress_colors")||"").split(","),asPercent:h.data("as_percent")===true,isInfinite:h.data("is_infinite")===true,runProgress:h.data("run_progress")===true},g);i.realProgress=d(i.progress,i.asPercent);if(i.isInfinite){e(h,i.progressColors[0]);h.toggleClass("running",i.runProgress)}else{f(h,i.realProgress,i.progressColors)}if(i.runProgress){h.addClass("running")}})};function d(s,h){var q=[];if(a.isArray(s)){for(var k=0;k<s.length;k++){var v=s[k];q[k]=c(v,h)}return q}s=String(s);if(!a.trim(s)){return q}var m=":";var g=",";var r=new RegExp("("+m+"|"+g+")([\\d\\.\\s]+)","g");if([m,g].indexOf(s.substr(0,1))==-1){s=":"+s}var p=s.match(r);for(var l=0;l<p.length;l++){var o=p[l];var u=o.substr(0,1);var w=c(o.substr(1),h);var n=l==0?1:q[l-1];var t=w;if(u==m){t=n*w}if(u==g){t=w}if(t>n){console.log("�������� �������� ���������� ��������",s);t=n}q.push(t)}return q}function c(h,g){h=parseFloat(h);if(g===true){h=h/100}return h}function b(g,k,i,m){var j=g+1;i=i||j;var h=a("<div class='ui-progressbar__line'/>");h.addClass("ui-progressbar__line--"+i);h.css({"z-index":j,width:(k*100)+"%"});if(m){var l=a("<div class='ui-progressbar__line'/>");l.addClass("ui-progressbar__line--strips");h.html(l)}return h}function f(h,n,m){m=m||[];var g=h.find(".ui-progressbar__container");g.html("&nbsp;");for(var j=0;j<n.length;j++){var o=n[j];var l=m[j];var k=b(j,o,l);g.append(k)}}function e(i,j){var h=i.find(".ui-progressbar__container");h.html("&nbsp;");var g=b(0,1,j,true);h.append(g)}})(jQuery);(function(a){var e={css:{w:"g-radio",t:"g-radio__tick",o:"g-radio__orig",ib:"g-iblock",b:"g-block",hd:"g-hidden",bg:"g-bg"},js:{w:"js-radio",t:"js-radio__tick",o:"js-radio__orig"},cssCl:"cssClass:"};function d(f){f.siblings("."+e.js.t).toggleClass(e.css.hd,!f.prop("checked"))}function c(){a("input[type='radio']").each(function(){d(a(this))})}function b(h){var i=h;var g="";var f=i.substring(0,e.cssCl.length);if(f==e.cssCl){g=i.substring(e.cssCl.length).length==0?"":i.substring(e.cssCl.length)}else{g=""}return g}a.fn.radio=function(f){if(this.not("input[type='radio']").length>0){throw new Error("Elements must be radio inputs")}if(typeof f=="string"){if(f=="checkRadio"){d(this)}else{e.uniqClass=b(f)}}this.each(function(){var g=a(this);if(g.parent().hasClass(e.js.w)){return}var k=[e.css.w,e.js.w,e.css.ib,e.uniqClass].join(" "),j=[e.css.t,e.js.t,e.css.bg,e.css.hd].join(" "),h=[e.css.o,e.js.o,e.css.b].join(" ");var l=a("<span></span>").addClass(k);var i=a("<span></span>").addClass(j);g.removeClass().addClass(h).wrap(l).before(i);d(g);g.change(c)})}})(jQuery);(function(a){a.fn.reliableCheckbox=function(){if(!this.is("input[type='checkbox']")){throw new Error("This method can only be used for checkboxes")}var c=this.attr("name");if(a.type(c)!="string"||c.length==0){throw new Error("Checkbox must have a name, otherwise calling this method is useless")}this.removeAttr("name");var b=a("<input type='hidden'>");b.attr("name",c);b.insertAfter(this);this.change(function(){if(a(this).is(":checked")){b.val("true")}else{b.val("false")}});this.change();return this}})(jQuery);(function(a){a.fn.reliableMultipleSelect=function(d){if(!this.is("select[multiple]")){throw new Error("This method can only be used for selects with multiple select support")}var c=this.attr("name");if(a.type(c)!="string"||c.length==0){throw new Error("Select must have a name, otherwise calling this method is useless")}if(a.type(d)!="string"||d.length==0){throw new Error("Separator must be a nonempty string")}this.removeAttr("name");var b=a("<input type='hidden'>");b.attr("name",c);b.insertAfter(this);this.change(function(){var g="";var f=a(this).find("option:selected");for(var e=0;e<f.length;e++){if(e>0){g+=d}g+=a(f[e]).val()}b.val(g)});this.change();return this}})(jQuery);(function(a){var k="js-scrollbar-scrollbox",n="js-scrollbar-sliderbox",o="js-scrollbar-slider";var e=a.browser.msie?document:window;function d(){return{height:this.height(),width:this.width(),contentHeight:this.find("."+k).height()}}var f={init:function(){this.each(c);this.monitor(d,f.update);return this},update:function(){c.call(this,function(q){var r=q.isHiddenSlider?0:Math.abs(parseInt(q.boxShift))/q.deltaOrig;l(r,q)});return this},scrollToEnd:function(){c.call(this,function(q){var r=q.boxTrackHeight/q.deltaOrig;l(r,q)});return this}};function c(s){var A=a(this),q=A.find("."+k),x=A.find("."+n),w=A.find("."+o);if(A.hasClass("g-hidden")||A.length<1||q.length<1||x.length<1||w.length<1){return}var B=A.height(),z=x.outerHeight(),r=q.outerHeight();var v=false;var y=Math.round((B*z)/r);if(y<15){y=15}if(y>=z){y=z,v=true}w.outerHeight(y).toggleClass("g-hidden",v);z-=y;r-=B;var u=r/z;var t={wrapper:A,box:q,slider:w,sliderTrackHeight:z,delta:v?0:u,deltaOrig:u,boxTrackHeight:r,isHiddenSlider:v,boxShift:q.css("marginTop")};if(a.type(s)=="function"){s(t)}t.step=m(w,q.css("marginTop"),w.css("marginTop"));b(t)}function m(u,q,v){var t=Math.round(parseInt(v)/Math.abs(parseInt(q))*30);var r=a.type(u.data("properties"))=="undefined"?15:u.data("properties").step;var s=t>0?t:r;return s}function b(q){q.slider.data("properties",q).off(".scrollbar").on("mousedown.scrollbar",g);q.wrapper.off(".scrollbar").on("mousewheel.scrollbar",j);q.wrapper.on("cancelScroll.scrollbar",i)}function g(r){var q=a(this).data("properties");q.shiftY=r.pageY-parseInt(q.slider.css("marginTop"));a(e).on("mousemove.scrollbar",function(s){h(s,q)}).on("mouseup.scrollbar mouseleave.scrollbar",i);p(true);return false}function h(s,r){var q=s.pageY;var t=r.shiftY;l(q-t,r);return false}function j(t,s){var r=a(this).find("."+o).data("properties");var q=parseInt(r.slider.css("marginTop"));var u=(s<0)?1:-1;l(q+(u*r.step),r);return false}function i(){a(e).off(".scrollbar");p(false);return false}function l(s,q){var r=0;if(s<=q.sliderTrackHeight&&s>=0){r=s}else{if(s>=q.sliderTrackHeight){r=q.sliderTrackHeight}if(s<=0){r=0}}q.slider.css("marginTop",Math.round(r));q.box.css("marginTop",Math.round(r*q.delta*(-1)))}function p(q){document.body.onselectstart=function(){return !q};document.body.unselectable=q?"on":"off";a(document.body).css("-moz-user-select",q?"none":"auto")}a.fn.scrollbar=function(r){if(a.type(r)=="string"){var q=f[r];if(typeof q=="function"){return q.apply(this,Array.prototype.slice.call(arguments,1))}else{throw new Error("jQuery.scrollbar: Method `"+r+"' does not exist")}}if(typeof r=="object"||arguments.length==0){return f.init.apply(this,arguments)}throw new Error("jQuery.scrollbar: Invalid parameters")}})(jQuery);(function(a){a.fn.serializeObject=function(){var e={};var b=this.serializeArray();for(var d=0;d<b.length;d++){var c=b[d];if(typeof(e[c.name])=="undefined"){e[c.name]=c.value||""}else{if(!(e[c.name] instanceof Array)){e[c.name]=[e[c.name]]}e[c.name].push(c.value||"")}}return e}})(jQuery);(function(a){var b=a(".js-dialog-popup"),c=new ActionsQueue();if(b.length==1){b.popup("takeSnapshot");b.bind("afterClosePopup",c.runNext)}a.dialogPopup=function(e,d){if(b.length!=1){throw new Error("Dialog popup not found")}c.enqueue(function(){b.popup("restoreSnapshot");var n=b.find(".js-popup-title"),m=b.find(".js-popup-text"),j=b.find(".js-ok-link"),f=b.find(".js-cancel-link"),l=b.find(".js-ok-btn"),h=b.find(".js-cancel-btn");var p=null,o=null,k=null,g=null;if(a.type(e)=="string"){o=e}else{if(typeof e=="object"&&e!=null){p=e.title;o=e.text;k=e.okButtonText;g=e.cancelButtonText}else{throw new Error("Invalid arguments")}}if(o==null||o==""){throw new Error("Text expected")}if(a.type(o)!="string"&&!(o instanceof a)){throw new Error("Text must be string or jQurey object")}m.empty();if(o instanceof a){m.append(o)}else{m.text(o)}if(p!=null){n.text(p)}if(k!=null){j.text(k)}if(g!=null){f.text(g)}var i=function(q){b.popup("hide");if(typeof d=="function"){d(q)}a(document).off("keydown.dialogPopup")};l.on("click.dialogPopup",function(q){i(true);l.off("click.dialogPopup")});h.on("click.dialogPopup",function(q){i(false);h.off("click.dialogPopup")});b.popup("show");a(document).on("keydown.dialogPopup",function(q){if(q.keyCode==13||q.keyCode==27){i(false)}})})}})(jQuery);(function(a){var c=a(".js-info-popup"),e=".js-popup-title",d=".js-popup-text",b=".js-close-link",f=new ActionsQueue();if(c.length==1){c.popup("takeSnapshot");c.bind("afterClosePopup",f.runNext)}a.showInfoPopup=function(h,g){if(c.length!=1){throw new Error("Info popup not found")}f.enqueue(function(){c.popup("restoreSnapshot");var l=null,j=null,i=null;if(a.type(h)=="string"){j=h}else{if(typeof h=="object"&&h!=null){l=h.title;j=h.text;i=h.closeButtonText}else{throw new Error("Invalid arguments")}}if(j==null||j==""){throw new Error("Text expected")}if(a.type(j)!="string"&&!(j instanceof a)){throw new Error("Text must be string or jQurey object")}var k=c.find(d);k.empty();if(j instanceof a){k.append(j)}else{k.text(j)}if(l!=null){c.find(e).text(l)}if(i!=null){c.find(b).text(i)}if(typeof g=="function"){c.bind("afterClosePopup.infoPopup",function(){a(document).off("keydown.infoPopup");c.unbind("afterClosePopup.infoPopup");g()})}c.popup("show");a(document).on("keydown.infoPopup",function(m){if(m.keyCode==13||m.keyCode==27){c.popup("hide")}})})}})(jQuery);(function(a){window.AnimationDuration=300;var k="SmoothMessagesParameters",j="SmoothMessagesIsShown",c="animationDuration",l="selectorPrefix",d="animationQueue";a.fn.smoothMessages=function(q,o,p){if(a.type(q)!="string"||q==""){throw new Error("String command expected")}switch(q){case"init":i(this,o);break;case"show":return this.smoothMessages("toggle",o,true);case"hide":return this.smoothMessages("toggle",o,false);case"toggle":m(this,o,p);break;case"check":return e(this,o);case"checkAny":return f(this);case"hideAll":h(this);break;case"add":return b(this,o);default:throw new Error("Unknown command: "+q)}return this};function g(o){var p=o.data(k);if(p==null){throw new Error("init command must be executed before any other")}return p}function i(o,p){if(p==null){throw new Error("Parameters are required")}var q={};q[c]=p[c]?p[c]:window.AnimationDuration;q[l]=p[l]?p[l]:"";q[d]=new ActionsQueue();o.data(k,q)}function m(q,s,t){if(a.type(s)!="string"||s==""){throw new Error("String error name expected")}if(a.type(t)!="boolean"){throw new Error("Boolean value expected")}var r=g(q),p=r[l]+s,o=q.children(p);if(t&&o.length==0){throw new Error("No element matches selector "+p)}if(o.length>1){throw new Error("More than one element matches selector "+p)}n(q,o,t,r)}function n(r,q,u,t){var p=t[d],o=t[c],s=!!q.data(j);if(s&&u||!s&&!u){return}q.data(j,u);p.enqueue(function(){var v=r.children(":visible");if(u){if(v.length==0){q.show();r.slideDown(o,p.runNext)}else{q.slideDown(o,p.runNext)}}else{if(v.length==1){r.slideUp(o,function(){q.hide();p.runNext()})}else{q.slideUp(o,p.runNext)}}})}function e(p,r){var q=g(p),o=p.children(q[l]+r);return !!o.data(j)}function f(q){var p=q.children();for(var o=0;o<p.length;o++){if(a(p[o]).data(j)){return true}}return false}function h(q){q.children().each(function(){a(this).data(j,false)});var r=g(q),p=r[d],o=r[c];p.enqueue(function(){if(q.is(":visible")){q.slideUp(o,function(){q.children().hide();p.runNext()})}else{q.children().hide();q.hide();p.runNext()}})}function b(p,o){var r=g(p),q=o.appendTo(p);n(p,q,true,r)}})(jQuery);(function(a){var e="orderBy";var d="desc";function c(h,g,f){return h.children("td").eq(f).text().compress().toLowerCase()}function b(i,j,g){function h(n,k){var o=a("<img>").attr("width",6).attr("height",4).attr("src",ContentPath+"/img/newImage/1px.png");var l,m="g-bg g-block ";if(n=="up"){m+="l-corpr__thImgUp";l="\u25B2"}else{if(n=="down"){m+="l-corpr__thImgDown";l="\u25BC"}else{throw new Error("Bad direction: "+n)}}if(k){m+=" active"}o.attr("class",m).attr("alt",l);return o}var f=i.getActiveParameters();i.headers.filter("[data-sort-by]").each(function(){var o=a(this);var k=o.data("sort-by")==f.orderBy;var q=(typeof(j)=="function")?j.call(i,o,f):j,p=h("up",k&&!f.desc),m=h("down",k&&f.desc),l=a("<span></span>").attr("class","l-corpr__thicons").append(p).append(m),n=a("<a></a>").attr("class","g-block l-corpr__thsort").attr("href",q).text(o.text()).append(l);o.empty().append(n);if(typeof(g)=="function"){n.click(function(){var r=i.getNewParameters(o,i.getActiveParameters());i.table.data("active-sorting",r.orderBy);i.table.data("desc",r.desc);g(r,o);return false})}})}a.fn.sortableTable=function(f){if(this.length!=1||!this.is("table")){throw new Error("sortableTable expects only one table element")}if(f){this.data("active-sorting",f.orderBy);this.data("desc",f.desc)}return{table:this,headers:this.find("th"),extendWith:function(g){return a.extend(this,g)},byFormPostback:function(g){if(!(g instanceof jQuery)){throw new Error("byFormPostback expects form jQuery object")}if(g.length!=1){throw new Error("byFormPostback expects exactly one form")}function h(j,k){var i=g.find("input:hidden[name='"+j+"']");if(i.length==0){i=a("<input>").attr("type","hidden").attr("name",j).appendTo(g)}i.val(k)}b(this,"#",function(i){h(e,i.orderBy);h(d,i.desc);g.submit()});return this},byGetRequest:function(g){if(typeof(g)!="string"){throw new Error("byGetRequest expects URL string parameter")}b(this,function(j,h){var i=this.getNewParameters(j,h);var k={};k[e]=i.orderBy;k[d]=i.desc;return a.param.querystring(g,k)});return this},byHandler:function(g){var i=this;function h(j,k){g(j,k);b(i,"#",h)}b(i,"#",h);return this},clientSide:function(k,g){if(typeof k!="object"){k={}}var j=this;function h(r,x){var v=k[r.orderBy]||c;var o=j.headers.index(x);var p=[];var w=j.table.children("tbody");var t=w.children("tr");var m=t.filter(".js-always-first");var n=t.filter(".js-always-last");t=t.not(m.add(n));var q,s;for(q=0;q<t.length;q++){s=a(t[q]);var u=v(s,r.orderBy,o);s.detach();p.push({value:u,row:s})}p.sort(function(y,z){var A;if(y.value>z.value){A=1}else{if(y.value<z.value){A=-1}else{if(y.value==z.value){A=0}else{throw new Error("Trichotomy violation")}}}return r.desc?-A:A});for(q=0;q<p.length;q++){s=p[q].row;if(n.length>0){s.insertBefore(n)}else{w.append(s)}}b(j,"#",h)}if(g){var i=this.getActiveParameters();var l=this.headers.filter("[data-sort-by="+i.orderBy+"]");h(i,l)}b(this,"#",h);return this},getActiveParameters:function(){var h=this.table.data("active-sorting");var g=this.table.data("desc")!=null&&(this.table.data("desc").toString().toLowerCase()=="true");return{orderBy:h,desc:g}},getNewParameters:function(j,g){var i=j.data("sort-by");var h=(g.orderBy==i)?!g.desc:(j.data("default-desc")==true);return{orderBy:i,desc:h}}}}})(jQuery);(function(a){a.fn.titleOnOverflow=function(){this.filter("table").each(function(){var b=a(this);b.on("mouseenter","th,td",function(){var c=a(this);if(c.hasClass("js-no-overflow-title")){return}if(c.closest("table")[0]!=b[0]){return}var e=a.trim(c.text());var d=a('<span style="white-space:nowrap;visible:hidden;"></span>').text(e).prependTo("body");if(Boolean(d.width()>c.width())){c.attr("title",e)}else{c.removeAttr("title")}d.remove()})});return this}})(jQuery);(function(a){a.fn.topicDropdownInit=function(b){var c=a.extend({isMultiSelect:false,anyTopic:"",separator:",",overflowHack:false,targetInput:null},b);return this.each(function(){var d=a(this);c.targetInput=c.targetInput||d.find("input.js-value");var e=d.find(".js-tree").dropDownTreeView({textSelector:function(j){if(j.length==0){return"<span class='g-iblock ui-dropdown-treeview-txtdef'>"+c.anyTopic+"</span>"}else{var h=[];for(var g=0;g<j.length;g++){h.push("<span class='g-iblock g-bold ui-dropdown-treeview-value'>"+a(j[g]).text()+"</span>")}return h.join("")}},treeOptions:{targetInput:c.targetInput,valueSelector:function(g){return g.attr("data-topic-id")},checkboxes:c.isMultiSelect,valuesSeparator:c.separator}});if(c.overflowHack){c.overflowHack(e)}var f=c.targetInput.val();if(typeof(f)=="string"&&f.length>0){e.dropDownTreeView("selectNodes",f)}d.find(".ui-dropdown-treeview-value, .ui-dropdown-treeview-txtdef").addClass("small")})}})(jQuery);(function(a){var b={options:{classPrefix:"ui-treeview",targetInput:null,valueSelector:null,checkboxes:false,valuesSeparator:null},_getClasses:function(e){if(a.type(e)!="string"){throw new Error("Prefix must be a string")}var g=e.split(/\s+/);var f=[];for(var d=0;d<g.length;d++){if(!(/^\s*$/.test(g[d]))){f.push(g[d])}}if(f.length==0){throw new Error("At least one class prefix must be specified")}var c=function(j){var k="";for(var h=0;h<f.length;h++){if(k.length>0){k+=" "}k+=f[h]+j}return k};return{container:c("_container"),node:c("_node"),contentNode:c("_contentNode"),outlineNode:c("_outlineNode"),rootNode:c("_rootNode"),lastNode:c("_lastNode"),leafNode:c("_leafNode"),openedNode:c("_openedNode"),closedNode:c("_closedNode"),rootSubtree:c("_subtree_root"),subtree:c("_subtree"),lastSubtree:c("_subtree_last"),selected:c("_selected"),checkbox:c("_checkbox")}},_create:function(){var k=this;var f=this.options;var c=this._getClasses(f.classPrefix);var h=f.targetInput!=null;var i=f.valueSelector!=null;if(h&&!(f.targetInput instanceof jQuery)){throw new Error("Target input must be a jQuery object")}if(i&&typeof f.valueSelector!="function"){throw new Error("Value selector must be function")}if(h&&!i||!h&&i){throw new Error("Target input and value selector must be provided simultaneously")}var j=a.type(f.valuesSeparator)=="string"&&f.valuesSeparator.length>0;if(f.checkboxes&&h&&!j){throw new Error("To create a tree with ckeckboxes and target input, values separator must be specified")}function e(t,z,s,q,r){if(!t.is("li")){throw new Error("Bad element type, must be <li>")}var A=f.valueSelector(t);var m=t.children("ul").children("li");var v="";if(s){v+=" "+c.rootNode}if(q){v+=" "+c.lastNode}if(m.length==0){v+=" "+c.leafNode}else{if(r){v+=" "+c.openedNode}else{v+=" "+c.closedNode}}var w=a("<div class='"+[c.outlineNode,v].join(" ")+"'><div class='ui-treeview_nodeiconh'></div><div class='ui-treeview_nodeiconv'></div></div>");var n=a("<div class='"+[c.contentNode,v].join(" ")+"'></div>");var o=t.contents().not(t.children("ul"));o.detach();n.append(o.addClass("ui-treeview_nodetext"));var l=null;if(f.checkboxes){l=a("<input type='checkbox'>").addClass(c.checkbox);n.prepend(l);n.find("."+c.checkbox).checkbox().after("<div class='ui-treeview-separ'></div>")}if(f.targetInput!=null&&f.valueSelector!=null){if(f.checkboxes){l.change(function(){var B=l.is(":checked");if(B){n.addClass(c.selected)}else{n.removeClass(c.selected)}if(A.length==0){return}var E=f.targetInput.val();if(B){f.targetInput.val(E+(E.length>0?f.valuesSeparator:"")+A)}else{var F=E.split(f.valuesSeparator);var G=false;var D=[];for(var C=0;C<F.length;C++){if(F[C]==A&&!G){G=true}else{if(F[C].length>0){D.push(F[C])}}}f.targetInput.val(D.join(f.valuesSeparator))}});n.click(function(B){if(B.target==l[0]){return true}l.click();return false})}else{n.click(function(){d.find("."+c.contentNode).removeClass(c.selected);n.addClass(c.selected);f.targetInput.val(A);d.change()})}}var u=a("<div></div>");u.addClass(c.node).addClass(v).append(w).append(n).data("value",A);z.append(u);if(m.length>0){var y=a("<div></div>");var x;if(s){x=c.rootSubtree}else{if(q){x=c.lastSubtree}else{x=c.subtree}}y.addClass(x);if(!r){y.hide()}z.append(y);w.click(function(){k.setNodeExpanded(u,y.is(":hidden"),true)});for(var p=0;p<m.length;p++){e(a(m[p]),y,false,p==m.length-1,false)}}}var d=this.element;var g=d.children();if(!d.is("div")||g.length!=1||!g.is("ul")){throw new Error("This method must be called for <div> element that contains one <ul> element and nothing more.")}d.addClass(c.container);g.children("li").each(function(){e(a(this),d,true,false,false)}).remove()},setNodeExpanded:function(g,f,c){if(c==null){c=false}if(!(g instanceof jQuery)||a.type(f)!="boolean"||a.type(c)!="boolean"){throw new Error("Invalid types")}var i=this.options;var d=this._getClasses(i.classPrefix);var j=g.children("."+d.outlineNode);var e=g.children("."+d.contentNode);var h=g.add(j).add(e);var k;if(f){k=function(){h.removeClass(d.closedNode).addClass(d.openedNode)}}else{k=function(){h.removeClass(d.openedNode).addClass(d.closedNode)}}var l=g.next("div");if(f){if(c){l.slideDown("fast",k)}else{l.show();k()}}else{if(c){l.slideUp("fast",k)}else{l.hide();k()}}},getSelectedNodes:function(){var d=this.options;var c=this._getClasses(d.classPrefix);return this.element.find("."+c.contentNode+"."+c.selected)},setSelectedNodes:function(g){var f=this;var e=this.options;var c=this._getClasses(e.classPrefix);var h=g.split(e.valuesSeparator);this.element.find("."+c.contentNode+"."+c.selected).removeClass(c.selected).end().find("input:checkbox").removeAttr("checked").change();var d=this.element.find("."+c.node).filter(function(){return(a.inArray(a(this).data("value"),h)>=0)});d.find("."+c.contentNode).addClass(c.selected).end().find("input:checkbox").attr("checked","checked").change();if(d.length==1){a.each(d.parents().prev("."+c.node).toArray().reverse(),function(j,k){f.setNodeExpanded(a(k),true,false)})}}};a.widget("ui.treeView",b)})(jQuery);(function(a){var x="js-wtrmark",y="js-wtrmark-text",e="g-wtrmark",h="g-wtrmark__text",f="g-wtrmark-bg",g="g-wtrmarkIE678-bg",c="blurtext",d="hidetext",t="paddingTop",s="paddingRight",q="paddingBottom",r="paddingLeft",p="marginTop",o="marginLeft",l="borderTopWidth",k="borderRightWidth",i="borderBottomWidth",j="borderLeftWidth",n="fontWeight",m="fontSize";var u=[t,s,q,r,p,o,l,k,i,j,n,m];function w(A){if(a.type(A)=="number"){return a.browser.msie&&a.browser.version<=A}else{return a.browser.msie}}function v(A){if(A.width()<=0||A.height()<=0){Logger.warning("Element has zero size, watermark will not work.\nElement class: "+A.attr("class"))}var C=A.data("watermark-text");var B={title:C?C:A.attr("title"),width:A.width(),height:A.height(),fontSize:A.css(m),fontWeight:A.css(n),background:A.data("background"),color:A.data("color"),wrapClass:A.data("wrapper-class")};a.each(u,function(D,E){B[E]=parseInt(A.css(E))});return B}function b(A){var B=a(A.currentTarget);var D=B.parent("."+x);var C=B.val()=="";if(A.type=="focus"){D.addClass(c)}else{if(A.type=="blur"){D.removeClass(c)}}D.toggleClass(d,!C)}function z(A){var C=A.val();var B=setInterval(function(){if(A.val()!=C){clearInterval(B);b(A);A.trigger("autoresize.dynSiz")}},200)}a.fn.watermark=function(B){var A=this.filter("textarea, input:not(:button,:checkbox,:file,[type=hidden],:image,:radio,:reset,:submit)");if(a.type(B)=="string"){if(B=="checkValue"){A.each(function(){b(a(this))})}return this}A.each(function(){var C=a(this);var F;if(C.parent("."+x).length>0){F=C.prev("."+y)}else{var D=v(C);var E=x+" "+e;if(D.wrapClass!=null){E=E+" "+D.wrapClass}var G=a("<span class='"+E+"'></span>").css({position:"relative",display:"inline-block",background:(D.background==null)?"#fff":D.background,zoom:w(7)?1:null});F=a("<span class='"+h+" "+y+"'>"+D.title+"</span>").css({position:"absolute",zIndex:2,textAlign:"left",textOverflow:"ellipsis",overflow:"hidden",left:D[r]+D[o]+D[j]+2,top:D[t]+D[p]+D[l],width:D.width,height:D.height,fontWeight:D.fontWeight,fontSize:D.fontSize,color:(D.color==null)?C.css("color"):D.color});C.css({position:"relative",top:w(7)?0:"",left:w(7)?0:"",zIndex:3,verticalAlign:(C[0].tagName.toLowerCase()=="textarea"&&!w())?"top":"","float":w(7)?"left":""}).addClass(w(8)?g:f);C.wrap(G).before(F)}F.click(function(){C.focus()});b({currentTarget:C})});A.unbind("focus.watermark blur.watermark").bind("focus.watermark blur.watermark",function(C){b(C)}).unbindInputEvents("watermark").bindInputEvents("watermark",function(C){b(C)}).unbind("mousedown.watermark").bind("mousedown.watermark",function(C){if(C.which>1){z(a(this))}});return this}})(jQuery);(function(){(function(q){var y=this||(0,eval)("this"),w=y.document,K=y.navigator,u=y.jQuery,B=y.JSON;(function(q){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?q(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],q):q(y.ko={})})(function(F){function G(a,c){return null===a||typeof a in N?a===c:!1}function H(b,c,d,e){a.d[b]={init:function(b){a.a.f.set(b,L,{});return{controlsDescendantBindings:!0}},update:function(b,h,k,m,f){k=a.a.f.get(b,L);h=a.a.c(h());m=!d!==!h;var p=!k.ob;if(p||c||m!==k.Db){p&&(k.ob=a.a.Ya(a.e.childNodes(b),!0)),m?(p||a.e.S(b,a.a.Ya(k.ob)),a.Ta(e?e(f,h):f,b)):a.e.Z(b),k.Db=m}}};a.g.Y[b]=!1;a.e.P[b]=!0}var a="undefined"!==typeof F?F:{};a.b=function(b,c){for(var d=b.split("."),e=a,g=0;g<d.length-1;g++){e=e[d[g]]}e[d[d.length-1]]=c};a.s=function(a,c,d){a[c]=d};a.version="3.0.0";a.b("version",a.version);a.a=function(){function b(a,b){for(var f in a){a.hasOwnProperty(f)&&b(f,a[f])}}function c(k,b){if("input"!==a.a.v(k)||!k.type||"click"!=b.toLowerCase()){return !1}var f=k.type;return"checkbox"==f||"radio"==f}var d={},e={};d[K&&/Firefox\/2/i.test(K.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];d.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(d,function(a,b){if(b.length){for(var f=0,c=b.length;f<c;f++){e[b[f]]=a}}});var g={propertychange:!0},h=w&&function(){for(var a=3,b=w.createElement("div"),f=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",f[0];){}return 4<a?a:q}();return{$a:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],n:function(a,b){for(var f=0,c=a.length;f<c;f++){b(a[f])}},l:function(a,b){if("function"==typeof Array.prototype.indexOf){return Array.prototype.indexOf.call(a,b)}for(var f=0,c=a.length;f<c;f++){if(a[f]===b){return f}}return -1},Ua:function(a,b,f){for(var c=0,d=a.length;c<d;c++){if(b.call(f,a[c])){return a[c]}}return null},ia:function(b,c){var f=a.a.l(b,c);0<=f&&b.splice(f,1)},Va:function(b){b=b||[];for(var c=[],f=0,d=b.length;f<d;f++){0>a.a.l(c,b[f])&&c.push(b[f])}return c},ha:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++){f.push(b(a[c]))}return f},ga:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++){b(a[c])&&f.push(a[c])}return f},X:function(a,b){if(b instanceof Array){a.push.apply(a,b)}else{for(var f=0,c=b.length;f<c;f++){a.push(b[f])}}return a},V:function(b,c,f){var d=a.a.l(a.a.Ha(b),c);0>d?f&&b.push(c):f||b.splice(d,1)},extend:function(a,b){if(b){for(var f in b){b.hasOwnProperty(f)&&(a[f]=b[f])}}return a},K:b,Da:function(a,b){if(!a){return a}var f={},c;for(c in a){a.hasOwnProperty(c)&&(f[c]=b(a[c],c,a))}return f},wa:function(b){for(;b.firstChild;){a.removeNode(b.firstChild)}},Vb:function(b){b=a.a.Q(b);for(var c=w.createElement("div"),f=0,d=b.length;f<d;f++){c.appendChild(a.L(b[f]))}return c},Ya:function(b,c){for(var f=0,d=b.length,e=[];f<d;f++){var g=b[f].cloneNode(!0);e.push(c?a.L(g):g)}return e},S:function(b,c){a.a.wa(b);if(c){for(var f=0,d=c.length;f<d;f++){b.appendChild(c[f])}}},nb:function(b,c){var f=b.nodeType?[b]:b;if(0<f.length){for(var d=f[0],e=d.parentNode,g=0,n=c.length;g<n;g++){e.insertBefore(c[g],d)}g=0;for(n=f.length;g<n;g++){a.removeNode(f[g])}}},$:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;){a.splice(0,1)}if(1<a.length){var f=a[0],c=a[a.length-1];for(a.length=0;f!==c;){if(a.push(f),f=f.nextSibling,!f){return}}a.push(c)}}return a},qb:function(a,b){7>h?a.setAttribute("selected",b):a.selected=b},la:function(a){return null===a||a===q?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ec:function(b,c){for(var f=[],d=(b||"").split(c),e=0,g=d.length;e<g;e++){var n=a.a.la(d[e]);""!==n&&f.push(n)}return f},ac:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Gb:function(a,b){if(a===b){return !0}if(11===a.nodeType){return !1}if(b.contains){return b.contains(3===a.nodeType?a.parentNode:a)}if(b.compareDocumentPosition){return 16==(b.compareDocumentPosition(a)&16)}for(;a&&a!=b;){a=a.parentNode}return !!a},va:function(b){return a.a.Gb(b,b.ownerDocument.documentElement)},Ra:function(b){return !!a.a.Ua(b,a.a.va)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},r:function(b,d,f){var e=h&&g[d];if(e||"undefined"==typeof u){if(e||"function"!=typeof b.addEventListener){if("undefined"!=typeof b.attachEvent){var s=function(a){f.call(b,a)},l="on"+d;b.attachEvent(l,s);a.a.C.ea(b,function(){b.detachEvent(l,s)})}else{throw Error("Browser doesn't support addEventListener or attachEvent")}}else{b.addEventListener(d,f,!1)}}else{if(c(b,d)){var n=f;f=function(a,b){var f=this.checked;b&&(this.checked=!0!==b.Ab);n.call(this,a);this.checked=f}}u(b).bind(d,f)}},da:function(a,b){if(!a||!a.nodeType){throw Error("element must be a DOM node when calling triggerEvent")}if("undefined"!=typeof u){var f=[];c(a,b)&&f.push({Ab:a.checked});u(a).trigger(b,f)}else{if("function"==typeof w.createEvent){if("function"==typeof a.dispatchEvent){f=w.createEvent(e[b]||"HTMLEvents"),f.initEvent(b,!0,!0,y,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(f)}else{throw Error("The supplied element doesn't support dispatchEvent")}}else{if("undefined"!=typeof a.fireEvent){c(a,b)&&(a.checked=!0!==a.checked),a.fireEvent("on"+b)}else{throw Error("Browser doesn't support triggering events")}}}},c:function(b){return a.M(b)?b():b},Ha:function(b){return a.M(b)?b.t():b},ma:function(b,c,f){if(c){var d=/\S+/g,e=b.className.match(d)||[];a.a.n(c.match(d),function(b){a.a.V(e,b,f)});b.className=e.join(" ")}},Ma:function(b,c){var f=a.a.c(c);if(null===f||f===q){f=""}var d=a.e.firstChild(b);!d||3!=d.nodeType||a.e.nextSibling(d)?a.e.S(b,[w.createTextNode(f)]):d.data=f;a.a.Jb(b)},pb:function(a,b){a.name=b;if(7>=h){try{a.mergeAttributes(w.createElement("<input name='"+a.name+"'/>"),!1)}catch(f){}}},Jb:function(a){9<=h&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Hb:function(a){if(h){var b=a.style.width;a.style.width=0;a.style.width=b}},Zb:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var f=[],d=b;d<=c;d++){f.push(d)}return f},Q:function(a){for(var b=[],c=0,d=a.length;c<d;c++){b.push(a[c])}return b},cc:6===h,dc:7===h,ja:h,ab:function(b,c){for(var f=a.a.Q(b.getElementsByTagName("input")).concat(a.a.Q(b.getElementsByTagName("textarea"))),d="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},e=[],g=f.length-1;0<=g;g--){d(f[g])&&e.push(f[g])}return e},Wb:function(b){return"string"==typeof b&&(b=a.a.la(b))?B&&B.parse?B.parse(b):(new Function("return "+b))():null},Na:function(b,c,f){if(!B||!B.stringify){throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")}return B.stringify(a.a.c(b),c,f)},Xb:function(c,d,f){f=f||{};var e=f.params||{},g=f.includeFields||this.$a,h=c;if("object"==typeof c&&"form"===a.a.v(c)){for(var h=c.action,n=g.length-1;0<=n;n--){for(var r=a.a.ab(c,g[n]),v=r.length-1;0<=v;v--){e[r[v].name]=r[v].value}}}d=a.a.c(d);var t=w.createElement("form");t.style.display="none";t.action=h;t.method="post";for(var E in d){c=w.createElement("input"),c.name=E,c.value=a.a.Na(a.a.c(d[E])),t.appendChild(c)}b(e,function(a,b){var c=w.createElement("input");c.name=a;c.value=b;t.appendChild(c)});w.body.appendChild(t);f.submitter?f.submitter(t):t.submit();setTimeout(function(){t.parentNode.removeChild(t)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.n);a.b("utils.arrayFirst",a.a.Ua);a.b("utils.arrayFilter",a.a.ga);a.b("utils.arrayGetDistinctValues",a.a.Va);a.b("utils.arrayIndexOf",a.a.l);a.b("utils.arrayMap",a.a.ha);a.b("utils.arrayPushAll",a.a.X);a.b("utils.arrayRemoveItem",a.a.ia);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.$a);a.b("utils.getFormFields",a.a.ab);a.b("utils.peekObservable",a.a.Ha);a.b("utils.postJson",a.a.Xb);a.b("utils.parseJson",a.a.Wb);a.b("utils.registerEventHandler",a.a.r);a.b("utils.stringifyJson",a.a.Na);a.b("utils.range",a.a.Zb);a.b("utils.toggleDomNodeCssClass",a.a.ma);a.b("utils.triggerEvent",a.a.da);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.K);a.b("utils.addOrRemoveItem",a.a.V);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this,d=Array.prototype.slice.call(arguments);a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(b,h){var k=b[d];if(!k||"null"===k||!e[k]){if(!h){return q}k=b[d]="ko"+c++;e[k]={}}return e[k]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===q?q:e[d]},set:function(c,d,e){if(e!==q||a(c,!1)!==q){a(c,!0)[d]=e}},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},D:function(){return c+++d}}};a.b("utils.domData",a.a.f);a.b("utils.domData.clear",a.a.f.clear);a.a.C=new function(){function b(b,c){var e=a.a.f.get(b,d);e===q&&c&&(e=[],a.a.f.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e){for(var e=e.slice(0),m=0;m<e.length;m++){e[m](d)}}a.a.f.clear(d);"function"==typeof u&&"function"==typeof u.cleanData&&u.cleanData([d]);if(g[d.nodeType]){for(e=d.firstChild;d=e;){e=d.nextSibling,8===d.nodeType&&c(d)}}}var d=a.a.f.D(),e={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{ea:function(a,c){if("function"!=typeof c){throw Error("Callback must be a function")}b(a,!0).push(c)},mb:function(c,e){var g=b(c,!1);g&&(a.a.ia(g,e),0==g.length&&a.a.f.set(c,d,q))},L:function(b){if(e[b.nodeType]&&(c(b),g[b.nodeType])){var d=[];a.a.X(d,b.getElementsByTagName("*"));for(var m=0,f=d.length;m<f;m++){c(d[m])}}return b},removeNode:function(b){a.L(b);b.parentNode&&b.parentNode.removeChild(b)}}};a.L=a.a.C.L;a.removeNode=a.a.C.removeNode;a.b("cleanNode",a.L);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.C);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.C.ea);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.C.mb);(function(){a.a.Fa=function(b){var c;if("undefined"!=typeof u){if(u.parseHTML){c=u.parseHTML(b)||[]}else{if((c=u.clean([b]))&&c[0]){for(b=c[0];b.parentNode&&11!==b.parentNode.nodeType;){b=b.parentNode}b.parentNode&&b.parentNode.removeChild(b)}}}else{var d=a.a.la(b).toLowerCase();c=w.createElement("div");d=d.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!d.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!d.indexOf("<td")||!d.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];b="ignored<div>"+d[1]+b+d[2]+"</div>";for("function"==typeof y.innerShiv?c.appendChild(y.innerShiv(b)):c.innerHTML=b;d[0]--;){c=c.lastChild}c=a.a.Q(c.lastChild.childNodes)}return c};a.a.Ka=function(b,c){a.a.wa(b);c=a.a.c(c);if(null!==c&&c!==q){if("string"!=typeof c&&(c=c.toString()),"undefined"!=typeof u){u(b).html(c)}else{for(var d=a.a.Fa(c),e=0;e<d.length;e++){b.appendChild(d[e])}}}}})();a.b("utils.parseHtmlFragment",a.a.Fa);a.b("utils.setHtml",a.a.Ka);a.u=function(){function b(c,e){if(c){if(8==c.nodeType){var g=a.u.jb(c.nodeValue);null!=g&&e.push({Fb:c,Tb:g})}else{if(1==c.nodeType){for(var g=0,h=c.childNodes,k=h.length;g<k;g++){b(h[g],e)}}}}}var c={};return{Ca:function(a){if("function"!=typeof a){throw Error("You can only pass a function to ko.memoization.memoize()")}var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},ub:function(a,b){var g=c[a];if(g===q){throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.")}try{return g.apply(null,b||[]),!0}finally{delete c[a]}},vb:function(c,e){var g=[];b(c,g);for(var h=0,k=g.length;h<k;h++){var m=g[h].Fb,f=[m];e&&a.a.X(f,e);a.u.ub(g[h].Tb,f);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},jb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.u);a.b("memoization.memoize",a.u.Ca);a.b("memoization.unmemoize",a.u.ub);a.b("memoization.parseMemoText",a.u.jb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.u.vb);a.xa={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},notify:function(a,c){a.equalityComparer="always"==c?null:G}};var N={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.xa);a.sb=function(b,c,d){this.target=b;this.qa=c;this.Eb=d;a.s(this,"dispose",this.B)};a.sb.prototype.B=function(){this.Qb=!0;this.Eb()};a.ca=function(){this.F={};a.a.extend(this,a.ca.fn);a.s(this,"subscribe",this.T);a.s(this,"extend",this.extend);a.s(this,"getSubscriptionsCount",this.Lb)};var I="change";a.ca.fn={T:function(b,c,d){d=d||I;var e=new a.sb(this,c?b.bind(c):b,function(){a.a.ia(this.F[d],e)}.bind(this));this.F[d]||(this.F[d]=[]);this.F[d].push(e);return e},notifySubscribers:function(b,c){c=c||I;if(this.cb(c)){try{a.i.Wa();for(var d=this.F[c].slice(0),e=0,g;g=d[e];++e){g&&!0!==g.Qb&&g.qa(b)}}finally{a.i.end()}}},cb:function(a){return this.F[a]&&this.F[a].length},Lb:function(){var b=0;a.a.K(this.F,function(a,d){b+=d.length});return b},extend:function(b){var c=this;b&&a.a.K(b,function(b,e){var g=a.xa[b];"function"==typeof g&&(c=g(c,e)||c)});return c}};a.fb=function(a){return null!=a&&"function"==typeof a.T&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.ca);a.b("isSubscribable",a.fb);a.i=function(){var b=[];return{Wa:function(a){b.push(a&&{qa:a,Za:[]})},end:function(){b.pop()},lb:function(c){if(!a.fb(c)){throw Error("Only subscribable things can act as dependencies")}if(0<b.length){var d=b[b.length-1];!d||0<=a.a.l(d.Za,c)||(d.Za.push(c),d.qa(c))}},p:function(a,d,e){try{return b.push(null),a.apply(d,e||[])}finally{b.pop()}}}}();a.q=function(b){function c(){if(0<arguments.length){return c.equalityComparer&&c.equalityComparer(d,arguments[0])||(c.O(),d=arguments[0],c.N()),this}a.i.lb(c);return d}var d=b;a.ca.call(c);c.t=function(){return d};c.N=function(){c.notifySubscribers(d)};c.O=function(){c.notifySubscribers(d,"beforeChange")};a.a.extend(c,a.q.fn);a.s(c,"peek",c.t);a.s(c,"valueHasMutated",c.N);a.s(c,"valueWillMutate",c.O);return c};a.q.fn={equalityComparer:G};var C=a.q.Yb="__ko_proto__";a.q.fn[C]=a.q;a.ya=function(b,c){return null===b||b===q||b[C]===q?!1:b[C]===c?!0:a.ya(b[C],c)};a.M=function(b){return a.ya(b,a.q)};a.gb=function(b){return"function"==typeof b&&b[C]===a.q||"function"==typeof b&&b[C]===a.h&&b.Nb?!0:!1};a.b("observable",a.q);a.b("isObservable",a.M);a.b("isWriteableObservable",a.gb);a.ba=function(b){b=b||[];if("object"!=typeof b||!("length" in b)){throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")}b=a.q(b);a.a.extend(b,a.ba.fn);return b.extend({trackArrayChanges:!0})};a.ba.fn={remove:function(b){for(var c=this.t(),d=[],e="function"!=typeof b||a.M(b)?function(a){return a===b}:b,g=0;g<c.length;g++){var h=c[g];e(h)&&(0===d.length&&this.O(),d.push(h),c.splice(g,1),g--)}d.length&&this.N();return d},removeAll:function(b){if(b===q){var c=this.t(),d=c.slice(0);this.O();c.splice(0,c.length);this.N();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.t(),d="function"!=typeof b||a.M(b)?function(a){return a===b}:b;this.O();for(var e=c.length-1;0<=e;e--){d(c[e])&&(c[e]._destroy=!0)}this.N()},destroyAll:function(b){return b===q?this.destroy(function(){return !0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.O(),this.t()[d]=c,this.N())}};a.a.n("pop push reverse shift sort splice unshift".split(" "),function(b){a.ba.fn[b]=function(){var a=this.t();this.O();this.Xa(a,b,arguments);a=a[b].apply(a,arguments);this.N();return a}});a.a.n(["slice"],function(b){a.ba.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.b("observableArray",a.ba);var J="arrayChange";a.xa.trackArrayChanges=function(b){function c(){if(!d){d=!0;var c=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==I||++g;return c.apply(this,arguments)};var m=[].concat(b.t()||[]);e=null;b.T(function(c){c=[].concat(c||[]);if(b.cb(J)){var d;if(!e||1<g){e=a.a.ra(m,c,{sparse:!0})}d=e;d.length&&b.notifySubscribers(d,J)}m=c;e=null;g=0})}}if(!b.Xa){var d=!1,e=null,g=0,h=b.T;b.T=b.subscribe=function(a,b,f){f===J&&c();return h.apply(this,arguments)};b.Xa=function(a,b,c){function p(a,b,c){h.push({status:a,value:b,index:c})}if(d&&!g){var h=[],l=a.length,n=c.length,r=0;switch(b){case"push":r=l;case"unshift":for(b=0;b<n;b++){p("added",c[b],r+b)}break;case"pop":r=l-1;case"shift":l&&p("deleted",a[r],r);break;case"splice":b=Math.min(Math.max(0,0>c[0]?l+c[0]:c[0]),l);for(var l=1===n?l:Math.min(b+(c[1]||0),l),n=b+n-2,r=Math.max(l,n),v=2;b<r;++b,++v){b<l&&p("deleted",a[b],b),b<n&&p("added",c[v],b)}break;default:return}e=h}}}};a.h=function(b,c,d){function e(){a.a.n(z,function(a){a.B()});z=[]}function g(){var a=k.throttleEvaluation;a&&0<=a?(clearTimeout(x),x=setTimeout(h,a)):h()}function h(){if(!s){if(E&&E()){if(!l){D();p=!0;return}}else{l=!1}s=!0;try{var b=a.a.ha(z,function(a){return a.target});a.i.Wa(function(c){var d;0<=(d=a.a.l(b,c))?b[d]=q:z.push(c.T(g))});for(var d=c?n.call(c):n(),e=b.length-1;0<=e;e--){b[e]&&z.splice(e,1)[0].B()}p=!0;k.equalityComparer&&k.equalityComparer(f,d)||(k.notifySubscribers(f,"beforeChange"),f=d,k.notifySubscribers(f))}finally{a.i.end(),s=!1}z.length||D()}}function k(){if(0<arguments.length){if("function"===typeof r){r.apply(c,arguments)}else{throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}return this}p||h();a.i.lb(k);return f}function m(){return !p||0<z.length}var f,p=!1,s=!1,l=!1,n=b;n&&"object"==typeof n?(d=n,n=d.read):(d=d||{},n||(n=d.read));if("function"!=typeof n){throw Error("Pass a function that returns the value of the ko.computed")}var r=d.write,v=d.disposeWhenNodeIsRemoved||d.I||null,t=d.disposeWhen||d.ua,E=t,D=e,z=[],x=null;c||(c=d.owner);k.t=function(){p||h();return f};k.Kb=function(){return z.length};k.Nb="function"===typeof d.write;k.B=function(){D()};k.aa=m;a.ca.call(k);a.a.extend(k,a.h.fn);a.s(k,"peek",k.t);a.s(k,"dispose",k.B);a.s(k,"isActive",k.aa);a.s(k,"getDependenciesCount",k.Kb);v&&(l=!0,v.nodeType&&(E=function(){return !a.a.va(v)||t&&t()}));!0!==d.deferEvaluation&&h();v&&m()&&(D=function(){a.a.C.mb(v,D);e()},a.a.C.ea(v,D));return k};a.Pb=function(b){return a.ya(b,a.h)};F=a.q.Yb;a.h[F]=a.q;a.h.fn={equalityComparer:G};a.h.fn[F]=a.h;a.b("dependentObservable",a.h);a.b("computed",a.h);a.b("isComputed",a.Pb);(function(){function b(a,g,h){h=h||new d;a=g(a);if("object"!=typeof a||null===a||a===q||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean){return a}var k=a instanceof Array?[]:{};h.save(a,k);c(a,function(c){var d=g(a[c]);switch(typeof d){case"boolean":case"number":case"string":case"function":k[c]=d;break;case"object":case"undefined":var p=h.get(d);k[c]=p!==q?p:b(d,g,h)}});return k}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++){b(c)}"function"==typeof a.toJSON&&b("toJSON")}else{for(c in a){b(c)}}}function d(){this.keys=[];this.Qa=[]}a.tb=function(c){if(0==arguments.length){throw Error("When calling ko.toJS, pass the object you want to convert.")}return b(c,function(b){for(var c=0;a.M(b)&&10>c;c++){b=b()}return b})};a.toJSON=function(b,c,d){b=a.tb(b);return a.a.Na(b,c,d)};d.prototype={save:function(b,c){var d=a.a.l(this.keys,b);0<=d?this.Qa[d]=c:(this.keys.push(b),this.Qa.push(c))},get:function(b){b=a.a.l(this.keys,b);return 0<=b?this.Qa[b]:q}}})();a.b("toJS",a.tb);a.b("toJSON",a.toJSON);(function(){a.k={o:function(b){switch(a.a.v(b)){case"option":return !0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Ea):7>=a.a.ja?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?a.k.o(b.options[b.selectedIndex]):q;default:return b.value}},na:function(b,c){switch(a.a.v(b)){case"option":switch(typeof c){case"string":a.a.f.set(b,a.d.options.Ea,q);"__ko__hasDomDataOptionValue__" in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Ea,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case"select":""===c&&(c=q);if(null===c||c===q){b.selectedIndex=-1}for(var d=b.options.length-1;0<=d;d--){if(a.k.o(b.options[d])==c){b.selectedIndex=d;break}}1<b.size||-1!==b.selectedIndex||(b.selectedIndex=0);break;default:if(null===c||c===q){c=""}b.value=c}}}})();a.b("selectExtensions",a.k);a.b("selectExtensions.readValue",a.k.o);a.b("selectExtensions.writeValue",a.k.na);a.g=function(){function b(b){b=a.a.la(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),k,l,n=0;if(d){d.push(",");for(var r=0,v;v=d[r];++r){var t=v.charCodeAt(0);if(44===t){if(0>=n){k&&c.push(l?{key:k,value:l.join("")}:{unknown:k});k=l=n=0;continue}}else{if(58===t){if(!l){continue}}else{if(47===t&&r&&1<v.length){(t=d[r-1].match(g))&&!h[t[0]]&&(b=b.substr(b.indexOf(v)+1),d=b.match(e),d.push(","),r=-1,v="/")}else{if(40===t||123===t||91===t){++n}else{if(41===t||125===t||93===t){--n}else{if(!k&&!l){k=34===t||39===t?v.slice(1,-1):v;continue}}}}}}l?l.push(v):l=[v]}}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),g=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},k={};return{Y:[],U:k,Ga:b,ka:function(e,f){function g(b,f){var e,r=a.getBindingHandler(b);if(r&&r.preprocess?f=r.preprocess(f,b,g):1){if(r=k[b]){e=f,0<=a.a.l(c,e)?e=!1:(r=e.match(d),e=null===r?!1:r[1]?"Object("+r[1]+")"+r[2]:e),r=e}r&&l.push("'"+b+"':function(_z){"+e+"=_z}");n&&(f="function(){return "+f+" }");h.push("'"+b+"':"+f)}}f=f||{};var h=[],l=[],n=f.valueAccessors,r="string"===typeof e?b(e):e;a.a.n(r,function(a){g(a.key||a.unknown,a.value)});l.length&&g("_ko_property_writers","{"+l.join(",")+"}");return h.join(",")},Sb:function(a,b){for(var c=0;c<a.length;c++){if(a[c].key==b){return !0}}return !1},oa:function(b,c,d,e,k){if(b&&a.M(b)){!a.gb(b)||k&&b.t()===e||b(e)}else{if((b=c.get("_ko_property_writers"))&&b[d]){b[d](e)}}}}}();a.b("expressionRewriting",a.g);a.b("expressionRewriting.bindingRewriteValidators",a.g.Y);a.b("expressionRewriting.parseObjectLiteral",a.g.Ga);a.b("expressionRewriting.preProcessBindings",a.g.ka);a.b("expressionRewriting._twoWayBindings",a.g.U);a.b("jsonExpressionRewriting",a.g);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.g.ka);(function(){function b(a){return 8==a.nodeType&&h.test(g?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&k.test(g?a.text:a.nodeValue)}function d(a,d){for(var e=a,k=1,n=[];e=e.nextSibling;){if(c(e)&&(k--,0===k)){return n}n.push(e);b(e)&&k++}if(!d){throw Error("Cannot find closing comment tag to match: "+a.nodeValue)}return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var g=w&&"\x3c!--test--\x3e"===w.createComment("test").text,h=g?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,k=g?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0};a.e={P:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Z:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++){a.removeNode(c[d])}}else{a.a.wa(c)}},S:function(c,d){if(b(c)){a.e.Z(c);for(var e=c.nextSibling,k=0,n=d.length;k<n;k++){e.parentNode.insertBefore(d[k],e)}}else{a.a.S(c,d)}},kb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},eb:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.kb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Mb:b,bc:function(a){return(a=(g?a.text:a.nodeValue).match(h))?a[1]:null},ib:function(d){if(m[a.a.v(d)]){var k=d.firstChild;if(k){do{if(1===k.nodeType){var g;g=k.firstChild;var h=null;if(g){do{if(h){h.push(g)}else{if(b(g)){var n=e(g,!0);n?g=n:h=[g]}else{c(g)&&(h=[g])}}}while(g=g.nextSibling)}if(g=h){for(h=k.nextSibling,n=0;n<g.length;n++){h?d.insertBefore(g[n],h):d.appendChild(g[n])}}}}while(k=k.nextSibling)}}}}})();a.b("virtualElements",a.e);a.b("virtualElements.allowedBindings",a.e.P);a.b("virtualElements.emptyNode",a.e.Z);a.b("virtualElements.insertAfter",a.e.eb);a.b("virtualElements.prepend",a.e.kb);a.b("virtualElements.setDomNodeChildren",a.e.S);(function(){a.H=function(){this.zb={}};a.a.extend(a.H.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind");case 8:return a.e.Mb(b);default:return !1}},getBindings:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a):null},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.e.bc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var g=this.zb,h=b+(e&&e.valueAccessors||""),k;if(!(k=g[h])){var m,f="with($context){with($data||{}){return{"+a.g.ka(b,e)+"}}}";m=new Function("$context","$element",f);k=g[h]=m}return k(c,d)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+p.message,p}}});a.H.instance=new a.H})();a.b("bindingProvider",a.H);(function(){function b(a){return function(){return a}}function c(a){return a()}function d(b){return a.a.Da(a.i.p(b),function(a,c){return function(){return b()[c]}})}function e(a,b){return d(this.getBindings.bind(this,a,b))}function g(b,c,d){var f,e=a.e.firstChild(c),k=a.H.instance,g=k.preprocessNode;if(g){for(;f=e;){e=a.e.nextSibling(f),g.call(k,f)}e=a.e.firstChild(c)}for(;f=e;){e=a.e.nextSibling(f),h(b,f,d)}}function h(b,c,d){var f=!0,e=1===c.nodeType;e&&a.e.ib(c);if(e&&d||a.H.instance.nodeHasBindings(c)){f=m(c,null,b,d).shouldBindDescendants}f&&!p[a.a.v(c)]&&g(b,c,!e)}function k(b){var c=[],d={},f=[];a.a.K(b,function D(e){if(!d[e]){var k=a.getBindingHandler(e);k&&(k.after&&(f.push(e),a.a.n(k.after,function(c){if(b[c]){if(-1!==a.a.l(f,c)){throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "))}D(c)}}),f.pop()),c.push({key:e,bb:k}));d[e]=!0}});return c}function m(b,d,f,g){var h=a.a.f.get(b,s);if(!d){if(h){throw Error("You cannot apply bindings multiple times to the same element.")}a.a.f.set(b,s,!0)}!h&&g&&a.rb(b,f);var m;if(d&&"function"!==typeof d){m=d}else{var p=a.H.instance,l=p.getBindingAccessors||e;if(d||f.A){var A=a.h(function(){(m=d?d(f,b):l.call(p,b,f))&&f.A&&f.A();return m},null,{I:b});m&&A.aa()||(A=null)}else{m=a.i.p(l,p,[b,f])}}var u;if(m){var w=A?function(a){return function(){return c(A()[a])}}:function(a){return m[a]},y=function(){return a.a.Da(A?A():m,c)};y.get=function(a){return m[a]&&c(w(a))};y.has=function(a){return a in m};g=k(m);a.a.n(g,function(c){var d=c.bb.init,e=c.bb.update,k=c.key;if(8===b.nodeType&&!a.e.P[k]){throw Error("The binding '"+k+"' cannot be used with virtual elements")}try{"function"==typeof d&&a.i.p(function(){var a=d(b,w(k),y,f.$data,f);if(a&&a.controlsDescendantBindings){if(u!==q){throw Error("Multiple bindings ("+u+" and "+k+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")}u=k}}),"function"==typeof e&&a.h(function(){e(b,w(k),y,f.$data,f)},null,{I:b})}catch(g){throw g.message='Unable to process binding "'+k+": "+m[k]+'"\nMessage: '+g.message,g}})}return{shouldBindDescendants:u===q}}function f(b){return b&&b instanceof a.G?b:new a.G(b)}a.d={};var p={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.G=function(b,c,d,f){var e=this,k="function"==typeof b,g,h=a.h(function(){var g=k?b():b;c?(c.A&&c.A(),a.a.extend(e,c),h&&(e.A=h)):(e.$parents=[],e.$root=g,e.ko=a);e.$rawData=b;e.$data=g;d&&(e[d]=g);f&&f(e,c,g);return e.$data},null,{ua:function(){return g&&!a.a.Ra(g)},I:!0});h.aa()&&(e.A=h,h.equalityComparer=null,g=[],h.wb=function(b){g.push(b);a.a.C.ea(b,function(b){a.a.ia(g,b);g.length||(h.B(),e.A=h=q)})})};a.G.prototype.createChildContext=function(b,c,d){return new a.G(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.G.prototype.extend=function(b){return new a.G(this.$rawData,this,null,function(c){a.a.extend(c,"function"==typeof b?b():b)})};var s=a.a.f.D(),l=a.a.f.D();a.rb=function(b,c){if(2==arguments.length){a.a.f.set(b,l,c),c.A&&c.A.wb(b)}else{return a.a.f.get(b,l)}};a.pa=function(b,c,d){1===b.nodeType&&a.e.ib(b);return m(b,c,f(d),!0)};a.xb=function(c,e,k){k=f(k);return a.pa(c,"function"===typeof e?d(e.bind(null,k,c)):a.a.Da(e,b),k)};a.Ta=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(f(a),b,!0)};a.Sa=function(a,b){if(b&&1!==b.nodeType&&8!==b.nodeType){throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")}b=b||y.document.body;h(f(a),b,!0)};a.ta=function(b){switch(b.nodeType){case 1:case 8:var c=a.rb(b);if(c){return c}if(b.parentNode){return a.ta(b.parentNode)}}return q};a.Cb=function(b){return(b=a.ta(b))?b.$data:q};a.b("bindingHandlers",a.d);a.b("applyBindings",a.Sa);a.b("applyBindingsToDescendants",a.Ta);a.b("applyBindingAccessorsToNode",a.pa);a.b("applyBindingsToNode",a.xb);a.b("contextFor",a.ta);a.b("dataFor",a.Cb)})();var M={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.K(d,function(c,d){d=a.a.c(d);var h=!1===d||null===d||d===q;h&&b.removeAttribute(c);8>=a.a.ja&&c in M?(c=M[c],h?b.removeAttribute(c):b[c]=d):h||b.setAttribute(c,d.toString());"name"===c&&a.a.pb(b,h?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):b.value}function g(){var k=b.checked,g=s?e():k;if(l&&(!m||k)){var h=a.i.p(c);f?p!==g?(k&&(a.a.V(h,g,!0),a.a.V(h,p,!1)),p=g):a.a.V(h,g,k):a.g.oa(h,d,"checked",g,!0)}}function h(){var d=a.a.c(c());b.checked=f?0<=a.a.l(d,e()):k?d:e()===d}var k="checkbox"==b.type,m="radio"==b.type;if(k||m){var f=k&&a.a.c(c()) instanceof Array,p=f?e():q,s=m||f,l=!1;m&&!b.name&&a.d.uniqueName.init(b,function(){return !0});a.h(g,null,{I:b});a.a.r(b,"click",g);a.h(h,null,{I:b});l=!0}}};a.g.U.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.K(d,function(c,d){d=a.a.c(d);a.a.ma(b,c,d)}):(d=String(d||""),a.a.ma(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ma(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return !a.a.c(c())})}};a.d.event={init:function(b,c,d,e,g){var h=c()||{};a.a.K(h,function(k){"string"==typeof k&&a.a.r(b,k,function(b){var f,h=c()[k];if(h){try{var s=a.a.Q(arguments);e=g.$data;s.unshift(e);f=h.apply(e,s)}finally{!0!==f&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(k+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={hb:function(b){return function(){var c=b(),d=a.a.Ha(c);if(!d||"number"==typeof d.length){return{foreach:c,templateEngine:a.J.Aa}}a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.J.Aa}}},init:function(b,c){return a.d.template.init(b,a.d.foreach.hb(c))},update:function(b,c,d,e,g){return a.d.template.update(b,a.d.foreach.hb(c),d,e,g)}};a.g.Y.foreach=!1;a.e.P.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var g=b.ownerDocument;if("activeElement" in g){var f;try{f=g.activeElement}catch(h){f=g.body}e=f===b}g=c();a.g.oa(g,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var g=e.bind(null,!0),h=e.bind(null,!1);a.a.r(b,"focus",g);a.a.r(b,"focusin",g);a.a.r(b,"blur",h);a.a.r(b,"focusout",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.i.p(a.a.da,null,[b,d?"focusin":"focusout"]))}};a.g.U.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.U.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Ka(b,c())}};var L=a.a.f.D();H("if");H("ifnot",!1,!0);H("with",!0,!1,function(a,c){return a.createChildContext(c)});a.d.options={init:function(b){if("select"!==a.a.v(b)){throw Error("options binding applies only to SELECT elements")}for(;0<b.length;){b.remove(0)}return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.ga(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(c,d){if(p.length){var f=0<=a.a.l(p,a.k.o(d[0]));a.a.qb(d[0],f);l&&!f&&a.i.p(a.a.da,null,[b,"change"])}}var k=0!=b.length&&b.multiple?b.scrollTop:null;c=a.a.c(c());var m=d.get("optionsIncludeDestroyed"),f={},p;p=b.multiple?a.a.ha(e(),a.k.o):0<=b.selectedIndex?[a.k.o(b.options[b.selectedIndex])]:[];if(c){"undefined"==typeof c.length&&(c=[c]);var s=a.a.ga(c,function(b){return m||b===q||null===b||!a.a.c(b._destroy)});d.has("optionsCaption")&&(c=a.a.c(d.get("optionsCaption")),null!==c&&c!==q&&s.unshift(f))}else{c=[]}var l=!1;c=h;d.has("optionsAfterRender")&&(c=function(b,c){h(0,c);a.i.p(d.get("optionsAfterRender"),null,[c[0],b!==f?b:q])});a.a.Ja(b,s,function(b,c,e){e.length&&(p=e[0].selected?[a.k.o(e[0])]:[],l=!0);c=w.createElement("option");b===f?(a.a.Ma(c,d.get("optionsCaption")),a.k.na(c,q)):(e=g(b,d.get("optionsValue"),b),a.k.na(c,a.a.c(e)),b=g(b,d.get("optionsText"),e),a.a.Ma(c,b));return[c]},null,c);(b.multiple?p.length&&e().length<p.length:p.length&&0<=b.selectedIndex?a.k.o(b.options[b.selectedIndex])!==p[0]:p.length||0<=b.selectedIndex)&&a.i.p(a.a.da,null,[b,"change"]);a.a.Hb(b);k&&20<Math.abs(k-b.scrollTop)&&(b.scrollTop=k)}};a.d.options.Ea=a.a.f.D();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.r(b,"change",function(){var e=c(),g=[];a.a.n(b.getElementsByTagName("option"),function(b){b.selected&&g.push(a.k.o(b))});a.g.oa(e,d,"selectedOptions",g)})},update:function(b,c){if("select"!=a.a.v(b)){throw Error("values binding applies only to SELECT elements")}var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.n(b.getElementsByTagName("option"),function(b){var c=0<=a.a.l(d,a.k.o(b));a.a.qb(b,c)})}};a.g.U.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.K(d,function(c,d){d=a.a.c(d);b.style[c]=d||""})}};a.d.submit={init:function(b,c,d,e,g){if("function"!=typeof c()){throw Error("The value for a submit binding must be a function")}a.a.r(b,"submit",function(a){var d,e=c();try{d=e.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Ma(b,c())}};a.e.P.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Bb;a.a.pb(b,d)}}};a.d.uniqueName.Bb=0;a.d.value={after:["options","foreach"],init:function(b,c,d){function e(){k=!1;var e=c(),f=a.k.o(b);a.g.oa(e,d,"value",f)}var g=["change"],h=d.get("valueUpdate"),k=!1;h&&("string"==typeof h&&(h=[h]),a.a.X(g,h),g=a.a.Va(g));!a.a.ja||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.l(g,"propertychange")||(a.a.r(b,"propertychange",function(){k=!0}),a.a.r(b,"blur",function(){k&&e()}));a.a.n(g,function(c){var d=e;a.a.ac(c,"after")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.r(b,c,d)})},update:function(b,c){var d="select"===a.a.v(b),e=a.a.c(c()),g=a.k.o(b);e!==g&&(g=function(){a.k.na(b,e)},g(),d&&(e!==a.k.o(b)?a.i.p(a.a.da,null,[b,"change"]):setTimeout(g,0)))}};a.g.U.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,g,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,g,h)}}})("click");a.w=function(){};a.w.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")};a.w.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")};a.w.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d){throw Error("Cannot find template with ID "+b)}return new a.m.j(d)}if(1==b.nodeType||8==b.nodeType){return new a.m.W(b)}throw Error("Unknown template type: "+b)};a.w.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d)};a.w.prototype.isTemplateRewritten=function(a,c){return !1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.w.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.w);a.Oa=function(){function b(b,c,d,k){b=a.g.Ga(b);for(var m=a.g.Y,f=0;f<b.length;f++){var p=b[f].key;if(m.hasOwnProperty(p)){var s=m[p];if("function"===typeof s){if(p=s(b[f].value)){throw Error(p)}}else{if(!s){throw Error("This template engine does not support the '"+p+"' binding within its templates")}}}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.g.ka(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return k.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ib:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Oa.Ub(b,c)},d)},Ub:function(a,g){return a.replace(c,function(a,c,d,f,e){return b(e,c,d,g)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",g)})},yb:function(b,c){return a.u.Ca(function(d,k){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.pa(m,b,k)})}}}();a.b("__tr_ambtns",a.Oa.yb);(function(){a.m={};a.m.j=function(a){this.j=a};a.m.j.prototype.text=function(){var b=a.a.v(this.j),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length){return this.j[b]}var c=arguments[0];"innerHTML"===b?a.a.Ka(this.j,c):this.j[b]=c};var b=a.a.f.D()+"_";a.m.j.prototype.data=function(c){if(1===arguments.length){return a.a.f.get(this.j,b+c)}a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.D();a.m.W=function(a){this.j=a};a.m.W.prototype=new a.m.j;a.m.W.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.Pa===q&&b.sa&&(b.Pa=b.sa.innerHTML);return b.Pa}a.a.f.set(this.j,c,{Pa:arguments[0]})};a.m.j.prototype.nodes=function(){if(0==arguments.length){return(a.a.f.get(this.j,c)||{}).sa}a.a.f.set(this.j,c,{sa:arguments[0]})};a.b("templateSources",a.m);a.b("templateSources.domElement",a.m.j);a.b("templateSources.anonymousTemplate",a.m.W)})();(function(){function b(b,c,d){var e;for(c=a.e.nextSibling(c);b&&(e=b)!==c;){b=a.e.nextSibling(e),d(e,b)}}function c(c,d){if(c.length){var f=c[0],e=c[c.length-1],g=f.parentNode,h=a.H.instance,n=h.preprocessNode;if(n){b(f,e,function(a,b){var c=a.previousSibling,d=n.call(h,a);d&&(a===f&&(f=d[0]||b),a===e&&(e=d[d.length-1]||c))});c.length=0;if(!f){return}f===e?c.push(f):(c.push(f,e),a.a.$(c,g))}b(f,e,function(b){1!==b.nodeType&&8!==b.nodeType||a.Sa(d,b)});b(f,e,function(b){1!==b.nodeType&&8!==b.nodeType||a.u.vb(b,[d])});a.a.$(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,s){s=s||{};var l=b&&d(b),l=l&&l.ownerDocument,n=s.templateEngine||g;a.Oa.Ib(f,n,l);f=n.renderTemplate(f,h,s,l);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType){throw Error("Template engine must return an array of DOM nodes")}l=!1;switch(e){case"replaceChildren":a.e.S(b,f);l=!0;break;case"replaceNode":a.a.nb(b,f);l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}l&&(c(f,h),s.afterRender&&a.i.p(s.afterRender,null,[f,h.$data]));return f}var g;a.La=function(b){if(b!=q&&!(b instanceof a.w)){throw Error("templateEngine must inherit from ko.templateEngine")}g=b};a.Ia=function(b,c,f,h,s){f=f||{};if((f.templateEngine||g)==q){throw Error("Set a template engine before calling renderTemplate")}s=s||"replaceChildren";if(h){var l=d(h);return a.h(function(){var g=c&&c instanceof a.G?c:new a.G(a.a.c(c)),r="function"==typeof b?b(g.$data,g):b,g=e(h,s,r,g,f);"replaceNode"==s&&(h=g,l=d(h))},null,{ua:function(){return !l||!a.a.va(l)},I:l&&"replaceNode"==s?l.parentNode:l})}return a.u.Ca(function(d){a.Ia(b,c,f,d,"replaceNode")})};a.$b=function(b,d,f,g,h){function l(a,b){c(b,r);f.afterRender&&f.afterRender(b,a)}function n(a,c){r=h.createChildContext(a,f.as,function(a){a.$index=c});var d="function"==typeof b?b(a,r):b;return e(null,"ignoreTargetNode",d,r,f)}var r;return a.h(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.ga(b,function(b){return f.includeDestroyed||b===q||null===b||!a.a.c(b._destroy)});a.i.p(a.a.Ja,null,[g,b,n,f,l])},null,{I:g})};var h=a.a.f.D();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.e.Z(b):(d=a.e.childNodes(b),d=a.a.Vb(d),(new a.m.W(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,g){c=a.a.c(c());d={};e=!0;var l,n=null;"string"!=typeof c&&(d=c,c=a.a.c(d.name),"if" in d&&(e=a.a.c(d["if"])),e&&"ifnot" in d&&(e=!a.a.c(d.ifnot)),l=a.a.c(d.data));"foreach" in d?n=a.$b(c||b,e&&d.foreach||[],d,b,g):e?(g="data" in d?g.createChildContext(l,d.as):g,n=a.Ia(c||b,g,d,b)):a.e.Z(b);g=n;(l=a.a.f.get(b,h))&&"function"==typeof l.B&&l.B();a.a.f.set(b,h,g&&g.aa()?g:q)}};a.g.Y.template=function(b){b=a.g.Ga(b);return 1==b.length&&b[0].unknown||a.g.Sb(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.e.P.template=!0})();a.b("setTemplateEngine",a.La);a.b("renderTemplate",a.Ia);a.a.ra=function(){function a(b,d,e,g,h){var k=Math.min,m=Math.max,f=[],p,q=b.length,l,n=d.length,r=n-q||1,v=q+n+1,t,u,w;for(p=0;p<=q;p++){for(u=t,f.push(t=[]),w=k(n,p+r),l=m(0,p-1);l<=w;l++){t[l]=l?p?b[p-1]===d[l-1]?u[l-1]:k(u[l]||v,t[l-1]||v)+1:l+1:p+1}}k=[];m=[];r=[];p=q;for(l=n;p||l;){n=f[p][l]-1,l&&n===f[p][l-1]?m.push(k[k.length]={status:e,value:d[--l],index:l}):p&&n===f[p-1][l]?r.push(k[k.length]={status:g,value:b[--p],index:p}):(--l,--p,h.sparse||k.push({status:"retained",value:d[l]}))}if(m.length&&r.length){b=10*q;var z;for(d=e=0;(h.dontLimitMoves||d<b)&&(z=m[e]);e++){for(g=0;f=r[g];g++){if(z.value===f.value){z.moved=f.index;f.moved=z.index;r.splice(g,1);d=g=0;break}}d+=g}}return k.reverse()}return function(c,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};c=c||[];d=d||[];return c.length<=d.length?a(c,d,"added","deleted",e):a(d,c,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.ra);(function(){function b(b,c,g,h,k){var m=[],f=a.h(function(){var f=c(g,k,a.a.$(m,b))||[];0<m.length&&(a.a.nb(m,f),h&&a.i.p(h,null,[g,f,k]));m.splice(0,m.length);a.a.X(m,f)},null,{I:b,ua:function(){return !a.a.Ra(m)}});return{R:m,h:f.aa()?f:q}}var c=a.a.f.D();a.a.Ja=function(d,e,g,h,k){function m(b,c){x=s[c];t!==c&&(z[b]=x);x.za(t++);a.a.$(x.R,d);r.push(x);w.push(x)}function f(b,c){if(b){for(var d=0,e=c.length;d<e;d++){c[d]&&a.a.n(c[d].R,function(a){b(a,d,c[d].fa)})}}}e=e||[];h=h||{};var p=a.a.f.get(d,c)===q,s=a.a.f.get(d,c)||[],l=a.a.ha(s,function(a){return a.fa}),n=a.a.ra(l,e,h.dontLimitMoves),r=[],v=0,t=0,u=[],w=[];e=[];for(var z=[],l=[],x,A=0,y,B;y=n[A];A++){switch(B=y.moved,y.status){case"deleted":B===q&&(x=s[v],x.h&&x.h.B(),u.push.apply(u,a.a.$(x.R,d)),h.beforeRemove&&(e[A]=x,w.push(x)));v++;break;case"retained":m(A,v++);break;case"added":B!==q?m(A,B):(x={fa:y.value,za:a.q(t++)},r.push(x),w.push(x),p||(l[A]=x))}}f(h.beforeMove,z);a.a.n(u,h.beforeRemove?a.L:a.removeNode);for(var A=0,p=a.e.firstChild(d),C;x=w[A];A++){x.R||a.a.extend(x,b(d,g,x.fa,k,x.za));for(v=0;n=x.R[v];p=n.nextSibling,C=n,v++){n!==p&&a.e.eb(d,n,C)}!x.Ob&&k&&(k(x.fa,x.R,x.za),x.Ob=!0)}f(h.beforeRemove,e);f(h.afterMove,z);f(h.afterAdd,l);a.a.f.set(d,c,r)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Ja);a.J=function(){this.allowTemplateRewriting=!1};a.J.prototype=new a.w;a.J.prototype.renderTemplateSource=function(b){var c=(9>a.a.ja?0:b.nodes)?b.nodes():null;if(c){return a.a.Q(c.cloneNode(!0).childNodes)}b=b.text();return a.a.Fa(b)};a.J.Aa=new a.J;a.La(a.J.Aa);a.b("nativeTemplateEngine",a.J);(function(){a.Ba=function(){var a=this.Rb=function(){if("undefined"==typeof u||!u.tmpl){return 0}try{if(0<=u.tmpl.tag.tmpl.open.toString().indexOf("__")){return 2}}catch(a){}return 1}();this.renderTemplateSource=function(b,e,g){g=g||{};if(2>a){throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}var h=b.data("precompiled");h||(h=b.text()||"",h=u.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=u.extend({koBindingContext:e},g.templateOptions);e=u.tmpl(h,b,e);e.appendTo(w.createElement("div"));u.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.Ba.prototype=new a.w;var b=new a.Ba;0<b.Rb&&a.La(b);a.b("jqueryTmplTemplateEngine",a.Ba)})()})})()})();(function(a){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?a(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.mapping={})})(function(c,g){function U(h,j){var f,p;for(p in j){if(j.hasOwnProperty(p)&&j[p]){if(f=g.getType(h[p]),p&&h[p]&&"array"!==f&&"string"!==f){U(h[p],j[p])}else{if("array"===g.getType(h[p])&&"array"===g.getType(j[p])){f=h;for(var x=p,z=h[p],B=j[p],C={},y=z.length-1;0<=y;--y){C[z[y]]=z[y]}for(y=B.length-1;0<=y;--y){C[B[y]]=B[y]}z=[];B=void 0;for(B in C){z.push(C[B])}f[x]=z}else{h[p]=j[p]}}}}}function d(f,h){var e={};U(e,f);U(e,h);return e}function V(j,p){for(var h=d({},j),x=r.length-1;0<=x;x--){var y=r[x];h[y]&&(h[""] instanceof Object||(h[""]={}),h[""][y]=h[y],delete h[y])}p&&(h.ignore=l(p.ignore,h.ignore),h.include=l(p.include,h.include),h.copy=l(p.copy,h.copy),h.observe=l(p.observe,h.observe));h.ignore=l(h.ignore,o.ignore);h.include=l(h.include,o.include);h.copy=l(h.copy,o.copy);h.observe=l(h.observe,o.observe);h.mappedProperties=h.mappedProperties||{};h.copiedProperties=h.copiedProperties||{};return h}function l(e,f){"array"!==g.getType(e)&&(e="undefined"===g.getType(e)?[]:[e]);"array"!==g.getType(f)&&(f="undefined"===g.getType(f)?[]:[f]);return c.utils.arrayGetDistinctValues(e.concat(f))}function i(p,E,e,F,N,O,Q){var W="array"===g.getType(c.utils.unwrapObservable(E));O=O||"";if(g.isMapped(p)){var H=c.utils.unwrapObservable(p)[u];e=d(H,e)}var K=Q||N,I=function(){return e[F]&&e[F].create instanceof Function},aa=function(h){var j=k,x=c.dependentObservable;c.dependentObservable=function(y,z,B){B=B||{};y&&"object"==typeof y&&(B=y);var ad=B.deferEvaluation,af=!1;B.deferEvaluation=!0;y=new m(y,z,B);if(!ad){var ae=y,ad=c.dependentObservable;c.dependentObservable=m;y=c.isWriteableObservable(ae);c.dependentObservable=ad;ad=m({read:function(){af||(c.utils.arrayRemoveItem(j,ae),af=!0);return ae.apply(ae,arguments)},write:y&&function(ag){return ae(ag)},deferEvaluation:!0});ad.__DO=ae;y=ad;j.push(y)}return y};c.dependentObservable.fn=m.fn;c.computed=c.dependentObservable;h=c.utils.unwrapObservable(N) instanceof Array?e[F].create({data:h||E,parent:K,skip:s}):e[F].create({data:h||E,parent:K});c.dependentObservable=x;c.computed=c.dependentObservable;return h},X=function(){return e[F]&&e[F].update instanceof Function},Y=function(h,j){var x={data:j||E,parent:K,target:c.utils.unwrapObservable(h)};c.isWriteableObservable(h)&&(x.observable=h);return e[F].update(x)};if(Q=n.get(E)){return Q}F=F||"";if(W){var W=[],T=!1,P=function(h){return h};e[F]&&e[F].key&&(P=e[F].key,T=!0);c.isObservable(p)||(p=c.observableArray([]),p.mappedRemove=function(h){var j="function"==typeof h?h:function(x){return x===P(h)};return p.remove(function(x){return j(P(x))})},p.mappedRemoveAll=function(h){var j=b(h,P);return p.remove(function(x){return -1!=c.utils.arrayIndexOf(j,P(x))})},p.mappedDestroy=function(h){var j="function"==typeof h?h:function(x){return x===P(h)};return p.destroy(function(x){return j(P(x))})},p.mappedDestroyAll=function(h){var j=b(h,P);return p.destroy(function(x){return -1!=c.utils.arrayIndexOf(j,P(x))})},p.mappedIndexOf=function(h){var j=b(p(),P);h=P(h);return c.utils.arrayIndexOf(j,h)},p.mappedGet=function(h){return p()[p.mappedIndexOf(h)]},p.mappedCreate=function(h){if(-1!==p.mappedIndexOf(h)){throw Error("There already is an object with the key that you specified.")}var j=I()?aa(h):h;X()&&(h=Y(j,h),c.isWriteableObservable(j)?j(h):j=h);p.push(j);return j});Q=b(c.utils.unwrapObservable(p),P).sort();H=b(E,P);T&&H.sort();T=c.utils.compareArrays(Q,H);Q={};var L,f=c.utils.unwrapObservable(E),ab={},ac=!0,H=0;for(L=f.length;H<L;H++){var S=P(f[H]);if(void 0===S||S instanceof Object){ac=!1;break}ab[S]=f[H]}var f=[],C=0,H=0;for(L=T.length;H<L;H++){var S=T[H],R,Z=O+"["+H+"]";switch(S.status){case"added":var G=ac?ab[S.value]:q(c.utils.unwrapObservable(E),S.value,P);R=i(void 0,G,e,F,p,Z,N);I()||(R=c.utils.unwrapObservable(R));Z=t(c.utils.unwrapObservable(E),G,Q);R===s?C++:f[Z-C]=R;Q[Z]=!0;break;case"retained":G=ac?ab[S.value]:q(c.utils.unwrapObservable(E),S.value,P);R=q(p,S.value,P);i(R,G,e,F,p,Z,N);Z=t(c.utils.unwrapObservable(E),G,Q);f[Z]=R;Q[Z]=!0;break;case"deleted":R=q(p,S.value,P)}W.push({event:S.status,item:R})}p(f);e[F]&&e[F].arrayChanged&&c.utils.arrayForEach(W,function(h){e[F].arrayChanged(h.event,h.item)})}else{if(v(E)){p=c.utils.unwrapObservable(p);if(!p){if(I()){return T=aa(),X()&&(T=Y(T)),T}if(X()){return Y(T)}p={}}X()&&(p=Y(p));n.save(E,p);if(X()){return p}w(E,function(h){var j=O.length?O+"."+h:h;if(-1==c.utils.arrayIndexOf(e.ignore,j)){if(-1!=c.utils.arrayIndexOf(e.copy,j)){p[h]=E[h]}else{if("object"!=typeof E[h]&&"array"!=typeof E[h]&&0<e.observe.length&&-1==c.utils.arrayIndexOf(e.observe,j)){p[h]=E[h],e.copiedProperties[j]=!0}else{var x=n.get(E[h]),y=i(p[h],E[h],e,h,p,j,p),x=x||y;if(0<e.observe.length&&-1==c.utils.arrayIndexOf(e.observe,j)){p[h]=x(),e.copiedProperties[j]=!0}else{if(c.isWriteableObservable(p[h])){if(x=c.utils.unwrapObservable(x),p[h]()!==x){p[h](x)}}else{x=void 0===p[h]?x:c.utils.unwrapObservable(x),p[h]=x}e.mappedProperties[j]=!0}}}}})}else{switch(g.getType(E)){case"function":X()?c.isWriteableObservable(E)?(E(Y(E)),p=E):p=Y(E):p=E;break;default:if(c.isWriteableObservable(p)){return R=X()?Y(p):c.utils.unwrapObservable(E),p(R),R}I()||X();p=I()?aa():c.observable(c.utils.unwrapObservable(E));X()&&p(Y(p))}}}return p}function t(h,j,f){for(var p=0,x=h.length;p<x;p++){if(!0!==f[p]&&h[p]===j){return p}}return null}function A(f,h){var e;h&&(e=h(f));"undefined"===g.getType(e)&&(e=f);return c.utils.unwrapObservable(e)}function q(h,j,e){h=c.utils.unwrapObservable(h);for(var p=0,x=h.length;p<x;p++){var y=h[p];if(A(y,e)===j){return y}}throw Error("When calling ko.update*, the key '"+j+"' was not found!")}function b(e,f){return c.utils.arrayMap(c.utils.unwrapObservable(e),function(h){return f?A(h,f):h})}function w(f,h){if("array"===g.getType(f)){for(var e=0;e<f.length;e++){h(e)}}else{for(e in f){h(e)}}}function v(e){var f=g.getType(e);return("object"===f||"array"===f)&&null!==e}function J(){var e=[],f=[];this.save=function(h,j){var p=c.utils.arrayIndexOf(e,h);0<=p?f[p]=j:(e.push(h),f.push(j))};this.get=function(h){h=c.utils.arrayIndexOf(e,h);return 0<=h?f[h]:void 0}}function D(){var e={},f=function(h){var j;try{j=h}catch(p){j="$$$"}h=e[j];void 0===h&&(h=new J,e[j]=h);return h};this.save=function(h,j){f(h).save(h,j)};this.get=function(h){return f(h).get(h)}}var u="__ko_mapping__",m=c.dependentObservable,a=0,k,n,r=["create","update","key","arrayChanged"],s={},M={include:["_destroy"],ignore:[],copy:[],observe:[]},o=M;g.isMapped=function(e){return(e=c.utils.unwrapObservable(e))&&e[u]};g.fromJS=function(j){if(0==arguments.length){throw Error("When calling ko.fromJS, pass the object you want to convert.")}try{a++||(k=[],n=new D);var p,h;2==arguments.length&&(arguments[1][u]?h=arguments[1]:p=arguments[1]);3==arguments.length&&(p=arguments[1],h=arguments[2]);h&&(p=d(p,h[u]));p=V(p);var x=i(h,j,p);h&&(x=h);if(!--a){for(;k.length;){var y=k.pop();y&&(y(),y.__DO.throttleEvaluation=y.throttleEvaluation)}}x[u]=d(x[u],p);return x}catch(z){throw a=0,z}};g.fromJSON=function(e){var f=c.utils.parseJson(e);arguments[0]=f;return g.fromJS.apply(this,arguments)};g.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")};g.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")};g.toJS=function(e,f){o||g.resetDefaultOptions();if(0==arguments.length){throw Error("When calling ko.mapping.toJS, pass the object you want to convert.")}if("array"!==g.getType(o.ignore)){throw Error("ko.mapping.defaultOptions().ignore should be an array.")}if("array"!==g.getType(o.include)){throw Error("ko.mapping.defaultOptions().include should be an array.")}if("array"!==g.getType(o.copy)){throw Error("ko.mapping.defaultOptions().copy should be an array.")}f=V(f,e[u]);return g.visitModel(e,function(h){return c.utils.unwrapObservable(h)},f)};g.toJSON=function(f,h){var e=g.toJS(f,h);return c.utils.stringifyJson(e)};g.defaultOptions=function(){if(0<arguments.length){o=arguments[0]}else{return o}};g.resetDefaultOptions=function(){o={include:M.include.slice(0),ignore:M.ignore.slice(0),copy:M.copy.slice(0)}};g.getType=function(e){if(e&&"object"===typeof e){if(e.constructor===Date){return"date"}if(e.constructor===Array){return"array"}}return typeof e};g.visitModel=function(f,h,e){e=e||{};e.visitedObjects=e.visitedObjects||new D;var j,p=c.utils.unwrapObservable(f);if(v(p)){e=V(e,p[u]),h(f,e.parentName),j="array"===g.getType(p)?[]:{}}else{return h(f,e.parentName)}e.visitedObjects.save(f,j);var x=e.parentName;w(p,function(y){if(!(e.ignore&&-1!=c.utils.arrayIndexOf(e.ignore,y))){var C=p[y],z=e,B=x||"";"array"===g.getType(p)?x&&(B+="["+y+"]"):(x&&(B+="."),B+=y);z.parentName=B;if(!(-1===c.utils.arrayIndexOf(e.copy,y)&&-1===c.utils.arrayIndexOf(e.include,y)&&p[u]&&p[u].mappedProperties&&!p[u].mappedProperties[y]&&p[u].copiedProperties&&!p[u].copiedProperties[y]&&"array"!==g.getType(p))){switch(g.getType(c.utils.unwrapObservable(C))){case"object":case"array":case"undefined":z=e.visitedObjects.get(C);j[y]="undefined"!==g.getType(z)?z:g.visitModel(C,h,e);break;default:j[y]=h(C,e.parentName)}}}});return j}});(function(a){function d(g){switch(g.genericCommand){case"Refresh":window.location.replace(document.location.href);return true;case"Redirect":if(g.Url==null){throw new Error("Redirect command without URL specified")}window.location.replace(g.Url);return true;case"AuthenticationLost":case"AuthorizationLost":alert(app.texts[g.genericCommand]);return true;case"EnterpriseGlossaryNotFound":alert(app.texts[g.genericCommand]);window.location.replace("/Enterprise/Glossaries");return true;case"EnterpriseAccountDeactivated":var k=app.texts[g.genericCommand],j=k.text.replace("{0}",g.accountName),h=a("<a class='g-red-link'></a>");h.attr("href","mailto:"+g.mailToAddress);h.text(g.mailToTitle);a.showInfoPopup(a.extend({},k,{text:a("<span></span>").text(j).add(a("<br>")).add(h)}),function(){window.onbeforeunload=null;window.location.reload()});return true;default:return false}}function f(h){if(windowIsUnloading){return}var g=app.texts.AjaxErrorMessage;if(a.type(h)=="string"){if(h.startsWith("https:")&&(window.location.protocol=="http:")){g=app.texts.HttpsAjaxErrorMessage}}alert(g);a(document.body).removeClass("g-waiting")}var e=[];a.registerAjaxPostFilter=function(g){if(typeof g!="function"){throw new Error("Filter must be a function")}e.push(g)};var c={};a.registerAjaxErrorFilter=function(h,g){if(typeof g!="function"){throw new Error("Filter must be a function")}c[h]=c[h]||[];c[h].push(g)};var b=a.ajax;a.ajax=function(q,r){var m,p,j;if(a.type(q)=="string"){p=q;m=r}else{m=q}if(m==null){m={}}if(p!=null){m.url=q}if(a.type(m.url)!="string"||m.url==""){throw new Error("URL is missing")}var k={};k["random_"+getUniqueString()]=1;m.url=a.param.querystring(m.url,k);var o=!!m.track;delete m.track;var g=m.completing;delete m.completing;var n=m.success;m.success=function(s,z,v){a(document.body).removeClass("g-waiting");if(typeof g=="function"){g()}var t=s;if(a.type(s)!="object"){var w=v.getResponseHeader("Content-Type");var x=w!=null&&w.startsWith("application/json");if(a.type(s)=="string"&&x){t=a.parseJSON(s)}else{t=null}}if(t!=null){if(d(t)){return}}for(j=0;j<e.length;j++){var u=e[j];if(u(t,z,v)){return}}if(typeof n=="function"){n(s,z,v)}else{if(n instanceof Array){for(j=0;j<n.length;j++){var y=n[j];if(typeof y=="function"){y(s,z,v)}}}}};var h=m.error;m.error=function(v,w,t){a(document.body).removeClass("g-waiting");if(typeof g=="function"){g()}if(typeof h=="function"){h(v,w,t)}else{if(h instanceof Array){for(var u=0;u<h.length;u++){var s=h[u];if(typeof s=="function"){s(v,w,t)}}}}};if(m.url.toLowerCase().indexOf("/signalr")==-1){a(document.body).addClass("g-waiting")}var l=b(m);if(o&&window.yaCounter!=null){window.yaCounter.hit(m.url)}return l};a.ajaxTransport("+script",function(l){if(!l.crossDomain){return null}if(a.type(l.jsonpCallback)!="string"){return null}var g=false;var k=window[l.jsonpCallback];window[l.jsonpCallback]=function(n){g=true;k(n)};var j=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var m;function h(){if(m){m.onload=m.onreadystatechange=m.onerror=null;if(j&&m.parentNode){j.removeChild(m)}m=null}}return{send:function(n,o){m=document.createElement("script");m.async="async";m.src=l.url;if(l.scriptCharset){m.charset=l.scriptCharset}m.onload=function(){h();o(200,"success")};m.onerror=function(){h();o(500,"error");f(l.url)};if(typeof(m.onreadystatechange)!="undefined"){m.onreadystatechange=function(){if(m.readyState!=null&&/loaded|complete/.test(m.readyState)){if(g){m.onload()}else{m.onerror()}}}}j.insertBefore(m,j.firstChild)},abort:h}});a(document).ajaxError(function(h,k){var g=c[k.status];if(g){for(i=0;i<g.length;i++){var j=g[i];if(j(k)){return}}}if(!k.suppressAjaxError){f()}})})(jQuery);$(function(){function a(b,g,h){if(typeof(h)=="undefined"){h=true}var d=b.find(".js-dynamic-errors");if(g.Errors&&d.length==1){for(var e in g.Errors){if(g.Errors[e]!=null&&g.Errors[e]!=""){var c=$('<p class="js-error-ajax-form" />').attr("data-key",e).text(g.Errors[e]);d.smoothMessages("add",c)}}}if(g.Message){var f=b.find(".js-ajax-response-message").removeClass("error").addClass("success").html(g.Message).show();if(h){f.delay(4000).slideUp(1000)}}}window.presentRequestResult=a;$(".js-ajax-form-submit").live("submit.ajaxForm",function(b){b.preventDefault();var d=$(this);var g=d.data("submitOneTimeHandler");if(typeof(g)=="function"){g();d.removeData("submitOneTimeHandler");return false}d.find(".js-dynamic-errors .js-error-ajax-form").remove();var f=d.serialize();var h=d.data("postback-data");if(h!=null){f=$.extend(f,h)}var c=$.Event("beforeAjaxRequest");d.trigger(c);if(c.isDefaultPrevented()){return false}var j=d.data("use-json");var i={url:d.attr("action"),type:"POST",data:j?JSON.stringify(f):f,success:function(e){a(d,e,d.data("slideUp"));d.trigger("ajaxResponse",e)}};if(j){i.contentType="application/json"}$.ajax(i);return false});window.confirmedPostback=function(e){e=$.extend({popup:$(".js-popup-confirm")},e);var f=e.popup;var c=f.find(".js-dynamic-errors");if(!f.data("errorsInitialized")){c.smoothMessages("init",{selectorPrefix:".js-error-"});f.data("errorsInitialized",true)}c.hide().children().remove();f.find(".js-header").html(e.texts.header).show();f.find(".js-confirm-text").html(e.texts.message).show();var g=f.find(".js-submit-btn").val(e.texts.button).trigger("changeVal.btn");var b=f.find(".js-cancel-btn").show();var d=f.find("form").attr("action",e.url).data("postback-data",e.data).data("use-json",e.useJson).data("slideUp",false);d.unbind("beforeAjaxRequest").bind("beforeAjaxRequest",function(){b.hide()});d.unbind("ajaxResponse").bind("ajaxResponse",function(h,i){if(e.responseHandler){i=e.responseHandler(i)}if(i.Success||i.success){f.popup("hide")}else{g.val(g.data("close-text")).trigger("changeVal.btn");d.data("submitOneTimeHandler",function(){f.popup("hide")})}if(e.completeCallback){e.completeCallback(i,f)}});b.unbind("click").bind("click",function(){if(e.completeCallback){e.completeCallback({Success:false})}});f.bind("afterClosePopup",function(){d.removeData("submitOneTimeHandler")});f.popup("show")}});$(function(){$(document).on("click",".js-captcha-refresh",function(){var a=$(this).siblings("img");if(a.length==1){var c=a.attr("src").split("?");var d=c[0];var e=c.length>1?"?"+c[1]:"";var b=d.replace(/\/[^\/]*$/,"/")+getUniqueString()+e;a.attr("src",b)}})});var app=app||{};app.utils=app.utils||{};(function(a,b){b.actionWithConfirmation=function(g,c,d){var e=a(".js-popup-confirm");e.find(".js-header").html(g.ConfirmHeader);e.find(".js-confirm-text").html(g.ConfirmMessage);var f=e.find(".js-submit-btn");b.setButtonEnabled(f,true);f.val(g.ConfirmButton).trigger("changeVal.btn");f.unbind("click").click(function(h){h.preventDefault();if(f.hasClass("disable")){return false}b.setButtonEnabled(f,false);c(e);return false});e.find(".js-popup-close").unbind("click").click(function(){if(d){d()}});e.popup("show")}})(jQuery,app.utils);$(function(){var b=$(".js-feedback-popup");if(b.length==0){return}b.popup("setup",{resetOnHide:true,initFunction:d});var e=[".js-menuitem-Feedback",".js-menuitem-Question",".js-menuitem-ErrorReport"];var f=".js-menuitem-";var a="active";var g="feedbacksent";function d(){var j=b.find("form");var k=j.find(".js-feedback-message");var q=j.find(".js-feedback-subject");var r=j.find(".js-button-send-new-feedback");function o(){q.maxLength(100);k.maxLength(5000)}function i(){b.popup("hide")}function m(){function w(y,x){if(y===x){j.find(y).toggleClass(a,true)}else{j.find(y).toggleClass(a,false)}}function v(y){for(var x=0;x<e.length;x++){w(e[x],y)}}function t(x){return function(){v(x);return false}}for(var u=0;u<e.length;u++){j.find(e[u]).click(t(e[u]))}}function n(){k.keyup(function(){s()});function t(){var u;for(u=0;u<e.length;u++){if(j.find(e[u]).hasClass(a)){var v=e[u].substring(f.length);return v}}return null}r.click(function(){if(r.hasClass("disable")){return false}var w=t();var v=q.val();var u=k.val();var x="/api/supportproxy/newissue?type="+w+"&summary="+v;$.ajax({url:x,type:"POST",data:{description:u},success:function(){i();p(true)},error:function(y){y.suppressAjaxError=true;p(false)}});return false})}function s(){var t=k.val().trim()!="";var u=t?"":app.texts.feedbackMessageEmpty;r.attr("title",u);r.toggleClass("disable",!t)}function p(t){var u={id:new Date().getTime(),type:g,success:t};app.controllers.NotificationsList.addNotification(u);if(t){setTimeout(function(){app.controllers.NotificationsList.removeNotification(u)},10000)}}function l(){j.find(".js-feedback-cancel").click(function(){i();return false})}s();o();m();n();l()}var c=function(i){ko.mapping.fromJS({id:i.Id,message:i.success?app.texts.feedbackSuccess:app.texts.feedbackFail,actions:i.success?[{name:app.texts.showFeedbackList,onClick:function(){window.open(app.data.support.feedbackListUrl,"_blank")}}]:[{name:app.texts.close,onClick:function(){app.controllers.NotificationsList.removeNotification(i)}}]},{},this)};function h(){app.controllers.NotificationsList.registerNotificationType(g,null,c)}h()});$(function(){$(".js-jq-watermark").watermark();$(".js-sortable-table").each(function(){var c=$(this),b=c.data("sort-action"),a=c.data("sort-form");if(b){c.sortableTable().byGetRequest(b);return true}else{if(a){c.sortableTable().byFormPostback($("#"+a))}}})});$(function(){ko.bindingHandlers.stopBubble={init:function(a){ko.utils.registerEventHandler(a,"click",function(b){b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}})}}});$(function(){var c={select:"js-minilang",text:"js-minilang-text",list:"js-minilang-list",option:"js-minilang-item",open:"open",hide:"g-hidden"};c.openSelect=c.select+"."+c.open;function a(d){$(d).removeClass(c.open).css("zIndex","").find("."+c.list).addClass(c.hide)}function b(d){$(d).addClass(c.open).css("zIndex",10).find("."+c.list).removeClass(c.hide)}$("."+c.select).click(function(){var g=$(this);var d=g.hasClass(c.open);var e=g.find("."+c.text).data("lang");var f=g.find("."+c.option);a("."+c.openSelect);if(d){a("."+c.openSelect)}else{f.removeClass("selected").filter('[data-lang="'+e+'"]').addClass("selected");b(g)}return false}).change(function(d){if(d.internalEvent){return false}var f=$(this);f.text=f.find("."+c.text);f.val=f.data("value");f.text.data("lang",f.val).html(f.val)});$("."+c.option).click(function(){var d=$(this);var f=d.closest("."+c.select);var g=f.find("."+c.text);var e=d.data("lang");g.html(e).data("lang",e);f.data("value",e).trigger({type:"change",internalEvent:true})});$("body").bind("keydown keyup",function(d){if(d.keyCode==27){a("."+c.openSelect)}}).bind("click",function(){a("."+c.openSelect)})});$(function(){var d=$(".js-popup-profile");if(d.length==0){return}function c(e){if(!e.prop("required")){return false}var f=e.val();if(e.attr("type")!="password"){f=f.trim()}return f==""}function a(){d.find("form").each(b)}function b(){var l=$(this);var k=l.find("input[name='email']"),j=l.find(".js-dynamic-errors"),p=l.find(".js-save"),o=l.find("input[name='password']"),n=l.find("input[name='newPassword'], input[name='confirmPassword']"),e=k.add(o).add(n);if(k.length>0){k.data("val",k.val())}j.children().addClass("g-hidden");j.smoothMessages("init",{selectorPrefix:".js-error-"});function m(){if(k.length>0&&k.data("val")!=k.val().trim()){return true}var r=false;n.each(function(){var s=$(this);if(s.val().length>0){r=true}});return r}function q(){var s=!j.smoothMessages("checkAny");var r=s&&m();e.each(function(){if(c($(this))){r=false}});p.toggleClass("disable",!r);p.find("input").enable(r)}function f(s){if(k.length==0){return}if(!j.smoothMessages("check","email")&&s){return}var r=k.val().trim();var t=r==""||$.isValidEMail(r);k.toggleModelError("email",!t);j.smoothMessages("toggle","email",!t);q()}function g(r){if(!j.smoothMessages("check","empty")&&r){return}var s=false;e.each(function(){var t=$(this);if(c(t)){t.toggleModelError("empty",true);s=true}else{t.toggleModelError("empty",false)}});j.smoothMessages("toggle","empty",s);q()}function h(u){if(n.length==0){return}if(!j.smoothMessages("check","password-mismatch")&&u){return}var t=n.eq(0).val(),r=n.eq(1).val();if(t==""||r==""){return}var s=t!=r;j.smoothMessages("toggle","password-mismatch",s);n.toggleModelError("password-mismatch",s);q()}function i(s){if(n.length==0){return}if(!j.smoothMessages("check","password-short")&&s){return}var r=n.eq(0).val().length<6;j.smoothMessages("toggle","password-short",r);n.eq(0).toggleModelError("password-short",r);q()}e.bindInputEvents(function(){q();g(true)});k.bind("blur",function(){k.val(k.val().trim())});k.bindInputEvents(function(){j.smoothMessages("hide","email-exists");g(true);f(true)});k.bind("blur",function(){f()});o.bindInputEvents(function(){o.toggleModelError("password",false);j.smoothMessages("hide","password")});n.bind("blur",function(){i();h()});n.bindInputEvents(function(){g(true);i(true);h(true)});p.find("input").click(function(){$.ajax({type:l.attr("method"),url:l.attr("action"),data:l.serialize(),success:function(r){if(r.Success){d.find(".js-popupbox-bd").html(r.Html);d.find(".js-success-ok").click(function(){window.location.reload(true)});d.bind("beforeClosePopup",function(){window.location.reload(true)});d.popup("resize",window.AnimationDuration)}else{showModelErrors(r.Errors,l,j);q()}}});return false})}d.popup("setup",{resetOnHide:true,initFunction:a});$(".js-link-profile").click(function(){d.popup("show");return false})});var app=app||{};app.controllers=app.controllers||{};(function(a,b){var c=app.controllers.create.withRootElement({elements:{container:".js-search-panel-cont",form:".js-search-form",longForm:".js-srcpanel-long",shortForms:".js-srcpanel-short",hdnSearchMode:"#searchMode",searchModeTabs:".js-search-menu",btnSearch:".js-search-button",searchTypeSwitches:".js-type-search",advancedSearchPanel:".js-advanced-search"},events:{"focus .js-source-text,.js-target-text":function(d){var f=a(d.target);var g=app.controllers.VirtualKeyboard;if((!g||!g.isVisible())&&typeof(d.fromVirtKeyboard)=="undefined"&&f.val().length!=0){f.select()}},"keydown .js-source-text,.js-target-text":function(d){if(d.keyCode==13){d.preventDefault();this.form.submit();return false}},"paste .js-source-text,.js-target-text":function(d){var f=a(d.target);setTimeout(function(){f.change()},300)},"change .js-source-text,.js-target.text,.js-source-lang,.js-target-lang":function(){this.searchModeTabs.each(this.proxy(function(e,d){var f=a(d).find(".js-link");f.attr("href",this.buildSearchUrl(f.parent().data("search-mode")))}));this.longFormControls.tbSearchText.attr("lang",this.getSelectedLanguage(this.longFormControls.ctrlSourceLang));this.longFormControls.tbTranslation.attr("lang",this.getSelectedLanguage(this.longFormControls.ctrlTargetLang))},"click .js-swap-trigger:not(.disabled)":function(f){var d=a(f.target).closest(".js-swap-container");var g=d.find(".js-swap-first");var i=d.find(".js-swap-second");if(g.is("select")){var h=g.val();var j=i.val();g.val(j).change();i.val(h).change()}else{var h=g.data("value");var j=i.data("value");g.data("value",j).trigger("change");i.data("value",h).trigger("change")}},"click .js-search-menu .js-link":function(h){var d=this.getActiveSearchForm();if(a.trim(this.getFormControls(d).tbSearchText.val()).length==0){h.preventDefault();var j=this.searchModeTabs.filter(".active").parent();j.find(".js-text").addClass("g-hidden").removeClass("active").end().find(".js-link").removeClass("g-hidden");var f=a(h.target),g=f.parent(),i=g.data("search-mode");g.addClass("active").siblings().removeClass("active");f.addClass("g-hidden");g.find(".js-text").removeClass("g-hidden").addClass("active");this.hdnSearchMode.val(i);this.btnSearch.val(g.data("submit-button-value")).trigger("changeVal.btn");if(i=="Examples"){this.searchTypeSwitches.filter(".advanced").removeClass("g-hidden")}else{this.longFormControls.tbTranslation.val("").trigger("keyup.watermark");this.searchTypeSwitches.addClass("g-hidden");this.advancedSearchPanel.slideUp(window.AnimationDuration)}var l=this.$("select.js-target-lang");var k=this.$(".js-swap-trigger");if(i=="Interpret"){l.attr("disabled","disabled").change();k.addClass("disabled")}else{if(l.is(":disabled")){l.removeAttr("disabled").change();k.removeClass("disabled")}}var d=this.getActiveSearchForm();if(d!=this.longForm){this.shortForms.addClass("g-hidden").removeClass("active");d.removeClass("g-hidden").addClass("active")}return false}},"click .js-type-search":function(d){d.preventDefault();this.longFormControls.tbTranslation.val("").trigger("keyup.watermark");this.searchTypeSwitches.toggleClass("g-hidden");this.advancedSearchPanel.slideToggle(window.AnimationDuration);return false},"submit .js-search-form":function(d){d.preventDefault();window.location.href=this.buildSearchUrl();return false}},init:function(){this.longFormControls=this.getFormControls(this.longForm);if(!/mobile/.test(navigator.userAgent.toLowerCase())){a(window||document).scroll(this.proxy(this.switchFormsOnScroll))}this.$(".js-source-text").each(function(){a(this).autosize({callback:function(){a(this).css({opacity:1})}})});var d=this.$("#ActualSearchText").contents().text();var e=this.$("#ActualTranslation").contents().text();if(e){this.longFormControls.tbTranslation.val(e)}if(d){this.longFormControls.tbSearchText.val(d)}this.longFormControls.tbSearchText.maxLength(150).focus().select();this.setSelectedLanguage(this.longFormControls.ctrlSourceLang,this.$("#ActualSrcLang").contents().text());this.setSelectedLanguage(this.longFormControls.ctrlTargetLang,this.$("#ActualTargetLang").contents().text());if(/mobile.*safari/i.test(navigator.userAgent.toLowerCase())){a('<span class="g-srcpanel__ipad-clearicon"><span class="g-bg icon"></span></span>').click(function(f){f.preventDefault();a(this).prev("textarea").val("").focus().trigger("keyup.watermark");return false}).insertAfter(this.longFormControls.tbTranslation.add(this.longFormControls.tbSearchText))}if(this.hdnSearchMode.val()=="Interpret"){this.$("select.js-target-lang").attr("disabled","disabled").change()}},getFormControls:function(d){return{tbSearchText:d.find(".js-source-text"),tbTranslation:d.find(".js-target-text"),ctrlSourceLang:d.find(".js-source-lang"),ctrlTargetLang:d.find(".js-target-lang")}},buildSearchUrl:function(e){if(!e){e=this.hdnSearchMode.val()}var d=this.getFormControls(this.getActiveSearchForm()),g=this.getSelectedLanguage(d.ctrlSourceLang).replace("-",""),h=this.getSelectedLanguage(d.ctrlTargetLang).replace("-",""),i=a.trim(d.tbSearchText.val()),j=a.trim(d.tbTranslation.val());var k,f;if(i.match(/^[\w\- \u0080-\uFFFF]{1,100}$/)&&!i.match(/^(COM[1-9]|LPT[1-9]|CON|AUX|PRN|NUL|BIN)$/i)){k="/"+e+"/"+g+"-"+h+"/"+encodeURIComponent(i);f="?"}else{k="/Search?searchMode="+e+"&searchSrcLang="+g+"&searchDestLang="+h+"&searchText="+encodeURIComponent(i);f="&"}if(j){k+=f+"translation="+encodeURIComponent(j)}return k},getActiveSearchForm:function(){var d=this.container.hasClass("active");return d?this.shortForms.filter("."+this.hdnSearchMode.val()):this.longForm},switchFormsOnScroll:function(){var i=a(window||document).scrollTop();var e={top:this.element.offset().top,height:this.element.height()};var d=this.getActiveSearchForm();if(i>e.top&&(d==this.longForm)){this.container.addClass("active");this.element.height(e.height);this.longForm.addClass("g-hidden");var g=this.getActiveSearchForm();g.removeClass("g-hidden").addClass("active");this.copyFormValues(this.longFormControls,this.getFormControls(g))}else{if(i<=e.top&&(d!=this.longForm)){var g=d;this.element.height("auto");this.container.removeClass("active");this.longForm.removeClass("g-hidden");g.addClass("g-hidden").removeClass("active");var h=this.getFormControls(g);this.copyFormValues(h,this.longFormControls);var f=Boolean(h.tbTranslation.val());this.advancedSearchPanel.toggle(f);if(this.hdnSearchMode.val()=="Examples"){this.searchTypeSwitches.filter(".advanced").toggleClass("g-hidden",f).end().filter(".simple").toggleClass("g-hidden",!f)}else{this.searchTypeSwitches.toggleClass("g-hidden",true)}}}},getSelectedLanguage:function(d){return d.is("select")?d.val():d.data("value")},setSelectedLanguage:function(d,e){if(d.is("select")){d.val(e)}else{d.data("value",e)}d.trigger("change")},copyFormValues:function(d,e){e.tbSearchText.val(d.tbSearchText.val()).trigger("focus").trigger("autosize");e.tbTranslation.val(d.tbTranslation.val()).trigger("focus").trigger("autosize");this.setSelectedLanguage(e.ctrlSourceLang,this.getSelectedLanguage(d.ctrlSourceLang));this.setSelectedLanguage(e.ctrlTargetLang,this.getSelectedLanguage(d.ctrlTargetLang))}});a(function(){var d=a(".js-search-panel-box");if(d.length==0){return}b.SearchPanel=new c(d);a(".js-empty-icon-box").padWindowHeight()})})(jQuery,app.controllers);function showModelErrors(b,g,a){for(var e in b){var f=g.find("input[name]").filter(function(){return $(this).attr("name").toLowerCase()==e.toLowerCase()});var d=b[e];for(var c=0;c<d.length;c++){f.toggleModelError(d[c],true);a.smoothMessages("show",d[c])}}};$(function(){$(".js-corp-account").click(function(a){var b=$(a.target).parents().andSelf();if(b.filter("a").length==1){return true}a.stopImmediatePropagation();if(b.filter(".js-tools-toggler").length==0&&b.filter(".js-ent-account-tools").length!=0){return false}$(this).toggleClass("open");return false});$(".js-ent-accounts-list li").click(function(){var a=$(this).html();var b=$(this).attr("data-value");$(".js-selected-account").html(a);$("#account").val(b);$.get("/api/auth/ChangeAccount",{accountName:b},function(c){if(c.success){if(c.redirectTo){window.location.href=c.redirectTo}else{window.location.reload()}}})});$(document).bind("click",function(a){$(".js-corp-account").removeClass("open")}).bind("keydown keyup",function(a){if(a.keyCode==27){$(".js-corp-account").removeClass("open")}});$(".js-set-locale").click(function(){$.cookie("uiCulture",$(this).data("locale"),{path:"/"});window.location.reload()})});$(function(){$(".js-allbtn").live("changeVal.btn",function(){var a=$(this);a.siblings(".js-allbtntext").html(a.val())})});var now=new Date();$.cookie("tz",-now.getTimezoneOffset(),{path:"/"});var app=app||{};app.controllers=app.controllers||{};(function(a,c){var d=function(){var f=this;a.extend(f,{maxVisibleTasksCount:ko.observable(5),tasks:ko.observableArray([]),visibleTasks:ko.computed({read:function(){var g=f.tasks().slice(0,f.maxVisibleTasksCount()).reverse();return a.map(g,function(i){var h=c.NotificationsList.notificationTypes[i.type];if(!h||typeof(h.modelType)!="function"){throw new "Invalid notification type - "+i.type}return new h.modelType(i)})},deferEvaluation:true}),bringToFront:function(h){var k=this.tasks();for(var g=0;g<k.length;g++){if(k[g].id==h){var j=k[g];this.tasks.splice(g,1);this.tasks.unshift(j);break}}},isInFront:function(g){var h=this.visibleTasks();if(h.length==0){return false}return h[h.length-1].id()==g},reload:function(){var h=[];var g=a.map(c.NotificationsList.notificationTypes,function(i){if(i.url){return a.getJSON(i.url,function(j){h=h.concat(j)})}});a.when.apply(a,g).then(function(){h=h.sort(function(i){return new Date(i.lastStateChangeTime)}).reverse();f.tasks(h)})}})};var b=a("#notifications-block");function e(){var f=a(".g-body");var g=f.offset().left+f.width()-b.width()-40;b.css({left:g+"px"})}c.NotificationsList={initialize:function(){e();a(window).resize(e);this.model=new d();this.model.reload();ko.applyBindings(this.model,b.get(0));b.show()},reload:function(){this.model.reload()},notificationTypes:{},registerNotificationType:function(g,h,f){if(typeof(f)!="function"){throw"Viewmodel type should be provided for notification type"}this.notificationTypes[g]={url:h,modelType:f}},removeNotification:function(f){this.model.tasks.remove(f)},addNotification:function(f){this.model.tasks.push(f)}}})(jQuery,app.controllers);$(function(){$.registerAjaxErrorFilter(403,function(e){if(!e.responseText){return false}var d=$.parseJSON(e.responseText);if(d.SessionIsInvalid&&d.RedirectUrl){window.location.replace(d.RedirectUrl);return true}return false});$.registerAjaxPostFilter(function(d,f,e){if(e.getResponseHeader("X-License-Lost")){window.location.reload();return true}});var a=app.controllers.create.withRootElement({elements:{message:".js-limited-access-msg",inProgressMessage:".js-get-license-in-progress"},events:{"click .js-try-get-license-btn":function(d){d.preventDefault();this.message.hide();this.inProgressMessage.show();$.ajax({url:"/api/sessions/TryUpgradeLicense?checkAccessRights="+this.checkAccessRights+"&required="+this.licenseType,type:"POST",success:this.proxy(function(e){switch(e){case app.enums.UpgradeLicenseAttemptResult.NoAvailableLicense:this.message.show();break;case app.enums.UpgradeLicenseAttemptResult.Success:window.location.reload();break;case app.enums.UpgradeLicenseAttemptResult.InsufficientAccessRights:break;default:throw"Unexpected upgrate license attempt result: "+e}}),completing:this.proxy(function(){this.inProgressMessage.hide()})});return false}},init:function(e,f,d){this.licenseType=f;this.checkAccessRights=d}});var c=$(".js-limited-access-block");if(c.length>0){new a(c,app.enums.LicenseType.Full,true)}var b=$(".js-lingvo-limited-access-block");if(b.length>0){new a(b,app.enums.LicenseType.LingvoDictionaries,false)}});var app=app||{};app.utils=app.utils||{};(function(a,b){b.setButtonEnabled=function(c,d){if(d){c.removeClass("disable")}else{c.addClass("disable")}}})(jQuery,app.utils);$(function(){$(".js-warning-close").click(function(){var a=$(this).closest(".js-warning-box");a.slideUp(window.AnimationDuration);return false})});$(function(){var a=window.lingvopro_callbacks;if(!(a instanceof Array)){return}for(var b=0;b<a.length;b++){a[b]()}});